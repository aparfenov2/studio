(self.webpackChunk=self.webpackChunk||[]).push([[1961],{31692:(U,ve,m)=>{"use strict";m.d(ve,{Z:()=>qe});var g=m(31461),N=m(7896),R=m(2784),A=m(40489),E=m(69075),T=m(47591),B=m(18205),S=m(43853),D=m(6620),L=m(52322);const C=(0,D.Z)((0,L.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"RadioButtonUnchecked"),z=(0,D.Z)((0,L.jsx)("path",{d:"M8.465 8.465C9.37 7.56 10.62 7 12 7C14.76 7 17 9.24 17 12C17 13.38 16.44 14.63 15.535 15.535C14.63 16.44 13.38 17 12 17C9.24 17 7 14.76 7 12C7 10.62 7.56 9.37 8.465 8.465Z"}),"RadioButtonChecked");var W=m(65992);const ee=(0,W.ZP)("span")({position:"relative",display:"flex"}),he=(0,W.ZP)(C)({transform:"scale(1)"}),re=(0,W.ZP)(z)(({theme:ue,ownerState:Ze})=>(0,N.Z)({left:0,position:"absolute",transform:"scale(0)",transition:ue.transitions.create("transform",{easing:ue.transitions.easing.easeIn,duration:ue.transitions.duration.shortest})},Ze.checked&&{transform:"scale(1)",transition:ue.transitions.create("transform",{easing:ue.transitions.easing.easeOut,duration:ue.transitions.duration.shortest})}));function j(ue){const{checked:Ze=!1,classes:Ue={},fontSize:Ye}=ue,ct=(0,N.Z)({},ue,{checked:Ze});return(0,L.jsxs)(ee,{className:Ue.root,ownerState:ct,children:[(0,L.jsx)(he,{fontSize:Ye,className:Ue.background,ownerState:ct}),(0,L.jsx)(re,{fontSize:Ye,className:Ue.dot,ownerState:ct})]})}const Y=j;var Z=m(7342),X=m(5209),te=m(64770);function ae(){return R.useContext(te.Z)}var be=m(69222),de=m(15672);function Ae(ue){return(0,de.Z)("MuiRadio",ue)}const Oe=(0,be.Z)("MuiRadio",["root","checked","disabled","colorPrimary","colorSecondary"]),He=["checked","checkedIcon","color","icon","name","onChange","size","className"],Ke=ue=>{const{classes:Ze,color:Ue}=ue,Ye={root:["root",`color${(0,Z.Z)(Ue)}`]};return(0,N.Z)({},Ze,(0,E.Z)(Ye,Ae,Ze))},Je=(0,W.ZP)(B.Z,{shouldForwardProp:ue=>(0,W.FO)(ue)||ue==="classes",name:"MuiRadio",slot:"Root",overridesResolver:(ue,Ze)=>{const{ownerState:Ue}=ue;return[Ze.root,Ze[`color${(0,Z.Z)(Ue.color)}`]]}})(({theme:ue,ownerState:Ze})=>(0,N.Z)({color:(ue.vars||ue).palette.text.secondary},!Ze.disableRipple&&{"&:hover":{backgroundColor:ue.vars?`rgba(${Ze.color==="default"?ue.vars.palette.action.activeChannel:ue.vars.palette[Ze.color].mainChannel} / ${ue.vars.palette.action.hoverOpacity})`:(0,T.Fq)(Ze.color==="default"?ue.palette.action.active:ue.palette[Ze.color].main,ue.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},Ze.color!=="default"&&{[`&.${Oe.checked}`]:{color:(ue.vars||ue).palette[Ze.color].main}},{[`&.${Oe.disabled}`]:{color:(ue.vars||ue).palette.action.disabled}}));function _(ue,Ze){return typeof Ze=="object"&&Ze!==null?ue===Ze:String(ue)===String(Ze)}const ce=(0,L.jsx)(Y,{checked:!0}),ge=(0,L.jsx)(Y,{}),qe=R.forwardRef(function(Ze,Ue){var Ye,ct;const oe=(0,S.Z)({props:Ze,name:"MuiRadio"}),{checked:we,checkedIcon:Re=ce,color:Ie="primary",icon:tt=ge,name:ut,onChange:Dt,size:Ot="medium",className:en}=oe,At=(0,g.Z)(oe,He),Mt=(0,N.Z)({},oe,{color:Ie,size:Ot}),rr=Ke(Mt),sr=ae();let xr=we;const Rt=(0,X.Z)(Dt,sr&&sr.onChange);let Dn=ut;return sr&&(typeof xr>"u"&&(xr=_(sr.value,oe.value)),typeof Dn>"u"&&(Dn=sr.name)),(0,L.jsx)(Je,(0,N.Z)({type:"radio",icon:R.cloneElement(tt,{fontSize:(Ye=ge.props.fontSize)!=null?Ye:Ot}),checkedIcon:R.cloneElement(Re,{fontSize:(ct=ce.props.fontSize)!=null?ct:Ot}),ownerState:Mt,classes:rr,name:Dn,checked:xr,onChange:Rt,ref:Ue,className:(0,A.Z)(rr.root,en)},At))})},30531:(U,ve,m)=>{"use strict";m.d(ve,{Z:()=>Oe});var g=m(7896),N=m(31461),R=m(2784),A=m(40489),E=m(69075),T=m(65992),B=m(43853),S=m(69222),D=m(15672);function L(He){return(0,D.Z)("MuiFormGroup",He)}const C=(0,S.Z)("MuiFormGroup",["root","row","error"]),z=null;var W=m(60433),ee=m(28734),he=m(52322);const re=["className","row"],j=He=>{const{classes:Ke,row:Je,error:_}=He,ce={root:["root",Je&&"row",_&&"error"]};return(0,E.Z)(ce,L,Ke)},Y=(0,T.ZP)("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(He,Ke)=>{const{ownerState:Je}=He;return[Ke.root,Je.row&&Ke.row]}})(({ownerState:He})=>(0,g.Z)({display:"flex",flexDirection:"column",flexWrap:"wrap"},He.row&&{flexDirection:"row"})),X=R.forwardRef(function(Ke,Je){const _=(0,B.Z)({props:Ke,name:"MuiFormGroup"}),{className:ce,row:ge=!1}=_,Ne=(0,N.Z)(_,re),qe=(0,W.Z)(),ue=(0,ee.Z)({props:_,muiFormControl:qe,states:["error"]}),Ze=(0,g.Z)({},_,{row:ge,error:ue.error}),Ue=j(Ze);return(0,he.jsx)(Y,(0,g.Z)({className:(0,A.Z)(Ue.root,ce),ownerState:Ze,ref:Je},Ne))});var te=m(98659),ae=m(19570),be=m(64770),de=m(85954);const Ae=["actions","children","defaultValue","name","onChange","value"],Oe=R.forwardRef(function(Ke,Je){const{actions:_,children:ce,defaultValue:ge,name:Ne,onChange:qe,value:ue}=Ke,Ze=(0,N.Z)(Ke,Ae),Ue=R.useRef(null),[Ye,ct]=(0,ae.Z)({controlled:ue,default:ge,name:"RadioGroup"});R.useImperativeHandle(_,()=>({focus:()=>{let Ie=Ue.current.querySelector("input:not(:disabled):checked");Ie||(Ie=Ue.current.querySelector("input:not(:disabled)")),Ie&&Ie.focus()}}),[]);const oe=(0,te.Z)(Je,Ue),we=(0,de.Z)(Ne),Re=R.useMemo(()=>({name:we,onChange(Ie){ct(Ie.target.value),qe&&qe(Ie,Ie.target.value)},value:Ye}),[we,qe,ct,Ye]);return(0,he.jsx)(be.Z.Provider,{value:Re,children:(0,he.jsx)(X,(0,g.Z)({role:"radiogroup",ref:oe},Ze,{children:ce}))})})},64770:(U,ve,m)=>{"use strict";m.d(ve,{Z:()=>R});var g=m(2784);const R=g.createContext(void 0)},81368:function(U,ve,m){(function(N,R){U.exports=R(m(46506))})(this,function(g){return function(N){var R={};function A(E){if(R[E])return R[E].exports;var T=R[E]={i:E,l:!1,exports:{}};return N[E].call(T.exports,T,T.exports,A),T.l=!0,T.exports}return A.m=N,A.c=R,A.d=function(E,T,B){A.o(E,T)||Object.defineProperty(E,T,{enumerable:!0,get:B})},A.r=function(E){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(E,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(E,"__esModule",{value:!0})},A.t=function(E,T){if(T&1&&(E=A(E)),T&8||T&4&&typeof E=="object"&&E&&E.__esModule)return E;var B=Object.create(null);if(A.r(B),Object.defineProperty(B,"default",{enumerable:!0,value:E}),T&2&&typeof E!="string")for(var S in E)A.d(B,S,function(D){return E[D]}.bind(null,S));return B},A.n=function(E){var T=E&&E.__esModule?function(){return E.default}:function(){return E};return A.d(T,"a",T),T},A.o=function(E,T){return Object.prototype.hasOwnProperty.call(E,T)},A.p="",A(A.s=0)}([function(N,R,A){var E=A(1),T=function(S){S&&S("layout","dagre",E)};typeof cytoscape<"u"&&T(cytoscape),N.exports=T},function(N,R,A){function E(C){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?E=function(W){return typeof W}:E=function(W){return W&&typeof Symbol=="function"&&W.constructor===Symbol&&W!==Symbol.prototype?"symbol":typeof W},E(C)}var T=function(z){return typeof z=="function"},B=A(2),S=A(3),D=A(4);function L(C){this.options=S({},B,C)}L.prototype.run=function(){var C=this.options,z=this,W=C.cy,ee=C.eles,he=function(ue,Ze){return T(Ze)?Ze.apply(ue,[ue]):Ze},re=C.boundingBox||{x1:0,y1:0,w:W.width(),h:W.height()};re.x2===void 0&&(re.x2=re.x1+re.w),re.w===void 0&&(re.w=re.x2-re.x1),re.y2===void 0&&(re.y2=re.y1+re.h),re.h===void 0&&(re.h=re.y2-re.y1);var j=new D.graphlib.Graph({multigraph:!0,compound:!0}),Y={},Z=function(ue,Ze){Ze!=null&&(Y[ue]=Ze)};Z("nodesep",C.nodeSep),Z("edgesep",C.edgeSep),Z("ranksep",C.rankSep),Z("rankdir",C.rankDir),Z("align",C.align),Z("ranker",C.ranker),Z("acyclicer",C.acyclicer),j.setGraph(Y),j.setDefaultEdgeLabel(function(){return{}}),j.setDefaultNodeLabel(function(){return{}});var X=ee.nodes();T(C.sort)&&(X=X.sort(C.sort));for(var te=0;te<X.length;te++){var ae=X[te],be=ae.layoutDimensions(C);j.setNode(ae.id(),{width:be.w,height:be.h,name:ae.id()})}for(var de=0;de<X.length;de++){var Ae=X[de];Ae.isChild()&&j.setParent(Ae.id(),Ae.parent().id())}var Fe=ee.edges().stdFilter(function(qe){return!qe.source().isParent()&&!qe.target().isParent()});T(C.sort)&&(Fe=Fe.sort(C.sort));for(var Oe=0;Oe<Fe.length;Oe++){var He=Fe[Oe];j.setEdge(He.source().id(),He.target().id(),{minlen:he(He,C.minLen),weight:he(He,C.edgeWeight),name:He.id()},He.id())}D.layout(j);for(var Ke=j.nodes(),Je=0;Je<Ke.length;Je++){var _=Ke[Je],ce=j.node(_);W.getElementById(_).scratch().dagre=ce}var ge;C.boundingBox?(ge={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0},X.forEach(function(qe){var ue=qe.scratch().dagre;ge.x1=Math.min(ge.x1,ue.x),ge.x2=Math.max(ge.x2,ue.x),ge.y1=Math.min(ge.y1,ue.y),ge.y2=Math.max(ge.y2,ue.y)}),ge.w=ge.x2-ge.x1,ge.h=ge.y2-ge.y1):ge=re;var Ne=function(ue){if(C.boundingBox){var Ze=ge.w===0?0:(ue.x-ge.x1)/ge.w,Ue=ge.h===0?0:(ue.y-ge.y1)/ge.h;return{x:re.x1+Ze*re.w,y:re.y1+Ue*re.h}}else return ue};return X.layoutPositions(z,C,function(qe){qe=E(qe)==="object"?qe:this;var ue=qe.scratch().dagre;return Ne({x:ue.x,y:ue.y})}),this},N.exports=L},function(N,R){var A={nodeSep:void 0,edgeSep:void 0,rankSep:void 0,rankDir:void 0,align:void 0,acyclicer:void 0,ranker:void 0,minLen:function(T){return 1},edgeWeight:function(T){return 1},fit:!0,padding:30,spacingFactor:void 0,nodeDimensionsIncludeLabels:!1,animate:!1,animateFilter:function(T,B){return!0},animationDuration:500,animationEasing:void 0,boundingBox:void 0,transform:function(T,B){return B},ready:function(){},sort:void 0,stop:function(){}};N.exports=A},function(N,R){N.exports=Object.assign!=null?Object.assign.bind(Object):function(A){for(var E=arguments.length,T=new Array(E>1?E-1:0),B=1;B<E;B++)T[B-1]=arguments[B];return T.forEach(function(S){Object.keys(S).forEach(function(D){return A[D]=S[D]})}),A}},function(N,R){N.exports=g}])})},93218:(U,ve,m)=>{"use strict";var g=m(67649).Z,N=m(54073),R=m(71254),A=m(72579),E=m(16765),T=m(25497);function B(r){return r&&typeof r=="object"&&"default"in r?r:{default:r}}var S=B(N),D=B(R),L=B(A),C=B(E),z=B(T);function W(r){return W=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},W(r)}function ee(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function he(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function re(r,e,t){return e&&he(r.prototype,e),t&&he(r,t),Object.defineProperty(r,"prototype",{writable:!1}),r}function j(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Y(r,e){return Z(r)||X(r,e)||te(r,e)||be()}function Z(r){if(Array.isArray(r))return r}function X(r,e){var t=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(t!=null){var n=[],a=!0,i=!1,o,s;try{for(t=t.call(r);!(a=(o=t.next()).done)&&(n.push(o.value),!(e&&n.length===e));a=!0);}catch(l){i=!0,s=l}finally{try{!a&&t.return!=null&&t.return()}finally{if(i)throw s}}return n}}function te(r,e){if(r){if(typeof r=="string")return ae(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return ae(r,e)}}function ae(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function be(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var de=typeof window>"u"?null:window,Ae=de?de.navigator:null;de&&de.document;var Fe=W(""),Oe=W({}),He=W(function(){}),Ke=typeof HTMLElement>"u"?"undefined":W(HTMLElement),Je=function(e){return e&&e.instanceString&&ce(e.instanceString)?e.instanceString():null},_=function(e){return e!=null&&W(e)==Fe},ce=function(e){return e!=null&&W(e)===He},ge=function(e){return!Ye(e)&&(Array.isArray?Array.isArray(e):e!=null&&e instanceof Array)},Ne=function(e){return e!=null&&W(e)===Oe&&!ge(e)&&e.constructor===Object},qe=function(e){return e!=null&&W(e)===Oe},ue=function(e){return e!=null&&W(e)===W(1)&&!isNaN(e)},Ze=function(e){return ue(e)&&Math.floor(e)===e},Ue=function(e){if(Ke!=="undefined")return e!=null&&e instanceof HTMLElement},Ye=function(e){return ct(e)||oe(e)},ct=function(e){return Je(e)==="collection"&&e._private.single},oe=function(e){return Je(e)==="collection"&&!e._private.single},we=function(e){return Je(e)==="core"},Re=function(e){return Je(e)==="stylesheet"},Ie=function(e){return Je(e)==="event"},tt=function(e){return e==null?!0:!!(e===""||e.match(/^\s+$/))},ut=function(e){return typeof HTMLElement>"u"?!1:e instanceof HTMLElement},Dt=function(e){return Ne(e)&&ue(e.x1)&&ue(e.x2)&&ue(e.y1)&&ue(e.y2)},Ot=function(e){return qe(e)&&ce(e.then)},en=function(){return Ae&&Ae.userAgent.match(/msie|trident|edge/i)},At=function(e,t){t||(t=function(){if(arguments.length===1)return arguments[0];if(arguments.length===0)return"undefined";for(var i=[],o=0;o<arguments.length;o++)i.push(arguments[o]);return i.join("$")});var n=function a(){var i=this,o=arguments,s,l=t.apply(i,o),u=a.cache;return(s=u[l])||(s=u[l]=e.apply(i,o)),s};return n.cache={},n},Mt=At(function(r){return r.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}),rr=At(function(r){return r.replace(/(-\w)/g,function(e){return e[1].toUpperCase()})}),sr=At(function(r,e){return r+e[0].toUpperCase()+e.substring(1)},function(r,e){return r+"$"+e}),xr=function(e){return tt(e)?e:e.charAt(0).toUpperCase()+e.substring(1)},Rt="(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))",Dn="rgb[a]?\\(("+Rt+"[%]?)\\s*,\\s*("+Rt+"[%]?)\\s*,\\s*("+Rt+"[%]?)(?:\\s*,\\s*("+Rt+"))?\\)",js="rgb[a]?\\((?:"+Rt+"[%]?)\\s*,\\s*(?:"+Rt+"[%]?)\\s*,\\s*(?:"+Rt+"[%]?)(?:\\s*,\\s*(?:"+Rt+"))?\\)",_s="hsl[a]?\\(("+Rt+")\\s*,\\s*("+Rt+"[%])\\s*,\\s*("+Rt+"[%])(?:\\s*,\\s*("+Rt+"))?\\)",eu="hsl[a]?\\((?:"+Rt+")\\s*,\\s*(?:"+Rt+"[%])\\s*,\\s*(?:"+Rt+"[%])(?:\\s*,\\s*(?:"+Rt+"))?\\)",tu="\\#[0-9a-fA-F]{3}",ru="\\#[0-9a-fA-F]{6}",Pi=function(e,t){return e<t?-1:e>t?1:0},nu=function(e,t){return-1*Pi(e,t)},rt=Object.assign!=null?Object.assign.bind(Object):function(r){for(var e=arguments,t=1;t<e.length;t++){var n=e[t];if(n!=null)for(var a=Object.keys(n),i=0;i<a.length;i++){var o=a[i];r[o]=n[o]}}return r},au=function(e){if(!(!(e.length===4||e.length===7)||e[0]!=="#")){var t=e.length===4,n,a,i,o=16;return t?(n=parseInt(e[1]+e[1],o),a=parseInt(e[2]+e[2],o),i=parseInt(e[3]+e[3],o)):(n=parseInt(e[1]+e[2],o),a=parseInt(e[3]+e[4],o),i=parseInt(e[5]+e[6],o)),[n,a,i]}},iu=function(e){var t,n,a,i,o,s,l,u;function f(c,p,y){return y<0&&(y+=1),y>1&&(y-=1),y<1/6?c+(p-c)*6*y:y<1/2?p:y<2/3?c+(p-c)*(2/3-y)*6:c}var v=new RegExp("^"+_s+"$").exec(e);if(v){if(n=parseInt(v[1]),n<0?n=(360- -1*n%360)%360:n>360&&(n=n%360),n/=360,a=parseFloat(v[2]),a<0||a>100||(a=a/100,i=parseFloat(v[3]),i<0||i>100)||(i=i/100,o=v[4],o!==void 0&&(o=parseFloat(o),o<0||o>1)))return;if(a===0)s=l=u=Math.round(i*255);else{var d=i<.5?i*(1+a):i+a-i*a,h=2*i-d;s=Math.round(255*f(h,d,n+1/3)),l=Math.round(255*f(h,d,n)),u=Math.round(255*f(h,d,n-1/3))}t=[s,l,u,o]}return t},ou=function(e){var t,n=new RegExp("^"+Dn+"$").exec(e);if(n){t=[];for(var a=[],i=1;i<=3;i++){var o=n[i];if(o[o.length-1]==="%"&&(a[i]=!0),o=parseFloat(o),a[i]&&(o=o/100*255),o<0||o>255)return;t.push(Math.floor(o))}var s=a[1]||a[2]||a[3],l=a[1]&&a[2]&&a[3];if(s&&!l)return;var u=n[4];if(u!==void 0){if(u=parseFloat(u),u<0||u>1)return;t.push(u)}}return t},su=function(e){return lu[e.toLowerCase()]},uu=function(e){return(ge(e)?e:null)||su(e)||au(e)||ou(e)||iu(e)},lu={transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},Bi=function(e){for(var t=e.map,n=e.keys,a=n.length,i=0;i<a;i++){var o=n[i];if(Ne(o))throw Error("Tried to set map with object key");i<n.length-1?(t[o]==null&&(t[o]={}),t=t[o]):t[o]=e.value}},Li=function(e){for(var t=e.map,n=e.keys,a=n.length,i=0;i<a;i++){var o=n[i];if(Ne(o))throw Error("Tried to get map with object key");if(t=t[o],t==null)return t}return t},Ha=de?de.performance:null,Mi=Ha&&Ha.now?function(){return Ha.now()}:function(){return Date.now()},fu=function(){if(de){if(de.requestAnimationFrame)return function(r){de.requestAnimationFrame(r)};if(de.mozRequestAnimationFrame)return function(r){de.mozRequestAnimationFrame(r)};if(de.webkitRequestAnimationFrame)return function(r){de.webkitRequestAnimationFrame(r)};if(de.msRequestAnimationFrame)return function(r){de.msRequestAnimationFrame(r)}}return function(r){r&&setTimeout(function(){r(Mi())},1e3/60)}}(),ea=function(e){return fu(e)},Er=Mi,tn=9261,Ri=65599,kn=5381,Ai=function(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:tn,n=t,a;a=e.next(),!a.done;)n=n*Ri+a.value|0;return n},Pn=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:tn;return t*Ri+e|0},Bn=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:kn;return(t<<5)+t+e|0},vu=function(e,t){return e*2097152+t},Pr=function(e){return e[0]*2097152+e[1]},ta=function(e,t){return[Pn(e[0],t[0]),Bn(e[1],t[1])]},du=function(e,t){var n={value:0,done:!1},a=0,i=e.length,o={next:function(){return a<i?n.value=e[a++]:n.done=!0,n}};return Ai(o,t)},Hr=function(e,t){var n={value:0,done:!1},a=0,i=e.length,o={next:function(){return a<i?n.value=e.charCodeAt(a++):n.done=!0,n}};return Ai(o,t)},Ii=function(){return cu(arguments)},cu=function(e){for(var t,n=0;n<e.length;n++){var a=e[n];n===0?t=Hr(a):t=Hr(a,t)}return t},Oi=!0,hu=console.warn!=null,gu=console.trace!=null,Wa=Number.MAX_SAFE_INTEGER||9007199254740991,Ni=function(){return!0},ra=function(){return!1},zi=function(){return 0},$a=function(){},Pt=function(e){throw new Error(e)},Fi=function(e){if(e!==void 0)Oi=!!e;else return Oi},bt=function(e){Fi()&&(hu?console.warn(e):(console.log(e),gu&&console.trace()))},pu=function(e){return rt({},e)},gr=function(e){return e==null?e:ge(e)?e.slice():Ne(e)?pu(e):e},mu=function(e){return e.slice()},Vi=function(e,t){for(t=e="";e++<36;t+=e*51&52?(e^15?8^Math.random()*(e^20?16:4):4).toString(16):"-");return t},yu={},Gi=function(){return yu},zt=function(e){var t=Object.keys(e);return function(n){for(var a={},i=0;i<t.length;i++){var o=t[i],s=n?.[o];a[o]=s===void 0?e[o]:s}return a}},Br=function(e,t,n){for(var a=e.length-1;a>=0&&!(e[a]===t&&(e.splice(a,1),n));a--);},Ka=function(e){e.splice(0,e.length)},bu=function(e,t){for(var n=0;n<t.length;n++){var a=t[n];e.push(a)}},ur=function(e,t,n){return n&&(t=sr(n,t)),e[t]},Lr=function(e,t,n,a){n&&(t=sr(n,t)),e[t]=a},wu=function(){function r(){ee(this,r),this._obj={}}return re(r,[{key:"set",value:function(t,n){return this._obj[t]=n,this}},{key:"delete",value:function(t){return this._obj[t]=void 0,this}},{key:"clear",value:function(){this._obj={}}},{key:"has",value:function(t){return this._obj[t]!==void 0}},{key:"get",value:function(t){return this._obj[t]}}]),r}(),pr=typeof Map<"u"?Map:wu,xu="undefined",Eu=function(){function r(e){if(ee(this,r),this._obj=Object.create(null),this.size=0,e!=null){var t;e.instanceString!=null&&e.instanceString()===this.instanceString()?t=e.toArray():t=e;for(var n=0;n<t.length;n++)this.add(t[n])}}return re(r,[{key:"instanceString",value:function(){return"set"}},{key:"add",value:function(t){var n=this._obj;n[t]!==1&&(n[t]=1,this.size++)}},{key:"delete",value:function(t){var n=this._obj;n[t]===1&&(n[t]=0,this.size--)}},{key:"clear",value:function(){this._obj=Object.create(null)}},{key:"has",value:function(t){return this._obj[t]===1}},{key:"toArray",value:function(){var t=this;return Object.keys(this._obj).filter(function(n){return t.has(n)})}},{key:"forEach",value:function(t,n){return this.toArray().forEach(t,n)}}]),r}(),rn=(typeof Set>"u"?"undefined":W(Set))!==xu?Set:Eu,na=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e===void 0||t===void 0||!we(e)){Pt("An element must have a core reference and parameters set");return}var a=t.group;if(a==null&&(t.data&&t.data.source!=null&&t.data.target!=null?a="edges":a="nodes"),a!=="nodes"&&a!=="edges"){Pt("An element must be of type `nodes` or `edges`; you specified `"+a+"`");return}this.length=1,this[0]=this;var i=this._private={cy:e,single:!0,data:t.data||{},position:t.position||{x:0,y:0},autoWidth:void 0,autoHeight:void 0,autoPadding:void 0,compoundBoundsClean:!1,listeners:[],group:a,style:{},rstyle:{},styleCxts:[],styleKeys:{},removed:!0,selected:!!t.selected,selectable:t.selectable===void 0?!0:!!t.selectable,locked:!!t.locked,grabbed:!1,grabbable:t.grabbable===void 0?!0:!!t.grabbable,pannable:t.pannable===void 0?a==="edges":!!t.pannable,active:!1,classes:new rn,animation:{current:[],queue:[]},rscratch:{},scratch:t.scratch||{},edges:[],children:[],parent:t.parent&&t.parent.isNode()?t.parent:null,traversalCache:{},backgrounding:!1,bbCache:null,bbCacheShift:{x:0,y:0},bodyBounds:null,overlayBounds:null,labelBounds:{all:null,source:null,target:null,main:null},arrowBounds:{source:null,target:null,"mid-source":null,"mid-target":null}};if(i.position.x==null&&(i.position.x=0),i.position.y==null&&(i.position.y=0),t.renderedPosition){var o=t.renderedPosition,s=e.pan(),l=e.zoom();i.position={x:(o.x-s.x)/l,y:(o.y-s.y)/l}}var u=[];ge(t.classes)?u=t.classes:_(t.classes)&&(u=t.classes.split(/\s+/));for(var f=0,v=u.length;f<v;f++){var d=u[f];!d||d===""||i.classes.add(d)}this.createEmitter();var h=t.style||t.css;h&&(bt("Setting a `style` bypass at element creation should be done only when absolutely necessary.  Try to use the stylesheet instead."),this.style(h)),(n===void 0||n)&&this.restore()},Hi=function(e){return e={bfs:e.bfs||!e.dfs,dfs:e.dfs||!e.bfs},function(n,a,i){var o;Ne(n)&&!Ye(n)&&(o=n,n=o.roots||o.root,a=o.visit,i=o.directed),i=arguments.length===2&&!ce(a)?a:i,a=ce(a)?a:function(){};for(var s=this._private.cy,l=n=_(n)?this.filter(n):n,u=[],f=[],v={},d={},h={},c=0,p,y=this.byGroup(),b=y.nodes,x=y.edges,w=0;w<l.length;w++){var P=l[w],F=P.id();P.isNode()&&(u.unshift(P),e.bfs&&(h[F]=!0,f.push(P)),d[F]=0)}for(var G=function(){var Q=e.bfs?u.shift():u.pop(),H=Q.id();if(e.dfs){if(h[H])return"continue";h[H]=!0,f.push(Q)}var ne=d[H],J=v[H],q=J!=null?J.source():null,se=J!=null?J.target():null,fe=J==null?void 0:Q.same(q)?se[0]:q[0],ye=void 0;if(ye=a(Q,J,fe,c++,ne),ye===!0)return p=Q,"break";if(ye===!1)return"break";for(var le=Q.connectedEdges().filter(function(Ee){return(!i||Ee.source().same(Q))&&x.has(Ee)}),me=0;me<le.length;me++){var xe=le[me],ke=xe.connectedNodes().filter(function(Ee){return!Ee.same(Q)&&b.has(Ee)}),Ce=ke.id();ke.length!==0&&!h[Ce]&&(ke=ke[0],u.push(ke),e.bfs&&(h[Ce]=!0,f.push(ke)),v[Ce]=xe,d[Ce]=d[H]+1)}};u.length!==0;){var k=G();if(k!=="continue"&&k==="break")break}for(var V=s.collection(),M=0;M<f.length;M++){var $=f[M],K=v[$.id()];K!=null&&V.push(K),V.push($)}return{path:s.collection(V),found:s.collection(p)}}},Ln={breadthFirstSearch:Hi({bfs:!0}),depthFirstSearch:Hi({dfs:!0})};Ln.bfs=Ln.breadthFirstSearch,Ln.dfs=Ln.depthFirstSearch;var Cu=zt({root:null,weight:function(e){return 1},directed:!1}),Su={dijkstra:function(e){if(!Ne(e)){var t=arguments;e={root:t[0],weight:t[1],directed:t[2]}}var n=Cu(e),a=n.root,i=n.weight,o=n.directed,s=this,l=i,u=_(a)?this.filter(a)[0]:a[0],f={},v={},d={},h=this.byGroup(),c=h.nodes,p=h.edges;p.unmergeBy(function(ne){return ne.isLoop()});for(var y=function(J){return f[J.id()]},b=function(J,q){f[J.id()]=q,x.updateItem(J)},x=new D.default(function(ne,J){return y(ne)-y(J)}),w=0;w<c.length;w++){var P=c[w];f[P.id()]=P.same(u)?0:1/0,x.push(P)}for(var F=function(J,q){for(var se=(o?J.edgesTo(q):J.edgesWith(q)).intersect(p),fe=1/0,ye,le=0;le<se.length;le++){var me=se[le],xe=l(me);(xe<fe||!ye)&&(fe=xe,ye=me)}return{edge:ye,dist:fe}};x.size()>0;){var G=x.pop(),k=y(G),V=G.id();if(d[V]=k,k!==1/0)for(var M=G.neighborhood().intersect(c),$=0;$<M.length;$++){var K=M[$],I=K.id(),Q=F(G,K),H=k+Q.dist;H<y(K)&&(b(K,H),v[I]={node:G,edge:Q.edge})}}return{distanceTo:function(J){var q=_(J)?c.filter(J)[0]:J[0];return d[q.id()]},pathTo:function(J){var q=_(J)?c.filter(J)[0]:J[0],se=[],fe=q,ye=fe.id();if(q.length>0)for(se.unshift(q);v[ye];){var le=v[ye];se.unshift(le.edge),se.unshift(le.node),fe=le.node,ye=fe.id()}return s.spawn(se)}}}},Tu={kruskal:function(e){e=e||function(w){return 1};for(var t=this.byGroup(),n=t.nodes,a=t.edges,i=n.length,o=new Array(i),s=n,l=function(P){for(var F=0;F<o.length;F++){var G=o[F];if(G.has(P))return F}},u=0;u<i;u++)o[u]=this.spawn(n[u]);for(var f=a.sort(function(w,P){return e(w)-e(P)}),v=0;v<f.length;v++){var d=f[v],h=d.source()[0],c=d.target()[0],p=l(h),y=l(c),b=o[p],x=o[y];p!==y&&(s.merge(d),b.merge(x),o.splice(y,1))}return s}},Du=zt({root:null,goal:null,weight:function(e){return 1},heuristic:function(e){return 0},directed:!1}),ku={aStar:function(e){var t=this.cy(),n=Du(e),a=n.root,i=n.goal,o=n.heuristic,s=n.directed,l=n.weight;a=t.collection(a)[0],i=t.collection(i)[0];var u=a.id(),f=i.id(),v={},d={},h={},c=new D.default(function(ye,le){return d[ye.id()]-d[le.id()]}),p=new rn,y={},b={},x=function(le,me){c.push(le),p.add(me)},w,P,F=function(){w=c.pop(),P=w.id(),p.delete(P)},G=function(le){return p.has(le)};x(a,u),v[u]=0,d[u]=o(a);for(var k=0;c.size()>0;){if(F(),k++,P===f){for(var V=[],M=i,$=f,K=b[$];V.unshift(M),K!=null&&V.unshift(K),M=y[$],M!=null;)$=M.id(),K=b[$];return{found:!0,distance:v[P],path:this.spawn(V),steps:k}}h[P]=!0;for(var I=w._private.edges,Q=0;Q<I.length;Q++){var H=I[Q];if(this.hasElementWithId(H.id())&&!(s&&H.data("source")!==P)){var ne=H.source(),J=H.target(),q=ne.id()!==P?ne:J,se=q.id();if(this.hasElementWithId(se)&&!h[se]){var fe=v[P]+l(H);if(!G(se)){v[se]=fe,d[se]=fe+o(q),x(q,se),y[se]=w,b[se]=H;continue}fe<v[se]&&(v[se]=fe,d[se]=fe+o(q),y[se]=w,b[se]=H)}}}}return{found:!1,distance:void 0,path:void 0,steps:k}}},Pu=zt({weight:function(e){return 1},directed:!1}),Bu={floydWarshall:function(e){for(var t=this.cy(),n=Pu(e),a=n.weight,i=n.directed,o=a,s=this.byGroup(),l=s.nodes,u=s.edges,f=l.length,v=f*f,d=function(xe){return l.indexOf(xe)},h=function(xe){return l[xe]},c=new Array(v),p=0;p<v;p++){var y=p%f,b=(p-y)/f;b===y?c[p]=0:c[p]=1/0}for(var x=new Array(v),w=new Array(v),P=0;P<u.length;P++){var F=u[P],G=F.source()[0],k=F.target()[0];if(G!==k){var V=d(G),M=d(k),$=V*f+M,K=o(F);if(c[$]>K&&(c[$]=K,x[$]=M,w[$]=F),!i){var I=M*f+V;!i&&c[I]>K&&(c[I]=K,x[I]=V,w[I]=F)}}}for(var Q=0;Q<f;Q++)for(var H=0;H<f;H++)for(var ne=H*f+Q,J=0;J<f;J++){var q=H*f+J,se=Q*f+J;c[ne]+c[se]<c[q]&&(c[q]=c[ne]+c[se],x[q]=x[ne])}var fe=function(xe){return(_(xe)?t.filter(xe):xe)[0]},ye=function(xe){return d(fe(xe))},le={distance:function(xe,ke){var Ce=ye(xe),Ee=ye(ke);return c[Ce*f+Ee]},path:function(xe,ke){var Ce=ye(xe),Ee=ye(ke),ie=h(Ce);if(Ce===Ee)return ie.collection();if(x[Ce*f+Ee]==null)return t.collection();var De=t.collection(),Pe=Ce,ze;for(De.merge(ie);Ce!==Ee;)Pe=Ce,Ce=x[Ce*f+Ee],ze=w[Pe*f+Ce],De.merge(ze),De.merge(h(Ce));return De}};return le}},Lu=zt({weight:function(e){return 1},directed:!1,root:null}),Mu={bellmanFord:function(e){var t=this,n=Lu(e),a=n.weight,i=n.directed,o=n.root,s=a,l=this,u=this.cy(),f=this.byGroup(),v=f.edges,d=f.nodes,h=d.length,c=new pr,p=!1,y=[];o=u.collection(o)[0],v.unmergeBy(function(Qe){return Qe.isLoop()});for(var b=v.length,x=function($e){var je=c.get($e.id());return je||(je={},c.set($e.id(),je)),je},w=function($e){return(_($e)?u.$($e):$e)[0]},P=function($e){return x(w($e)).dist},F=function($e){for(var je=arguments.length>1&&arguments[1]!==void 0?arguments[1]:o,dt=w($e),lt=[],nt=dt;;){if(nt==null)return t.spawn();var xt=x(nt),Be=xt.edge,O=xt.pred;if(lt.unshift(nt[0]),nt.same(je)&&lt.length>0)break;Be!=null&&lt.unshift(Be),nt=O}return l.spawn(lt)},G=0;G<h;G++){var k=d[G],V=x(k);k.same(o)?V.dist=0:V.dist=1/0,V.pred=null,V.edge=null}for(var M=!1,$=function($e,je,dt,lt,nt,xt){var Be=lt.dist+xt;Be<nt.dist&&!dt.same(lt.edge)&&(nt.dist=Be,nt.pred=$e,nt.edge=dt,M=!0)},K=1;K<h;K++){M=!1;for(var I=0;I<b;I++){var Q=v[I],H=Q.source(),ne=Q.target(),J=s(Q),q=x(H),se=x(ne);$(H,ne,Q,q,se,J),i||$(ne,H,Q,se,q,J)}if(!M)break}if(M)for(var fe=[],ye=0;ye<b;ye++){var le=v[ye],me=le.source(),xe=le.target(),ke=s(le),Ce=x(me).dist,Ee=x(xe).dist;if(Ce+ke<Ee||!i&&Ee+ke<Ce)if(p||(bt("Graph contains a negative weight cycle for Bellman-Ford"),p=!0),e.findNegativeWeightCycles!==!1){var ie=[];Ce+ke<Ee&&ie.push(me),!i&&Ee+ke<Ce&&ie.push(xe);for(var De=ie.length,Pe=0;Pe<De;Pe++){var ze=ie[Pe],Ve=[ze];Ve.push(x(ze).edge);for(var at=x(ze).pred;Ve.indexOf(at)===-1;)Ve.push(at),Ve.push(x(at).edge),at=x(at).pred;Ve=Ve.slice(Ve.indexOf(at));for(var it=Ve[0].id(),We=0,Ge=2;Ge<Ve.length;Ge+=2)Ve[Ge].id()<it&&(it=Ve[Ge].id(),We=Ge);Ve=Ve.slice(We).concat(Ve.slice(0,We)),Ve.push(Ve[0]);var _e=Ve.map(function(Qe){return Qe.id()}).join(",");fe.indexOf(_e)===-1&&(y.push(l.spawn(Ve)),fe.push(_e))}}else break}return{distanceTo:P,pathTo:F,hasNegativeWeightCycle:p,negativeWeightCycles:y}}},Ru=Math.sqrt(2),Au=function(e,t,n){n.length===0&&Pt("Karger-Stein must be run on a connected (sub)graph");for(var a=n[e],i=a[1],o=a[2],s=t[i],l=t[o],u=n,f=u.length-1;f>=0;f--){var v=u[f],d=v[1],h=v[2];(t[d]===s&&t[h]===l||t[d]===l&&t[h]===s)&&u.splice(f,1)}for(var c=0;c<u.length;c++){var p=u[c];p[1]===l?(u[c]=p.slice(),u[c][1]=s):p[2]===l&&(u[c]=p.slice(),u[c][2]=s)}for(var y=0;y<t.length;y++)t[y]===l&&(t[y]=s);return u},Ya=function(e,t,n,a){for(;n>a;){var i=Math.floor(Math.random()*t.length);t=Au(i,e,t),n--}return t},Iu={kargerStein:function(){var e=this,t=this.byGroup(),n=t.nodes,a=t.edges;a.unmergeBy(function(se){return se.isLoop()});var i=n.length,o=a.length,s=Math.ceil(Math.pow(Math.log(i)/Math.LN2,2)),l=Math.floor(i/Ru);if(i<2){Pt("At least 2 nodes are required for Karger-Stein algorithm");return}for(var u=[],f=0;f<o;f++){var v=a[f];u.push([f,n.indexOf(v.source()),n.indexOf(v.target())])}for(var d=1/0,h=[],c=new Array(i),p=new Array(i),y=new Array(i),b=function(fe,ye){for(var le=0;le<i;le++)ye[le]=fe[le]},x=0;x<=s;x++){for(var w=0;w<i;w++)p[w]=w;var P=Ya(p,u.slice(),i,l),F=P.slice();b(p,y);var G=Ya(p,P,l,2),k=Ya(y,F,l,2);G.length<=k.length&&G.length<d?(d=G.length,h=G,b(p,c)):k.length<=G.length&&k.length<d&&(d=k.length,h=k,b(y,c))}for(var V=this.spawn(h.map(function(se){return a[se[0]]})),M=this.spawn(),$=this.spawn(),K=c[0],I=0;I<c.length;I++){var Q=c[I],H=n[I];Q===K?M.merge(H):$.merge(H)}var ne=function(fe){var ye=e.spawn();return fe.forEach(function(le){ye.merge(le),le.connectedEdges().forEach(function(me){e.contains(me)&&!V.contains(me)&&ye.merge(me)})}),ye},J=[ne(M),ne($)],q={cut:V,components:J,partition1:M,partition2:$};return q}},Ou=function(e){return{x:e.x,y:e.y}},aa=function(e,t,n){return{x:e.x*t+n.x,y:e.y*t+n.y}},Wi=function(e,t,n){return{x:(e.x-n.x)/t,y:(e.y-n.y)/t}},nn=function(e){return{x:e[0],y:e[1]}},Nu=function(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,a=1/0,i=t;i<n;i++){var o=e[i];isFinite(o)&&(a=Math.min(o,a))}return a},zu=function(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,a=-1/0,i=t;i<n;i++){var o=e[i];isFinite(o)&&(a=Math.max(o,a))}return a},Fu=function(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,a=0,i=0,o=t;o<n;o++){var s=e[o];isFinite(s)&&(a+=s,i++)}return a/i},Vu=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0;a?e=e.slice(t,n):(n<e.length&&e.splice(n,e.length-n),t>0&&e.splice(0,t));for(var s=0,l=e.length-1;l>=0;l--){var u=e[l];o?isFinite(u)||(e[l]=-1/0,s++):e.splice(l,1)}i&&e.sort(function(d,h){return d-h});var f=e.length,v=Math.floor(f/2);return f%2!==0?e[v+1+s]:(e[v-1+s]+e[v+s])/2},Gu=function(e){return Math.PI*e/180},ia=function(e,t){return Math.atan2(t,e)-Math.PI/2},Ua=Math.log2||function(r){return Math.log(r)/Math.log(2)},$i=function(e){return e>0?1:e<0?-1:0},Wr=function(e,t){return Math.sqrt($r(e,t))},$r=function(e,t){var n=t.x-e.x,a=t.y-e.y;return n*n+a*a},Hu=function(e){for(var t=e.length,n=0,a=0;a<t;a++)n+=e[a];for(var i=0;i<t;i++)e[i]=e[i]/n;return e},Nt=function(e,t,n,a){return(1-a)*(1-a)*e+2*(1-a)*a*t+a*a*n},an=function(e,t,n,a){return{x:Nt(e.x,t.x,n.x,a),y:Nt(e.y,t.y,n.y,a)}},Wu=function(e,t,n,a){var i={x:t.x-e.x,y:t.y-e.y},o=Wr(e,t),s={x:i.x/o,y:i.y/o};return n=n??0,a=a??n*o,{x:e.x+s.x*a,y:e.y+s.y*a}},Mn=function(e,t,n){return Math.max(e,Math.min(n,t))},jt=function(e){if(e==null)return{x1:1/0,y1:1/0,x2:-1/0,y2:-1/0,w:0,h:0};if(e.x1!=null&&e.y1!=null){if(e.x2!=null&&e.y2!=null&&e.x2>=e.x1&&e.y2>=e.y1)return{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,w:e.x2-e.x1,h:e.y2-e.y1};if(e.w!=null&&e.h!=null&&e.w>=0&&e.h>=0)return{x1:e.x1,y1:e.y1,x2:e.x1+e.w,y2:e.y1+e.h,w:e.w,h:e.h}}},$u=function(e){return{x1:e.x1,x2:e.x2,w:e.w,y1:e.y1,y2:e.y2,h:e.h}},Ku=function(e){e.x1=1/0,e.y1=1/0,e.x2=-1/0,e.y2=-1/0,e.w=0,e.h=0},Yu=function(e,t){e.x1=Math.min(e.x1,t.x1),e.x2=Math.max(e.x2,t.x2),e.w=e.x2-e.x1,e.y1=Math.min(e.y1,t.y1),e.y2=Math.max(e.y2,t.y2),e.h=e.y2-e.y1},Uu=function(e,t,n){e.x1=Math.min(e.x1,t),e.x2=Math.max(e.x2,t),e.w=e.x2-e.x1,e.y1=Math.min(e.y1,n),e.y2=Math.max(e.y2,n),e.h=e.y2-e.y1},oa=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.x1-=t,e.x2+=t,e.y1-=t,e.y2+=t,e.w=e.x2-e.x1,e.h=e.y2-e.y1,e},Za=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[0],n,a,i,o;if(t.length===1)n=a=i=o=t[0];else if(t.length===2)n=i=t[0],o=a=t[1];else if(t.length===4){var s=Y(t,4);n=s[0],a=s[1],i=s[2],o=s[3]}return e.x1-=o,e.x2+=a,e.y1-=n,e.y2+=i,e.w=e.x2-e.x1,e.h=e.y2-e.y1,e},Ki=function(e,t){e.x1=t.x1,e.y1=t.y1,e.x2=t.x2,e.y2=t.y2,e.w=e.x2-e.x1,e.h=e.y2-e.y1},Xa=function(e,t){return!(e.x1>t.x2||t.x1>e.x2||e.x2<t.x1||t.x2<e.x1||e.y2<t.y1||t.y2<e.y1||e.y1>t.y2||t.y1>e.y2)},on=function(e,t,n){return e.x1<=t&&t<=e.x2&&e.y1<=n&&n<=e.y2},Zu=function(e,t){return on(e,t.x,t.y)},Yi=function(e,t){return on(e,t.x1,t.y1)&&on(e,t.x2,t.y2)},Ui=function(e,t,n,a,i,o,s){var l=In(i,o),u=i/2,f=o/2,v;{var d=n-u+l-s,h=a-f-s,c=n+u-l+s,p=h;if(v=Mr(e,t,n,a,d,h,c,p,!1),v.length>0)return v}{var y=n+u+s,b=a-f+l-s,x=y,w=a+f-l+s;if(v=Mr(e,t,n,a,y,b,x,w,!1),v.length>0)return v}{var P=n-u+l-s,F=a+f+s,G=n+u-l+s,k=F;if(v=Mr(e,t,n,a,P,F,G,k,!1),v.length>0)return v}{var V=n-u-s,M=a-f+l-s,$=V,K=a+f-l+s;if(v=Mr(e,t,n,a,V,M,$,K,!1),v.length>0)return v}var I;{var Q=n-u+l,H=a-f+l;if(I=Rn(e,t,n,a,Q,H,l+s),I.length>0&&I[0]<=Q&&I[1]<=H)return[I[0],I[1]]}{var ne=n+u-l,J=a-f+l;if(I=Rn(e,t,n,a,ne,J,l+s),I.length>0&&I[0]>=ne&&I[1]<=J)return[I[0],I[1]]}{var q=n+u-l,se=a+f-l;if(I=Rn(e,t,n,a,q,se,l+s),I.length>0&&I[0]>=q&&I[1]>=se)return[I[0],I[1]]}{var fe=n-u+l,ye=a+f-l;if(I=Rn(e,t,n,a,fe,ye,l+s),I.length>0&&I[0]<=fe&&I[1]>=ye)return[I[0],I[1]]}return[]},Xu=function(e,t,n,a,i,o,s){var l=s,u=Math.min(n,i),f=Math.max(n,i),v=Math.min(a,o),d=Math.max(a,o);return u-l<=e&&e<=f+l&&v-l<=t&&t<=d+l},Qu=function(e,t,n,a,i,o,s,l,u){var f={x1:Math.min(n,s,i)-u,x2:Math.max(n,s,i)+u,y1:Math.min(a,l,o)-u,y2:Math.max(a,l,o)+u};return!(e<f.x1||e>f.x2||t<f.y1||t>f.y2)},Ju=function(e,t,n,a){n-=a;var i=t*t-4*e*n;if(i<0)return[];var o=Math.sqrt(i),s=2*e,l=(-t+o)/s,u=(-t-o)/s;return[l,u]},qu=function(e,t,n,a,i){var o=1e-5;e===0&&(e=o),t/=e,n/=e,a/=e;var s,l,u,f,v,d,h,c;if(l=(3*n-t*t)/9,u=-(27*a)+t*(9*n-2*(t*t)),u/=54,s=l*l*l+u*u,i[1]=0,h=t/3,s>0){v=u+Math.sqrt(s),v=v<0?-Math.pow(-v,1/3):Math.pow(v,1/3),d=u-Math.sqrt(s),d=d<0?-Math.pow(-d,1/3):Math.pow(d,1/3),i[0]=-h+v+d,h+=(v+d)/2,i[4]=i[2]=-h,h=Math.sqrt(3)*(-d+v)/2,i[3]=h,i[5]=-h;return}if(i[5]=i[3]=0,s===0){c=u<0?-Math.pow(-u,1/3):Math.pow(u,1/3),i[0]=-h+2*c,i[4]=i[2]=-(c+h);return}l=-l,f=l*l*l,f=Math.acos(u/Math.sqrt(f)),c=2*Math.sqrt(l),i[0]=-h+c*Math.cos(f/3),i[2]=-h+c*Math.cos((f+2*Math.PI)/3),i[4]=-h+c*Math.cos((f+4*Math.PI)/3)},ju=function(e,t,n,a,i,o,s,l){var u=1*n*n-4*n*i+2*n*s+4*i*i-4*i*s+s*s+a*a-4*a*o+2*a*l+4*o*o-4*o*l+l*l,f=1*9*n*i-3*n*n-3*n*s-6*i*i+3*i*s+9*a*o-3*a*a-3*a*l-6*o*o+3*o*l,v=1*3*n*n-6*n*i+n*s-n*e+2*i*i+2*i*e-s*e+3*a*a-6*a*o+a*l-a*t+2*o*o+2*o*t-l*t,d=1*n*i-n*n+n*e-i*e+a*o-a*a+a*t-o*t,h=[];qu(u,f,v,d,h);for(var c=1e-7,p=[],y=0;y<6;y+=2)Math.abs(h[y+1])<c&&h[y]>=0&&h[y]<=1&&p.push(h[y]);p.push(1),p.push(0);for(var b=-1,x,w,P,F=0;F<p.length;F++)x=Math.pow(1-p[F],2)*n+2*(1-p[F])*p[F]*i+p[F]*p[F]*s,w=Math.pow(1-p[F],2)*a+2*(1-p[F])*p[F]*o+p[F]*p[F]*l,P=Math.pow(x-e,2)+Math.pow(w-t,2),b>=0?P<b&&(b=P):b=P;return b},_u=function(e,t,n,a,i,o){var s=[e-n,t-a],l=[i-n,o-a],u=l[0]*l[0]+l[1]*l[1],f=s[0]*s[0]+s[1]*s[1],v=s[0]*l[0]+s[1]*l[1],d=v*v/u;return v<0?f:d>u?(e-i)*(e-i)+(t-o)*(t-o):f-d},_t=function(e,t,n){for(var a,i,o,s,l,u=0,f=0;f<n.length/2;f++)if(a=n[f*2],i=n[f*2+1],f+1<n.length/2?(o=n[(f+1)*2],s=n[(f+1)*2+1]):(o=n[(f+1-n.length/2)*2],s=n[(f+1-n.length/2)*2+1]),!(a==e&&o==e))if(a>=e&&e>=o||a<=e&&e<=o)l=(e-a)/(o-a)*(s-i)+i,l>t&&u++;else continue;return u%2!==0},Cr=function(e,t,n,a,i,o,s,l,u){var f=new Array(n.length),v;l[0]!=null?(v=Math.atan(l[1]/l[0]),l[0]<0?v=v+Math.PI/2:v=-v-Math.PI/2):v=l;for(var d=Math.cos(-v),h=Math.sin(-v),c=0;c<f.length/2;c++)f[c*2]=o/2*(n[c*2]*d-n[c*2+1]*h),f[c*2+1]=s/2*(n[c*2+1]*d+n[c*2]*h),f[c*2]+=a,f[c*2+1]+=i;var p;if(u>0){var y=Xi(f,-u);p=Zi(y)}else p=f;return _t(e,t,p)},el=function(e,t,n,a,i,o,s){for(var l=new Array(n.length),u=o/2,f=s/2,v=qa(o,s),d=v*v,h=0;h<n.length/4;h++){var c=void 0,p=void 0;h===0?c=n.length-2:c=h*4-2,p=h*4+2;var y=a+u*n[h*4],b=i+f*n[h*4+1],x=-n[c]*n[p]-n[c+1]*n[p+1],w=v/Math.tan(Math.acos(x)/2),P=y-w*n[c],F=b-w*n[c+1],G=y+w*n[p],k=b+w*n[p+1];l[h*4]=P,l[h*4+1]=F,l[h*4+2]=G,l[h*4+3]=k;var V=n[c+1],M=-n[c],$=V*n[p]+M*n[p+1];$<0&&(V*=-1,M*=-1);var K=P+V*v,I=F+M*v,Q=Math.pow(K-e,2)+Math.pow(I-t,2);if(Q<=d)return!0}return _t(e,t,l)},Zi=function(e){for(var t=new Array(e.length/2),n,a,i,o,s,l,u,f,v=0;v<e.length/4;v++){n=e[v*4],a=e[v*4+1],i=e[v*4+2],o=e[v*4+3],v<e.length/4-1?(s=e[(v+1)*4],l=e[(v+1)*4+1],u=e[(v+1)*4+2],f=e[(v+1)*4+3]):(s=e[0],l=e[1],u=e[2],f=e[3]);var d=Mr(n,a,i,o,s,l,u,f,!0);t[v*2]=d[0],t[v*2+1]=d[1]}return t},Xi=function(e,t){for(var n=new Array(e.length*2),a,i,o,s,l=0;l<e.length/2;l++){a=e[l*2],i=e[l*2+1],l<e.length/2-1?(o=e[(l+1)*2],s=e[(l+1)*2+1]):(o=e[0],s=e[1]);var u=s-i,f=-(o-a),v=Math.sqrt(u*u+f*f),d=u/v,h=f/v;n[l*4]=a+d*t,n[l*4+1]=i+h*t,n[l*4+2]=o+d*t,n[l*4+3]=s+h*t}return n},tl=function(e,t,n,a,i,o){var s=n-e,l=a-t;s/=i,l/=o;var u=Math.sqrt(s*s+l*l),f=u-1;if(f<0)return[];var v=f/u;return[(n-e)*v+e,(a-t)*v+t]},Kr=function(e,t,n,a,i,o,s){return e-=i,t-=o,e/=n/2+s,t/=a/2+s,e*e+t*t<=1},Rn=function(e,t,n,a,i,o,s){var l=[n-e,a-t],u=[e-i,t-o],f=l[0]*l[0]+l[1]*l[1],v=2*(u[0]*l[0]+u[1]*l[1]),d=u[0]*u[0]+u[1]*u[1]-s*s,h=v*v-4*f*d;if(h<0)return[];var c=(-v+Math.sqrt(h))/(2*f),p=(-v-Math.sqrt(h))/(2*f),y=Math.min(c,p),b=Math.max(c,p),x=[];if(y>=0&&y<=1&&x.push(y),b>=0&&b<=1&&x.push(b),x.length===0)return[];var w=x[0]*l[0]+e,P=x[0]*l[1]+t;if(x.length>1){if(x[0]==x[1])return[w,P];var F=x[1]*l[0]+e,G=x[1]*l[1]+t;return[w,P,F,G]}else return[w,P]},Qa=function(e,t,n){return t<=e&&e<=n||n<=e&&e<=t?e:e<=t&&t<=n||n<=t&&t<=e?t:n},Mr=function(e,t,n,a,i,o,s,l,u){var f=e-i,v=n-e,d=s-i,h=t-o,c=a-t,p=l-o,y=d*h-p*f,b=v*h-c*f,x=p*v-d*c;if(x!==0){var w=y/x,P=b/x,F=.001,G=0-F,k=1+F;return G<=w&&w<=k&&G<=P&&P<=k?[e+w*v,t+w*c]:u?[e+w*v,t+w*c]:[]}else return y===0||b===0?Qa(e,n,s)===s?[s,l]:Qa(e,n,i)===i?[i,o]:Qa(i,s,n)===n?[n,a]:[]:[]},An=function(e,t,n,a,i,o,s,l){var u=[],f,v=new Array(n.length),d=!0;o==null&&(d=!1);var h;if(d){for(var c=0;c<v.length/2;c++)v[c*2]=n[c*2]*o+a,v[c*2+1]=n[c*2+1]*s+i;if(l>0){var p=Xi(v,-l);h=Zi(p)}else h=v}else h=n;for(var y,b,x,w,P=0;P<h.length/2;P++)y=h[P*2],b=h[P*2+1],P<h.length/2-1?(x=h[(P+1)*2],w=h[(P+1)*2+1]):(x=h[0],w=h[1]),f=Mr(e,t,a,i,y,b,x,w),f.length!==0&&u.push(f[0],f[1]);return u},rl=function(e,t,n,a,i,o,s,l){for(var u=[],f,v=new Array(n.length),d=o/2,h=s/2,c=qa(o,s),p=0;p<n.length/4;p++){var y=void 0,b=void 0;p===0?y=n.length-2:y=p*4-2,b=p*4+2;var x=a+d*n[p*4],w=i+h*n[p*4+1],P=-n[y]*n[b]-n[y+1]*n[b+1],F=c/Math.tan(Math.acos(P)/2),G=x-F*n[y],k=w-F*n[y+1],V=x+F*n[b],M=w+F*n[b+1];p===0?(v[n.length-2]=G,v[n.length-1]=k):(v[p*4-2]=G,v[p*4-1]=k),v[p*4]=V,v[p*4+1]=M;var $=n[y+1],K=-n[y],I=$*n[b]+K*n[b+1];I<0&&($*=-1,K*=-1);var Q=G+$*c,H=k+K*c;f=Rn(e,t,a,i,Q,H,c),f.length!==0&&u.push(f[0],f[1])}for(var ne=0;ne<v.length/4;ne++)f=Mr(e,t,a,i,v[ne*4],v[ne*4+1],v[ne*4+2],v[ne*4+3],!1),f.length!==0&&u.push(f[0],f[1]);if(u.length>2){for(var J=[u[0],u[1]],q=Math.pow(J[0]-e,2)+Math.pow(J[1]-t,2),se=1;se<u.length/2;se++){var fe=Math.pow(u[se*2]-e,2)+Math.pow(u[se*2+1]-t,2);fe<=q&&(J[0]=u[se*2],J[1]=u[se*2+1],q=fe)}return J}return u},sa=function(e,t,n){var a=[e[0]-t[0],e[1]-t[1]],i=Math.sqrt(a[0]*a[0]+a[1]*a[1]),o=(i-n)/i;return o<0&&(o=1e-5),[t[0]+o*a[0],t[1]+o*a[1]]},Qt=function(e,t){var n=Ja(e,t);return n=Qi(n),n},Qi=function(e){for(var t,n,a=e.length/2,i=1/0,o=1/0,s=-1/0,l=-1/0,u=0;u<a;u++)t=e[2*u],n=e[2*u+1],i=Math.min(i,t),s=Math.max(s,t),o=Math.min(o,n),l=Math.max(l,n);for(var f=2/(s-i),v=2/(l-o),d=0;d<a;d++)t=e[2*d]=e[2*d]*f,n=e[2*d+1]=e[2*d+1]*v,i=Math.min(i,t),s=Math.max(s,t),o=Math.min(o,n),l=Math.max(l,n);if(o<-1)for(var h=0;h<a;h++)n=e[2*h+1]=e[2*h+1]+(-1-o);return e},Ja=function(e,t){var n=1/e*2*Math.PI,a=e%2===0?Math.PI/2+n/2:Math.PI/2;a+=t;for(var i=new Array(e*2),o,s=0;s<e;s++)o=s*n+a,i[2*s]=Math.cos(o),i[2*s+1]=Math.sin(-o);return i},In=function(e,t){return Math.min(e/4,t/4,8)},qa=function(e,t){return Math.min(e/10,t/10,8)},Ji=function(){return 8},nl=function(e,t,n){return[e-2*t+n,2*(t-e),e]},ja=function(e,t){return{heightOffset:Math.min(15,.05*t),widthOffset:Math.min(100,.25*e),ctrlPtOffsetPct:.05}},al=zt({dampingFactor:.8,precision:1e-6,iterations:200,weight:function(e){return 1}}),il={pageRank:function(e){for(var t=al(e),n=t.dampingFactor,a=t.precision,i=t.iterations,o=t.weight,s=this._private.cy,l=this.byGroup(),u=l.nodes,f=l.edges,v=u.length,d=v*v,h=f.length,c=new Array(d),p=new Array(v),y=(1-n)/v,b=0;b<v;b++){for(var x=0;x<v;x++){var w=b*v+x;c[w]=0}p[b]=0}for(var P=0;P<h;P++){var F=f[P],G=F.data("source"),k=F.data("target");if(G!==k){var V=u.indexOfId(G),M=u.indexOfId(k),$=o(F),K=M*v+V;c[K]+=$,p[V]+=$}}for(var I=1/v+y,Q=0;Q<v;Q++)if(p[Q]===0)for(var H=0;H<v;H++){var ne=H*v+Q;c[ne]=I}else for(var J=0;J<v;J++){var q=J*v+Q;c[q]=c[q]/p[Q]+y}for(var se=new Array(v),fe=new Array(v),ye,le=0;le<v;le++)se[le]=1;for(var me=0;me<i;me++){for(var xe=0;xe<v;xe++)fe[xe]=0;for(var ke=0;ke<v;ke++)for(var Ce=0;Ce<v;Ce++){var Ee=ke*v+Ce;fe[ke]+=c[Ee]*se[Ce]}Hu(fe),ye=se,se=fe,fe=ye;for(var ie=0,De=0;De<v;De++){var Pe=ye[De]-se[De];ie+=Pe*Pe}if(ie<a)break}var ze={rank:function(at){return at=s.collection(at)[0],se[u.indexOf(at)]}};return ze}},qi=zt({root:null,weight:function(e){return 1},directed:!1,alpha:0}),sn={degreeCentralityNormalized:function(e){e=qi(e);var t=this.cy(),n=this.nodes(),a=n.length;if(e.directed){for(var f={},v={},d=0,h=0,c=0;c<a;c++){var p=n[c],y=p.id();e.root=p;var b=this.degreeCentrality(e);d<b.indegree&&(d=b.indegree),h<b.outdegree&&(h=b.outdegree),f[y]=b.indegree,v[y]=b.outdegree}return{indegree:function(w){return d==0?0:(_(w)&&(w=t.filter(w)),f[w.id()]/d)},outdegree:function(w){return h===0?0:(_(w)&&(w=t.filter(w)),v[w.id()]/h)}}}else{for(var i={},o=0,s=0;s<a;s++){var l=n[s];e.root=l;var u=this.degreeCentrality(e);o<u.degree&&(o=u.degree),i[l.id()]=u.degree}return{degree:function(w){return o===0?0:(_(w)&&(w=t.filter(w)),i[w.id()]/o)}}}},degreeCentrality:function(e){e=qi(e);var t=this.cy(),n=this,a=e,i=a.root,o=a.weight,s=a.directed,l=a.alpha;if(i=t.collection(i)[0],s){for(var h=i.connectedEdges(),c=h.filter(function(G){return G.target().same(i)&&n.has(G)}),p=h.filter(function(G){return G.source().same(i)&&n.has(G)}),y=c.length,b=p.length,x=0,w=0,P=0;P<c.length;P++)x+=o(c[P]);for(var F=0;F<p.length;F++)w+=o(p[F]);return{indegree:Math.pow(y,1-l)*Math.pow(x,l),outdegree:Math.pow(b,1-l)*Math.pow(w,l)}}else{for(var u=i.connectedEdges().intersection(n),f=u.length,v=0,d=0;d<u.length;d++)v+=o(u[d]);return{degree:Math.pow(f,1-l)*Math.pow(v,l)}}}};sn.dc=sn.degreeCentrality,sn.dcn=sn.degreeCentralityNormalised=sn.degreeCentralityNormalized;var ji=zt({harmonic:!0,weight:function(){return 1},directed:!1,root:null}),un={closenessCentralityNormalized:function(e){for(var t=ji(e),n=t.harmonic,a=t.weight,i=t.directed,o=this.cy(),s={},l=0,u=this.nodes(),f=this.floydWarshall({weight:a,directed:i}),v=0;v<u.length;v++){for(var d=0,h=u[v],c=0;c<u.length;c++)if(v!==c){var p=f.distance(h,u[c]);n?d+=1/p:d+=p}n||(d=1/d),l<d&&(l=d),s[h.id()]=d}return{closeness:function(b){return l==0?0:(_(b)?b=o.filter(b)[0].id():b=b.id(),s[b]/l)}}},closenessCentrality:function(e){var t=ji(e),n=t.root,a=t.weight,i=t.directed,o=t.harmonic;n=this.filter(n)[0];for(var s=this.dijkstra({root:n,weight:a,directed:i}),l=0,u=this.nodes(),f=0;f<u.length;f++){var v=u[f];if(!v.same(n)){var d=s.distanceTo(v);o?l+=1/d:l+=d}}return o?l:1/l}};un.cc=un.closenessCentrality,un.ccn=un.closenessCentralityNormalised=un.closenessCentralityNormalized;var ol=zt({weight:null,directed:!1}),_a={betweennessCentrality:function(e){for(var t=ol(e),n=t.directed,a=t.weight,i=a!=null,o=this.cy(),s=this.nodes(),l={},u={},f=0,v={set:function(w,P){u[w]=P,P>f&&(f=P)},get:function(w){return u[w]}},d=0;d<s.length;d++){var h=s[d],c=h.id();n?l[c]=h.outgoers().nodes():l[c]=h.openNeighborhood().nodes(),v.set(c,0)}for(var p=function(w){for(var P=s[w].id(),F=[],G={},k={},V={},M=new D.default(function(Ce,Ee){return V[Ce]-V[Ee]}),$=0;$<s.length;$++){var K=s[$].id();G[K]=[],k[K]=0,V[K]=1/0}for(k[P]=1,V[P]=0,M.push(P);!M.empty();){var I=M.pop();if(F.push(I),i)for(var Q=0;Q<l[I].length;Q++){var H=l[I][Q],ne=o.getElementById(I),J=void 0;ne.edgesTo(H).length>0?J=ne.edgesTo(H)[0]:J=H.edgesTo(ne)[0];var q=a(J);H=H.id(),V[H]>V[I]+q&&(V[H]=V[I]+q,M.nodes.indexOf(H)<0?M.push(H):M.updateItem(H),k[H]=0,G[H]=[]),V[H]==V[I]+q&&(k[H]=k[H]+k[I],G[H].push(I))}else for(var se=0;se<l[I].length;se++){var fe=l[I][se].id();V[fe]==1/0&&(M.push(fe),V[fe]=V[I]+1),V[fe]==V[I]+1&&(k[fe]=k[fe]+k[I],G[fe].push(I))}}for(var ye={},le=0;le<s.length;le++)ye[s[le].id()]=0;for(;F.length>0;){for(var me=F.pop(),xe=0;xe<G[me].length;xe++){var ke=G[me][xe];ye[ke]=ye[ke]+k[ke]/k[me]*(1+ye[me])}me!=s[w].id()&&v.set(me,v.get(me)+ye[me])}},y=0;y<s.length;y++)p(y);var b={betweenness:function(w){var P=o.collection(w).id();return v.get(P)},betweennessNormalized:function(w){if(f==0)return 0;var P=o.collection(w).id();return v.get(P)/f}};return b.betweennessNormalised=b.betweennessNormalized,b}};_a.bc=_a.betweennessCentrality;var sl=zt({expandFactor:2,inflateFactor:2,multFactor:1,maxIterations:20,attributes:[function(r){return 1}]}),ul=function(e){return sl(e)},ll=function(e,t){for(var n=0,a=0;a<t.length;a++)n+=t[a](e);return n},fl=function(e,t,n){for(var a=0;a<t;a++)e[a*t+a]=n},_i=function(e,t){for(var n,a=0;a<t;a++){n=0;for(var i=0;i<t;i++)n+=e[i*t+a];for(var o=0;o<t;o++)e[o*t+a]=e[o*t+a]/n}},vl=function(e,t,n){for(var a=new Array(n*n),i=0;i<n;i++){for(var o=0;o<n;o++)a[i*n+o]=0;for(var s=0;s<n;s++)for(var l=0;l<n;l++)a[i*n+l]+=e[i*n+s]*t[s*n+l]}return a},dl=function(e,t,n){for(var a=e.slice(0),i=1;i<n;i++)e=vl(e,a,t);return e},cl=function(e,t,n){for(var a=new Array(t*t),i=0;i<t*t;i++)a[i]=Math.pow(e[i],n);return _i(a,t),a},hl=function(e,t,n,a){for(var i=0;i<n;i++){var o=Math.round(e[i]*Math.pow(10,a))/Math.pow(10,a),s=Math.round(t[i]*Math.pow(10,a))/Math.pow(10,a);if(o!==s)return!1}return!0},gl=function(e,t,n,a){for(var i=[],o=0;o<t;o++){for(var s=[],l=0;l<t;l++)Math.round(e[o*t+l]*1e3)/1e3>0&&s.push(n[l]);s.length!==0&&i.push(a.collection(s))}return i},pl=function(e,t){for(var n=0;n<e.length;n++)if(!t[n]||e[n].id()!==t[n].id())return!1;return!0},ml=function(e){for(var t=0;t<e.length;t++)for(var n=0;n<e.length;n++)t!=n&&pl(e[t],e[n])&&e.splice(n,1);return e},eo=function(e){for(var t=this.nodes(),n=this.edges(),a=this.cy(),i=ul(e),o={},s=0;s<t.length;s++)o[t[s].id()]=s;for(var l=t.length,u=l*l,f=new Array(u),v,d=0;d<u;d++)f[d]=0;for(var h=0;h<n.length;h++){var c=n[h],p=o[c.source().id()],y=o[c.target().id()],b=ll(c,i.attributes);f[p*l+y]+=b,f[y*l+p]+=b}fl(f,l,i.multFactor),_i(f,l);for(var x=!0,w=0;x&&w<i.maxIterations;)x=!1,v=dl(f,l,i.expandFactor),f=cl(v,l,i.inflateFactor),hl(f,v,u,4)||(x=!0),w++;var P=gl(f,l,t,a);return P=ml(P),P},yl={markovClustering:eo,mcl:eo},bl=function(e){return e},to=function(e,t){return Math.abs(t-e)},ro=function(e,t,n){return e+to(t,n)},no=function(e,t,n){return e+Math.pow(n-t,2)},wl=function(e){return Math.sqrt(e)},xl=function(e,t,n){return Math.max(e,to(t,n))},On=function(e,t,n,a,i){for(var o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:bl,s=a,l,u,f=0;f<e;f++)l=t(f),u=n(f),s=i(s,l,u);return o(s)},ln={euclidean:function(e,t,n){return e>=2?On(e,t,n,0,no,wl):On(e,t,n,0,ro)},squaredEuclidean:function(e,t,n){return On(e,t,n,0,no)},manhattan:function(e,t,n){return On(e,t,n,0,ro)},max:function(e,t,n){return On(e,t,n,-1/0,xl)}};ln["squared-euclidean"]=ln.squaredEuclidean,ln.squaredeuclidean=ln.squaredEuclidean;function ua(r,e,t,n,a,i){var o;return ce(r)?o=r:o=ln[r]||ln.euclidean,e===0&&ce(r)?o(a,i):o(e,t,n,a,i)}var El=zt({k:2,m:2,sensitivityThreshold:1e-4,distance:"euclidean",maxIterations:10,attributes:[],testMode:!1,testCentroids:null}),ei=function(e){return El(e)},la=function(e,t,n,a,i){var o=i!=="kMedoids",s=o?function(v){return n[v]}:function(v){return a[v](n)},l=function(d){return a[d](t)},u=n,f=t;return ua(e,a.length,s,l,u,f)},ti=function(e,t,n){for(var a=n.length,i=new Array(a),o=new Array(a),s=new Array(t),l=null,u=0;u<a;u++)i[u]=e.min(n[u]).value,o[u]=e.max(n[u]).value;for(var f=0;f<t;f++){l=[];for(var v=0;v<a;v++)l[v]=Math.random()*(o[v]-i[v])+i[v];s[f]=l}return s},ao=function(e,t,n,a,i){for(var o=1/0,s=0,l=0;l<t.length;l++){var u=la(n,e,t[l],a,i);u<o&&(o=u,s=l)}return s},io=function(e,t,n){for(var a=[],i=null,o=0;o<t.length;o++)i=t[o],n[i.id()]===e&&a.push(i);return a},Cl=function(e,t,n){return Math.abs(t-e)<=n},Sl=function(e,t,n){for(var a=0;a<e.length;a++)for(var i=0;i<e[a].length;i++){var o=Math.abs(e[a][i]-t[a][i]);if(o>n)return!1}return!0},Tl=function(e,t,n){for(var a=0;a<n;a++)if(e===t[a])return!0;return!1},oo=function(e,t){var n=new Array(t);if(e.length<50)for(var a=0;a<t;a++){for(var i=e[Math.floor(Math.random()*e.length)];Tl(i,n,a);)i=e[Math.floor(Math.random()*e.length)];n[a]=i}else for(var o=0;o<t;o++)n[o]=e[Math.floor(Math.random()*e.length)];return n},so=function(e,t,n){for(var a=0,i=0;i<t.length;i++)a+=la("manhattan",t[i],e,n,"kMedoids");return a},Dl=function(e){var t=this.cy(),n=this.nodes(),a=null,i=ei(e),o=new Array(i.k),s={},l;i.testMode?typeof i.testCentroids=="number"?(i.testCentroids,l=ti(n,i.k,i.attributes)):W(i.testCentroids)==="object"?l=i.testCentroids:l=ti(n,i.k,i.attributes):l=ti(n,i.k,i.attributes);for(var u=!0,f=0;u&&f<i.maxIterations;){for(var v=0;v<n.length;v++)a=n[v],s[a.id()]=ao(a,l,i.distance,i.attributes,"kMeans");u=!1;for(var d=0;d<i.k;d++){var h=io(d,n,s);if(h.length!==0){for(var c=i.attributes.length,p=l[d],y=new Array(c),b=new Array(c),x=0;x<c;x++){b[x]=0;for(var w=0;w<h.length;w++)a=h[w],b[x]+=i.attributes[x](a);y[x]=b[x]/h.length,Cl(y[x],p[x],i.sensitivityThreshold)||(u=!0)}l[d]=y,o[d]=t.collection(h)}}f++}return o},kl=function(e){var t=this.cy(),n=this.nodes(),a=null,i=ei(e),o=new Array(i.k),s,l={},u,f=new Array(i.k);i.testMode?typeof i.testCentroids=="number"||(W(i.testCentroids)==="object"?s=i.testCentroids:s=oo(n,i.k)):s=oo(n,i.k);for(var v=!0,d=0;v&&d<i.maxIterations;){for(var h=0;h<n.length;h++)a=n[h],l[a.id()]=ao(a,s,i.distance,i.attributes,"kMedoids");v=!1;for(var c=0;c<s.length;c++){var p=io(c,n,l);if(p.length!==0){f[c]=so(s[c],p,i.attributes);for(var y=0;y<p.length;y++)u=so(p[y],p,i.attributes),u<f[c]&&(f[c]=u,s[c]=p[y],v=!0);o[c]=t.collection(p)}}d++}return o},Pl=function(e,t,n,a,i){for(var o,s,l=0;l<t.length;l++)for(var u=0;u<e.length;u++)a[l][u]=Math.pow(n[l][u],i.m);for(var f=0;f<e.length;f++)for(var v=0;v<i.attributes.length;v++){o=0,s=0;for(var d=0;d<t.length;d++)o+=a[d][f]*i.attributes[v](t[d]),s+=a[d][f];e[f][v]=o/s}},Bl=function(e,t,n,a,i){for(var o=0;o<e.length;o++)t[o]=e[o].slice();for(var s,l,u,f=2/(i.m-1),v=0;v<n.length;v++)for(var d=0;d<a.length;d++){s=0;for(var h=0;h<n.length;h++)l=la(i.distance,a[d],n[v],i.attributes,"cmeans"),u=la(i.distance,a[d],n[h],i.attributes,"cmeans"),s+=Math.pow(l/u,f);e[d][v]=1/s}},Ll=function(e,t,n,a){for(var i=new Array(n.k),o=0;o<i.length;o++)i[o]=[];for(var s,l,u=0;u<t.length;u++){s=-1/0,l=-1;for(var f=0;f<t[0].length;f++)t[u][f]>s&&(s=t[u][f],l=f);i[l].push(e[u])}for(var v=0;v<i.length;v++)i[v]=a.collection(i[v]);return i},uo=function(e){var t=this.cy(),n=this.nodes(),a=ei(e),i,o,s,l,u;l=new Array(n.length);for(var f=0;f<n.length;f++)l[f]=new Array(a.k);s=new Array(n.length);for(var v=0;v<n.length;v++)s[v]=new Array(a.k);for(var d=0;d<n.length;d++){for(var h=0,c=0;c<a.k;c++)s[d][c]=Math.random(),h+=s[d][c];for(var p=0;p<a.k;p++)s[d][p]=s[d][p]/h}o=new Array(a.k);for(var y=0;y<a.k;y++)o[y]=new Array(a.attributes.length);u=new Array(n.length);for(var b=0;b<n.length;b++)u[b]=new Array(a.k);for(var x=!0,w=0;x&&w<a.maxIterations;)x=!1,Pl(o,n,s,u,a),Bl(s,l,o,n,a),Sl(s,l,a.sensitivityThreshold)||(x=!0),w++;return i=Ll(n,s,a,t),{clusters:i,degreeOfMembership:s}},Ml={kMeans:Dl,kMedoids:kl,fuzzyCMeans:uo,fcm:uo},Rl=zt({distance:"euclidean",linkage:"min",mode:"threshold",threshold:1/0,addDendrogram:!1,dendrogramDepth:0,attributes:[]}),Al={single:"min",complete:"max"},Il=function(e){var t=Rl(e),n=Al[t.linkage];return n!=null&&(t.linkage=n),t},lo=function(e,t,n,a,i){for(var o=0,s=1/0,l,u=i.attributes,f=function(M,$){return ua(i.distance,u.length,function(K){return u[K](M)},function(K){return u[K]($)},M,$)},v=0;v<e.length;v++){var d=e[v].key,h=n[d][a[d]];h<s&&(o=d,s=h)}if(i.mode==="threshold"&&s>=i.threshold||i.mode==="dendrogram"&&e.length===1)return!1;var c=t[o],p=t[a[o]],y;i.mode==="dendrogram"?y={left:c,right:p,key:c.key}:y={value:c.value.concat(p.value),key:c.key},e[c.index]=y,e.splice(p.index,1),t[c.key]=y;for(var b=0;b<e.length;b++){var x=e[b];c.key===x.key?l=1/0:i.linkage==="min"?(l=n[c.key][x.key],n[c.key][x.key]>n[p.key][x.key]&&(l=n[p.key][x.key])):i.linkage==="max"?(l=n[c.key][x.key],n[c.key][x.key]<n[p.key][x.key]&&(l=n[p.key][x.key])):i.linkage==="mean"?l=(n[c.key][x.key]*c.size+n[p.key][x.key]*p.size)/(c.size+p.size):i.mode==="dendrogram"?l=f(x.value,c.value):l=f(x.value[0],c.value[0]),n[c.key][x.key]=n[x.key][c.key]=l}for(var w=0;w<e.length;w++){var P=e[w].key;if(a[P]===c.key||a[P]===p.key){for(var F=P,G=0;G<e.length;G++){var k=e[G].key;n[P][k]<n[P][F]&&(F=k)}a[P]=F}e[w].index=w}return c.key=p.key=c.index=p.index=null,!0},fa=function r(e,t,n){e&&(e.value?t.push(e.value):(e.left&&r(e.left,t),e.right&&r(e.right,t)))},Ol=function r(e,t){if(!e)return"";if(e.left&&e.right){var n=r(e.left,t),a=r(e.right,t),i=t.add({group:"nodes",data:{id:n+","+a}});return t.add({group:"edges",data:{source:n,target:i.id()}}),t.add({group:"edges",data:{source:a,target:i.id()}}),i.id()}else if(e.value)return e.value.id()},Nl=function r(e,t,n){if(!e)return[];var a=[],i=[],o=[];return t===0?(e.left&&fa(e.left,a),e.right&&fa(e.right,i),o=a.concat(i),[n.collection(o)]):t===1?e.value?[n.collection(e.value)]:(e.left&&fa(e.left,a),e.right&&fa(e.right,i),[n.collection(a),n.collection(i)]):e.value?[n.collection(e.value)]:(e.left&&(a=r(e.left,t-1,n)),e.right&&(i=r(e.right,t-1,n)),a.concat(i))},fo=function(e){for(var t=this.cy(),n=this.nodes(),a=Il(e),i=a.attributes,o=function(w,P){return ua(a.distance,i.length,function(F){return i[F](w)},function(F){return i[F](P)},w,P)},s=[],l=[],u=[],f=[],v=0;v<n.length;v++){var d={value:a.mode==="dendrogram"?n[v]:[n[v]],key:v,index:v};s[v]=d,f[v]=d,l[v]=[],u[v]=0}for(var h=0;h<s.length;h++)for(var c=0;c<=h;c++){var p=void 0;a.mode==="dendrogram"?p=h===c?1/0:o(s[h].value,s[c].value):p=h===c?1/0:o(s[h].value[0],s[c].value[0]),l[h][c]=p,l[c][h]=p,p<l[h][u[h]]&&(u[h]=c)}for(var y=lo(s,f,l,u,a);y;)y=lo(s,f,l,u,a);var b;return a.mode==="dendrogram"?(b=Nl(s[0],a.dendrogramDepth,t),a.addDendrogram&&Ol(s[0],t)):(b=new Array(s.length),s.forEach(function(x,w){x.key=x.index=null,b[w]=t.collection(x.value)})),b},zl={hierarchicalClustering:fo,hca:fo},Fl=zt({distance:"euclidean",preference:"median",damping:.8,maxIterations:1e3,minIterations:100,attributes:[]}),Vl=function(e){var t=e.damping,n=e.preference;.5<=t&&t<1||Pt("Damping must range on [0.5, 1).  Got: ".concat(t));var a=["median","mean","min","max"];return a.some(function(i){return i===n})||ue(n)||Pt("Preference must be one of [".concat(a.map(function(i){return"'".concat(i,"'")}).join(", "),"] or a number.  Got: ").concat(n)),Fl(e)},Gl=function(e,t,n,a){var i=function(s,l){return a[l](s)};return-ua(e,a.length,function(o){return i(t,o)},function(o){return i(n,o)},t,n)},Hl=function(e,t){var n=null;return t==="median"?n=Vu(e):t==="mean"?n=Fu(e):t==="min"?n=Nu(e):t==="max"?n=zu(e):n=t,n},Wl=function(e,t,n){for(var a=[],i=0;i<e;i++)t[i*e+i]+n[i*e+i]>0&&a.push(i);return a},vo=function(e,t,n){for(var a=[],i=0;i<e;i++){for(var o=-1,s=-1/0,l=0;l<n.length;l++){var u=n[l];t[i*e+u]>s&&(o=u,s=t[i*e+u])}o>0&&a.push(o)}for(var f=0;f<n.length;f++)a[n[f]]=n[f];return a},$l=function(e,t,n){for(var a=vo(e,t,n),i=0;i<n.length;i++){for(var o=[],s=0;s<a.length;s++)a[s]===n[i]&&o.push(s);for(var l=-1,u=-1/0,f=0;f<o.length;f++){for(var v=0,d=0;d<o.length;d++)v+=t[o[d]*e+o[f]];v>u&&(l=f,u=v)}n[i]=o[l]}return a=vo(e,t,n),a},co=function(e){for(var t=this.cy(),n=this.nodes(),a=Vl(e),i={},o=0;o<n.length;o++)i[n[o].id()]=o;var s,l,u,f,v,d;s=n.length,l=s*s,u=new Array(l);for(var h=0;h<l;h++)u[h]=-1/0;for(var c=0;c<s;c++)for(var p=0;p<s;p++)c!==p&&(u[c*s+p]=Gl(a.distance,n[c],n[p],a.attributes));f=Hl(u,a.preference);for(var y=0;y<s;y++)u[y*s+y]=f;v=new Array(l);for(var b=0;b<l;b++)v[b]=0;d=new Array(l);for(var x=0;x<l;x++)d[x]=0;for(var w=new Array(s),P=new Array(s),F=new Array(s),G=0;G<s;G++)w[G]=0,P[G]=0,F[G]=0;for(var k=new Array(s*a.minIterations),V=0;V<k.length;V++)k[V]=0;var M;for(M=0;M<a.maxIterations;M++){for(var $=0;$<s;$++){for(var K=-1/0,I=-1/0,Q=-1,H=0,ne=0;ne<s;ne++)w[ne]=v[$*s+ne],H=d[$*s+ne]+u[$*s+ne],H>=K?(I=K,K=H,Q=ne):H>I&&(I=H);for(var J=0;J<s;J++)v[$*s+J]=(1-a.damping)*(u[$*s+J]-K)+a.damping*w[J];v[$*s+Q]=(1-a.damping)*(u[$*s+Q]-I)+a.damping*w[Q]}for(var q=0;q<s;q++){for(var se=0,fe=0;fe<s;fe++)w[fe]=d[fe*s+q],P[fe]=Math.max(0,v[fe*s+q]),se+=P[fe];se-=P[q],P[q]=v[q*s+q],se+=P[q];for(var ye=0;ye<s;ye++)d[ye*s+q]=(1-a.damping)*Math.min(0,se-P[ye])+a.damping*w[ye];d[q*s+q]=(1-a.damping)*(se-P[q])+a.damping*w[q]}for(var le=0,me=0;me<s;me++){var xe=d[me*s+me]+v[me*s+me]>0?1:0;k[M%a.minIterations*s+me]=xe,le+=xe}if(le>0&&(M>=a.minIterations-1||M==a.maxIterations-1)){for(var ke=0,Ce=0;Ce<s;Ce++){F[Ce]=0;for(var Ee=0;Ee<a.minIterations;Ee++)F[Ce]+=k[Ee*s+Ce];(F[Ce]===0||F[Ce]===a.minIterations)&&ke++}if(ke===s)break}}for(var ie=Wl(s,v,d),De=$l(s,u,ie),Pe={},ze=0;ze<ie.length;ze++)Pe[ie[ze]]=[];for(var Ve=0;Ve<n.length;Ve++){var at=i[n[Ve].id()],it=De[at];it!=null&&Pe[it].push(n[Ve])}for(var We=new Array(ie.length),Ge=0;Ge<ie.length;Ge++)We[Ge]=t.collection(Pe[ie[Ge]]);return We},Kl={affinityPropagation:co,ap:co},Yl=zt({root:void 0,directed:!1}),Ul={hierholzer:function(e){if(!Ne(e)){var t=arguments;e={root:t[0],directed:t[1]}}var n=Yl(e),a=n.root,i=n.directed,o=this,s=!1,l,u,f;a&&(f=_(a)?this.filter(a)[0].id():a[0].id());var v={},d={};i?o.forEach(function(x){var w=x.id();if(x.isNode()){var P=x.indegree(!0),F=x.outdegree(!0),G=P-F,k=F-P;G==1?l?s=!0:l=w:k==1?u?s=!0:u=w:(k>1||G>1)&&(s=!0),v[w]=[],x.outgoers().forEach(function(V){V.isEdge()&&v[w].push(V.id())})}else d[w]=[void 0,x.target().id()]}):o.forEach(function(x){var w=x.id();if(x.isNode()){var P=x.degree(!0);P%2&&(l?u?s=!0:u=w:l=w),v[w]=[],x.connectedEdges().forEach(function(F){return v[w].push(F.id())})}else d[w]=[x.source().id(),x.target().id()]});var h={found:!1,trail:void 0};if(s)return h;if(u&&l)if(i){if(f&&u!=f)return h;f=u}else{if(f&&u!=f&&l!=f)return h;f||(f=u)}else f||(f=o[0].id());var c=function(w){for(var P=w,F=[w],G,k,V;v[P].length;)G=v[P].shift(),k=d[G][0],V=d[G][1],P!=V?(v[V]=v[V].filter(function(M){return M!=G}),P=V):!i&&P!=k&&(v[k]=v[k].filter(function(M){return M!=G}),P=k),F.unshift(G),F.unshift(P);return F},p=[],y=[];for(y=c(f);y.length!=1;)v[y[0]].length==0?(p.unshift(o.getElementById(y.shift())),p.unshift(o.getElementById(y.shift()))):y=c(y.shift()).concat(y);p.unshift(o.getElementById(y.shift()));for(var b in v)if(v[b].length)return h;return h.found=!0,h.trail=this.spawn(p,!0),h}},va=function(){var e=this,t={},n=0,a=0,i=[],o=[],s={},l=function(d,h){for(var c=o.length-1,p=[],y=e.spawn();o[c].x!=d||o[c].y!=h;)p.push(o.pop().edge),c--;p.push(o.pop().edge),p.forEach(function(b){var x=b.connectedNodes().intersection(e);y.merge(b),x.forEach(function(w){var P=w.id(),F=w.connectedEdges().intersection(e);y.merge(w),t[P].cutVertex?y.merge(F.filter(function(G){return G.isLoop()})):y.merge(F)})}),i.push(y)},u=function v(d,h,c){d===c&&(a+=1),t[h]={id:n,low:n++,cutVertex:!1};var p=e.getElementById(h).connectedEdges().intersection(e);if(p.size()===0)i.push(e.spawn(e.getElementById(h)));else{var y,b,x,w;p.forEach(function(P){y=P.source().id(),b=P.target().id(),x=y===h?b:y,x!==c&&(w=P.id(),s[w]||(s[w]=!0,o.push({x:h,y:x,edge:P})),x in t?t[h].low=Math.min(t[h].low,t[x].id):(v(d,x,h),t[h].low=Math.min(t[h].low,t[x].low),t[h].id<=t[x].low&&(t[h].cutVertex=!0,l(h,x))))})}};e.forEach(function(v){if(v.isNode()){var d=v.id();d in t||(a=0,u(d,d),t[d].cutVertex=a>1)}});var f=Object.keys(t).filter(function(v){return t[v].cutVertex}).map(function(v){return e.getElementById(v)});return{cut:e.spawn(f),components:i}},Zl={hopcroftTarjanBiconnected:va,htbc:va,htb:va,hopcroftTarjanBiconnectedComponents:va},da=function(){var e=this,t={},n=0,a=[],i=[],o=e.spawn(e),s=function l(u){i.push(u),t[u]={index:n,low:n++,explored:!1};var f=e.getElementById(u).connectedEdges().intersection(e);if(f.forEach(function(p){var y=p.target().id();y!==u&&(y in t||l(y),t[y].explored||(t[u].low=Math.min(t[u].low,t[y].low)))}),t[u].index===t[u].low){for(var v=e.spawn();;){var d=i.pop();if(v.merge(e.getElementById(d)),t[d].low=t[u].index,t[d].explored=!0,d===u)break}var h=v.edgesWith(v),c=v.merge(h);a.push(c),o=o.difference(c)}};return e.forEach(function(l){if(l.isNode()){var u=l.id();u in t||s(u)}}),{cut:o,components:a}},Xl={tarjanStronglyConnected:da,tsc:da,tscc:da,tarjanStronglyConnectedComponents:da},ho={};[Ln,Su,Tu,ku,Bu,Mu,Iu,il,sn,un,_a,yl,Ml,zl,Kl,Ul,Zl,Xl].forEach(function(r){rt(ho,r)});/*!
Embeddable Minimum Strictly-Compliant Promises/A+ 1.1.1 Thenable
Copyright (c) 2013-2014 Ralf S. Engelschall (http://engelschall.com)
Licensed under The MIT License (http://opensource.org/licenses/MIT)
*/var go=0,po=1,mo=2,Sr=function r(e){if(!(this instanceof r))return new r(e);this.id="Thenable/1.0.7",this.state=go,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},typeof e=="function"&&e.call(this,this.fulfill.bind(this),this.reject.bind(this))};Sr.prototype={fulfill:function(e){return yo(this,po,"fulfillValue",e)},reject:function(e){return yo(this,mo,"rejectReason",e)},then:function(e,t){var n=this,a=new Sr;return n.onFulfilled.push(xo(e,a,"fulfill")),n.onRejected.push(xo(t,a,"reject")),bo(n),a.proxy}};var yo=function(e,t,n,a){return e.state===go&&(e.state=t,e[n]=a,bo(e)),e},bo=function(e){e.state===po?wo(e,"onFulfilled",e.fulfillValue):e.state===mo&&wo(e,"onRejected",e.rejectReason)},wo=function(e,t,n){if(e[t].length!==0){var a=e[t];e[t]=[];var i=function(){for(var s=0;s<a.length;s++)a[s](n)};typeof g=="function"?g(i):setTimeout(i,0)}},xo=function(e,t,n){return function(a){if(typeof e!="function")t[n].call(t,a);else{var i;try{i=e(a)}catch(o){t.reject(o);return}Ql(t,i)}}},Ql=function r(e,t){if(e===t||e.proxy===t){e.reject(new TypeError("cannot resolve promise with itself"));return}var n;if(W(t)==="object"&&t!==null||typeof t=="function")try{n=t.then}catch(i){e.reject(i);return}if(typeof n=="function"){var a=!1;try{n.call(t,function(i){a||(a=!0,i===t?e.reject(new TypeError("circular thenable chain")):r(e,i))},function(i){a||(a=!0,e.reject(i))})}catch(i){a||e.reject(i)}return}e.fulfill(t)};Sr.all=function(r){return new Sr(function(e,t){for(var n=new Array(r.length),a=0,i=function(l,u){n[l]=u,a++,a===r.length&&e(n)},o=0;o<r.length;o++)(function(s){var l=r[s],u=l!=null&&l.then!=null;if(u)l.then(function(v){i(s,v)},function(v){t(v)});else{var f=l;i(s,f)}})(o)})},Sr.resolve=function(r){return new Sr(function(e,t){e(r)})},Sr.reject=function(r){return new Sr(function(e,t){t(r)})};var fn=typeof Promise<"u"?Promise:Sr,ri=function(e,t,n){var a=we(e),i=!a,o=this._private=rt({duration:1e3},t,n);if(o.target=e,o.style=o.style||o.css,o.started=!1,o.playing=!1,o.hooked=!1,o.applying=!1,o.progress=0,o.completes=[],o.frames=[],o.complete&&ce(o.complete)&&o.completes.push(o.complete),i){var s=e.position();o.startPosition=o.startPosition||{x:s.x,y:s.y},o.startStyle=o.startStyle||e.cy().style().getAnimationStartStyle(e,o.style)}if(a){var l=e.pan();o.startPan={x:l.x,y:l.y},o.startZoom=e.zoom()}this.length=1,this[0]=this},Yr=ri.prototype;rt(Yr,{instanceString:function(){return"animation"},hook:function(){var e=this._private;if(!e.hooked){var t,n=e.target._private.animation;e.queue?t=n.queue:t=n.current,t.push(this),Ye(e.target)&&e.target.cy().addToAnimationPool(e.target),e.hooked=!0}return this},play:function(){var e=this._private;return e.progress===1&&(e.progress=0),e.playing=!0,e.started=!1,e.stopped=!1,this.hook(),this},playing:function(){return this._private.playing},apply:function(){var e=this._private;return e.applying=!0,e.started=!1,e.stopped=!1,this.hook(),this},applying:function(){return this._private.applying},pause:function(){var e=this._private;return e.playing=!1,e.started=!1,this},stop:function(){var e=this._private;return e.playing=!1,e.started=!1,e.stopped=!0,this},rewind:function(){return this.progress(0)},fastforward:function(){return this.progress(1)},time:function(e){var t=this._private;return e===void 0?t.progress*t.duration:this.progress(e/t.duration)},progress:function(e){var t=this._private,n=t.playing;return e===void 0?t.progress:(n&&this.pause(),t.progress=e,t.started=!1,n&&this.play(),this)},completed:function(){return this._private.progress===1},reverse:function(){var e=this._private,t=e.playing;t&&this.pause(),e.progress=1-e.progress,e.started=!1;var n=function(u,f){var v=e[u];v!=null&&(e[u]=e[f],e[f]=v)};if(n("zoom","startZoom"),n("pan","startPan"),n("position","startPosition"),e.style)for(var a=0;a<e.style.length;a++){var i=e.style[a],o=i.name,s=e.startStyle[o];e.startStyle[o]=i,e.style[a]=s}return t&&this.play(),this},promise:function(e){var t=this._private,n;switch(e){case"frame":n=t.frames;break;default:case"complete":case"completed":n=t.completes}return new fn(function(a,i){n.push(function(){a()})})}}),Yr.complete=Yr.completed,Yr.run=Yr.play,Yr.running=Yr.playing;var Jl={animated:function(){return function(){var t=this,n=t.length!==void 0,a=n?t:[t],i=this._private.cy||this;if(!i.styleEnabled())return!1;var o=a[0];if(o)return o._private.animation.current.length>0}},clearQueue:function(){return function(){var t=this,n=t.length!==void 0,a=n?t:[t],i=this._private.cy||this;if(!i.styleEnabled())return this;for(var o=0;o<a.length;o++){var s=a[o];s._private.animation.queue=[]}return this}},delay:function(){return function(t,n){var a=this._private.cy||this;return a.styleEnabled()?this.animate({delay:t,duration:t,complete:n}):this}},delayAnimation:function(){return function(t,n){var a=this._private.cy||this;return a.styleEnabled()?this.animation({delay:t,duration:t,complete:n}):this}},animation:function(){return function(t,n){var a=this,i=a.length!==void 0,o=i?a:[a],s=this._private.cy||this,l=!i,u=!l;if(!s.styleEnabled())return this;var f=s.style();t=rt({},t,n);var v=Object.keys(t).length===0;if(v)return new ri(o[0],t);switch(t.duration===void 0&&(t.duration=400),t.duration){case"slow":t.duration=600;break;case"fast":t.duration=200;break}if(u&&(t.style=f.getPropsList(t.style||t.css),t.css=void 0),u&&t.renderedPosition!=null){var d=t.renderedPosition,h=s.pan(),c=s.zoom();t.position=Wi(d,c,h)}if(l&&t.panBy!=null){var p=t.panBy,y=s.pan();t.pan={x:y.x+p.x,y:y.y+p.y}}var b=t.center||t.centre;if(l&&b!=null){var x=s.getCenterPan(b.eles,t.zoom);x!=null&&(t.pan=x)}if(l&&t.fit!=null){var w=t.fit,P=s.getFitViewport(w.eles||w.boundingBox,w.padding);P!=null&&(t.pan=P.pan,t.zoom=P.zoom)}if(l&&Ne(t.zoom)){var F=s.getZoomedViewport(t.zoom);F!=null?(F.zoomed&&(t.zoom=F.zoom),F.panned&&(t.pan=F.pan)):t.zoom=null}return new ri(o[0],t)}},animate:function(){return function(t,n){var a=this,i=a.length!==void 0,o=i?a:[a],s=this._private.cy||this;if(!s.styleEnabled())return this;n&&(t=rt({},t,n));for(var l=0;l<o.length;l++){var u=o[l],f=u.animated()&&(t.queue===void 0||t.queue),v=u.animation(t,f?{queue:!0}:void 0);v.play()}return this}},stop:function(){return function(t,n){var a=this,i=a.length!==void 0,o=i?a:[a],s=this._private.cy||this;if(!s.styleEnabled())return this;for(var l=0;l<o.length;l++){for(var u=o[l],f=u._private,v=f.animation.current,d=0;d<v.length;d++){var h=v[d],c=h._private;n&&(c.duration=0)}t&&(f.animation.queue=[]),n||(f.animation.current=[])}return s.notify("draw"),this}}},ql={data:function(e){var t={field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,beforeGet:function(a){},beforeSet:function(a,i){},onSet:function(a){},canSet:function(a){return!0}};return e=rt({},t,e),function(a,i){var o=e,s=this,l=s.length!==void 0,u=l?s:[s],f=l?s[0]:s;if(_(a)){var v=a.indexOf(".")!==-1,d=v&&z.default(a);if(o.allowGetting&&i===void 0){var h;return f&&(o.beforeGet(f),d&&f._private[o.field][a]===void 0?h=L.default(f._private[o.field],d):h=f._private[o.field][a]),h}else if(o.allowSetting&&i!==void 0){var c=!o.immutableKeys[a];if(c){var p=j({},a,i);o.beforeSet(s,p);for(var y=0,b=u.length;y<b;y++){var x=u[y];o.canSet(x)&&(d&&f._private[o.field][a]===void 0?C.default(x._private[o.field],d,i):x._private[o.field][a]=i)}o.updateStyle&&s.updateStyle(),o.onSet(s),o.settingTriggersEvent&&s[o.triggerFnName](o.settingEvent)}}}else if(o.allowSetting&&Ne(a)){var w=a,P,F,G=Object.keys(w);o.beforeSet(s,w);for(var k=0;k<G.length;k++){P=G[k],F=w[P];var V=!o.immutableKeys[P];if(V)for(var M=0;M<u.length;M++){var $=u[M];o.canSet($)&&($._private[o.field][P]=F)}}o.updateStyle&&s.updateStyle(),o.onSet(s),o.settingTriggersEvent&&s[o.triggerFnName](o.settingEvent)}else if(o.allowBinding&&ce(a)){var K=a;s.on(o.bindingEvent,K)}else if(o.allowGetting&&a===void 0){var I;return f&&(o.beforeGet(f),I=f._private[o.field]),I}return s}},removeData:function(e){var t={field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}};return e=rt({},t,e),function(a){var i=e,o=this,s=o.length!==void 0,l=s?o:[o];if(_(a)){for(var u=a.split(/\s+/),f=u.length,v=0;v<f;v++){var d=u[v];if(!tt(d)){var h=!i.immutableKeys[d];if(h)for(var c=0,p=l.length;c<p;c++)l[c]._private[i.field][d]=void 0}}i.triggerEvent&&o[i.triggerFnName](i.event)}else if(a===void 0){for(var y=0,b=l.length;y<b;y++)for(var x=l[y]._private[i.field],w=Object.keys(x),P=0;P<w.length;P++){var F=w[P],G=!i.immutableKeys[F];G&&(x[F]=void 0)}i.triggerEvent&&o[i.triggerFnName](i.event)}return o}}},jl={eventAliasesOn:function(e){var t=e;t.addListener=t.listen=t.bind=t.on,t.unlisten=t.unbind=t.off=t.removeListener,t.trigger=t.emit,t.pon=t.promiseOn=function(n,a){var i=this,o=Array.prototype.slice.call(arguments,0);return new fn(function(s,l){var u=function(h){i.off.apply(i,v),s(h)},f=o.concat([u]),v=f.concat([]);i.on.apply(i,f)})}}},wt={};[Jl,ql,jl].forEach(function(r){rt(wt,r)});var _l={animate:wt.animate(),animation:wt.animation(),animated:wt.animated(),clearQueue:wt.clearQueue(),delay:wt.delay(),delayAnimation:wt.delayAnimation(),stop:wt.stop()},ca={classes:function(e){var t=this;if(e===void 0){var n=[];return t[0]._private.classes.forEach(function(c){return n.push(c)}),n}else ge(e)||(e=(e||"").match(/\S+/g)||[]);for(var a=[],i=new rn(e),o=0;o<t.length;o++){for(var s=t[o],l=s._private,u=l.classes,f=!1,v=0;v<e.length;v++){var d=e[v],h=u.has(d);if(!h){f=!0;break}}f||(f=u.size!==e.length),f&&(l.classes=i,a.push(s))}return a.length>0&&this.spawn(a).updateStyle().emit("class"),t},addClass:function(e){return this.toggleClass(e,!0)},hasClass:function(e){var t=this[0];return t!=null&&t._private.classes.has(e)},toggleClass:function(e,t){ge(e)||(e=e.match(/\S+/g)||[]);for(var n=this,a=t===void 0,i=[],o=0,s=n.length;o<s;o++)for(var l=n[o],u=l._private.classes,f=!1,v=0;v<e.length;v++){var d=e[v],h=u.has(d),c=!1;t||a&&!h?(u.add(d),c=!0):(!t||a&&h)&&(u.delete(d),c=!0),!f&&c&&(i.push(l),f=!0)}return i.length>0&&this.spawn(i).updateStyle().emit("class"),n},removeClass:function(e){return this.toggleClass(e,!1)},flashClass:function(e,t){var n=this;if(t==null)t=250;else if(t===0)return n;return n.addClass(e),setTimeout(function(){n.removeClass(e)},t),n}};ca.className=ca.classNames=ca.classes;var ht={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:`"(?:\\\\"|[^"])*"|'(?:\\\\'|[^'])*'`,number:Rt,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$",group:"node|edge|\\*",directedEdge:"\\s+->\\s+",undirectedEdge:"\\s+<->\\s+"};ht.variable="(?:[\\w-.]|(?:\\\\"+ht.metaChar+"))+",ht.className="(?:[\\w-]|(?:\\\\"+ht.metaChar+"))+",ht.value=ht.string+"|"+ht.number,ht.id=ht.variable,function(){var r,e,t;for(r=ht.comparatorOp.split("|"),t=0;t<r.length;t++)e=r[t],ht.comparatorOp+="|@"+e;for(r=ht.comparatorOp.split("|"),t=0;t<r.length;t++)e=r[t],!(e.indexOf("!")>=0)&&e!=="="&&(ht.comparatorOp+="|\\!"+e)}();var Ct=function(){return{checks:[]}},Xe={GROUP:0,COLLECTION:1,FILTER:2,DATA_COMPARE:3,DATA_EXIST:4,DATA_BOOL:5,META_COMPARE:6,STATE:7,ID:8,CLASS:9,UNDIRECTED_EDGE:10,DIRECTED_EDGE:11,NODE_SOURCE:12,NODE_TARGET:13,NODE_NEIGHBOR:14,CHILD:15,DESCENDANT:16,PARENT:17,ANCESTOR:18,COMPOUND_SPLIT:19,TRUE:20},ni=[{selector:":selected",matches:function(e){return e.selected()}},{selector:":unselected",matches:function(e){return!e.selected()}},{selector:":selectable",matches:function(e){return e.selectable()}},{selector:":unselectable",matches:function(e){return!e.selectable()}},{selector:":locked",matches:function(e){return e.locked()}},{selector:":unlocked",matches:function(e){return!e.locked()}},{selector:":visible",matches:function(e){return e.visible()}},{selector:":hidden",matches:function(e){return!e.visible()}},{selector:":transparent",matches:function(e){return e.transparent()}},{selector:":grabbed",matches:function(e){return e.grabbed()}},{selector:":free",matches:function(e){return!e.grabbed()}},{selector:":removed",matches:function(e){return e.removed()}},{selector:":inside",matches:function(e){return!e.removed()}},{selector:":grabbable",matches:function(e){return e.grabbable()}},{selector:":ungrabbable",matches:function(e){return!e.grabbable()}},{selector:":animated",matches:function(e){return e.animated()}},{selector:":unanimated",matches:function(e){return!e.animated()}},{selector:":parent",matches:function(e){return e.isParent()}},{selector:":childless",matches:function(e){return e.isChildless()}},{selector:":child",matches:function(e){return e.isChild()}},{selector:":orphan",matches:function(e){return e.isOrphan()}},{selector:":nonorphan",matches:function(e){return e.isChild()}},{selector:":compound",matches:function(e){return e.isNode()?e.isParent():e.source().isParent()||e.target().isParent()}},{selector:":loop",matches:function(e){return e.isLoop()}},{selector:":simple",matches:function(e){return e.isSimple()}},{selector:":active",matches:function(e){return e.active()}},{selector:":inactive",matches:function(e){return!e.active()}},{selector:":backgrounding",matches:function(e){return e.backgrounding()}},{selector:":nonbackgrounding",matches:function(e){return!e.backgrounding()}}].sort(function(r,e){return nu(r.selector,e.selector)}),ef=function(){for(var r={},e,t=0;t<ni.length;t++)e=ni[t],r[e.selector]=e.matches;return r}(),tf=function(e,t){return ef[e](t)},rf="("+ni.map(function(r){return r.selector}).join("|")+")",vn=function(e){return e.replace(new RegExp("\\\\("+ht.metaChar+")","g"),function(t,n){return n})},Rr=function(e,t,n){e[e.length-1]=n},ai=[{name:"group",query:!0,regex:"("+ht.group+")",populate:function(e,t,n){var a=Y(n,1),i=a[0];t.checks.push({type:Xe.GROUP,value:i==="*"?i:i+"s"})}},{name:"state",query:!0,regex:rf,populate:function(e,t,n){var a=Y(n,1),i=a[0];t.checks.push({type:Xe.STATE,value:i})}},{name:"id",query:!0,regex:"\\#("+ht.id+")",populate:function(e,t,n){var a=Y(n,1),i=a[0];t.checks.push({type:Xe.ID,value:vn(i)})}},{name:"className",query:!0,regex:"\\.("+ht.className+")",populate:function(e,t,n){var a=Y(n,1),i=a[0];t.checks.push({type:Xe.CLASS,value:vn(i)})}},{name:"dataExists",query:!0,regex:"\\[\\s*("+ht.variable+")\\s*\\]",populate:function(e,t,n){var a=Y(n,1),i=a[0];t.checks.push({type:Xe.DATA_EXIST,field:vn(i)})}},{name:"dataCompare",query:!0,regex:"\\[\\s*("+ht.variable+")\\s*("+ht.comparatorOp+")\\s*("+ht.value+")\\s*\\]",populate:function(e,t,n){var a=Y(n,3),i=a[0],o=a[1],s=a[2],l=new RegExp("^"+ht.string+"$").exec(s)!=null;l?s=s.substring(1,s.length-1):s=parseFloat(s),t.checks.push({type:Xe.DATA_COMPARE,field:vn(i),operator:o,value:s})}},{name:"dataBool",query:!0,regex:"\\[\\s*("+ht.boolOp+")\\s*("+ht.variable+")\\s*\\]",populate:function(e,t,n){var a=Y(n,2),i=a[0],o=a[1];t.checks.push({type:Xe.DATA_BOOL,field:vn(o),operator:i})}},{name:"metaCompare",query:!0,regex:"\\[\\[\\s*("+ht.meta+")\\s*("+ht.comparatorOp+")\\s*("+ht.number+")\\s*\\]\\]",populate:function(e,t,n){var a=Y(n,3),i=a[0],o=a[1],s=a[2];t.checks.push({type:Xe.META_COMPARE,field:vn(i),operator:o,value:parseFloat(s)})}},{name:"nextQuery",separator:!0,regex:ht.separator,populate:function(e,t){var n=e.currentSubject,a=e.edgeCount,i=e.compoundCount,o=e[e.length-1];n!=null&&(o.subject=n,e.currentSubject=null),o.edgeCount=a,o.compoundCount=i,e.edgeCount=0,e.compoundCount=0;var s=e[e.length++]=Ct();return s}},{name:"directedEdge",separator:!0,regex:ht.directedEdge,populate:function(e,t){if(e.currentSubject==null){var n=Ct(),a=t,i=Ct();return n.checks.push({type:Xe.DIRECTED_EDGE,source:a,target:i}),Rr(e,t,n),e.edgeCount++,i}else{var o=Ct(),s=t,l=Ct();return o.checks.push({type:Xe.NODE_SOURCE,source:s,target:l}),Rr(e,t,o),e.edgeCount++,l}}},{name:"undirectedEdge",separator:!0,regex:ht.undirectedEdge,populate:function(e,t){if(e.currentSubject==null){var n=Ct(),a=t,i=Ct();return n.checks.push({type:Xe.UNDIRECTED_EDGE,nodes:[a,i]}),Rr(e,t,n),e.edgeCount++,i}else{var o=Ct(),s=t,l=Ct();return o.checks.push({type:Xe.NODE_NEIGHBOR,node:s,neighbor:l}),Rr(e,t,o),l}}},{name:"child",separator:!0,regex:ht.child,populate:function(e,t){if(e.currentSubject==null){var n=Ct(),a=Ct(),i=e[e.length-1];return n.checks.push({type:Xe.CHILD,parent:i,child:a}),Rr(e,t,n),e.compoundCount++,a}else if(e.currentSubject===t){var o=Ct(),s=e[e.length-1],l=Ct(),u=Ct(),f=Ct(),v=Ct();return o.checks.push({type:Xe.COMPOUND_SPLIT,left:s,right:l,subject:u}),u.checks=t.checks,t.checks=[{type:Xe.TRUE}],v.checks.push({type:Xe.TRUE}),l.checks.push({type:Xe.PARENT,parent:v,child:f}),Rr(e,s,o),e.currentSubject=u,e.compoundCount++,f}else{var d=Ct(),h=Ct(),c=[{type:Xe.PARENT,parent:d,child:h}];return d.checks=t.checks,t.checks=c,e.compoundCount++,h}}},{name:"descendant",separator:!0,regex:ht.descendant,populate:function(e,t){if(e.currentSubject==null){var n=Ct(),a=Ct(),i=e[e.length-1];return n.checks.push({type:Xe.DESCENDANT,ancestor:i,descendant:a}),Rr(e,t,n),e.compoundCount++,a}else if(e.currentSubject===t){var o=Ct(),s=e[e.length-1],l=Ct(),u=Ct(),f=Ct(),v=Ct();return o.checks.push({type:Xe.COMPOUND_SPLIT,left:s,right:l,subject:u}),u.checks=t.checks,t.checks=[{type:Xe.TRUE}],v.checks.push({type:Xe.TRUE}),l.checks.push({type:Xe.ANCESTOR,ancestor:v,descendant:f}),Rr(e,s,o),e.currentSubject=u,e.compoundCount++,f}else{var d=Ct(),h=Ct(),c=[{type:Xe.ANCESTOR,ancestor:d,descendant:h}];return d.checks=t.checks,t.checks=c,e.compoundCount++,h}}},{name:"subject",modifier:!0,regex:ht.subject,populate:function(e,t){if(e.currentSubject!=null&&e.currentSubject!==t)return bt("Redefinition of subject in selector `"+e.toString()+"`"),!1;e.currentSubject=t;var n=e[e.length-1],a=n.checks[0],i=a==null?null:a.type;i===Xe.DIRECTED_EDGE?a.type=Xe.NODE_TARGET:i===Xe.UNDIRECTED_EDGE&&(a.type=Xe.NODE_NEIGHBOR,a.node=a.nodes[1],a.neighbor=a.nodes[0],a.nodes=null)}}];ai.forEach(function(r){return r.regexObj=new RegExp("^"+r.regex)});var nf=function(e){for(var t,n,a,i=0;i<ai.length;i++){var o=ai[i],s=o.name,l=e.match(o.regexObj);if(l!=null){n=l,t=o,a=s;var u=l[0];e=e.substring(u.length);break}}return{expr:t,match:n,name:a,remaining:e}},af=function(e){var t=e.match(/^\s+/);if(t){var n=t[0];e=e.substring(n.length)}return e},of=function(e){var t=this,n=t.inputText=e,a=t[0]=Ct();for(t.length=1,n=af(n);;){var i=nf(n);if(i.expr==null)return bt("The selector `"+e+"`is invalid"),!1;var o=i.match.slice(1),s=i.expr.populate(t,a,o);if(s===!1)return!1;if(s!=null&&(a=s),n=i.remaining,n.match(/^\s*$/))break}var l=t[t.length-1];t.currentSubject!=null&&(l.subject=t.currentSubject),l.edgeCount=t.edgeCount,l.compoundCount=t.compoundCount;for(var u=0;u<t.length;u++){var f=t[u];if(f.compoundCount>0&&f.edgeCount>0)return bt("The selector `"+e+"` is invalid because it uses both a compound selector and an edge selector"),!1;if(f.edgeCount>1)return bt("The selector `"+e+"` is invalid because it uses multiple edge selectors"),!1;f.edgeCount===1&&bt("The selector `"+e+"` is deprecated.  Edge selectors do not take effect on changes to source and target nodes after an edge is added, for performance reasons.  Use a class or data selector on edges instead, updating the class or data of an edge when your app detects a change in source or target nodes.")}return!0},sf=function(){if(this.toStringCache!=null)return this.toStringCache;for(var e=function(f){return f??""},t=function(f){return _(f)?'"'+f+'"':e(f)},n=function(f){return" "+f+" "},a=function(f,v){var d=f.type,h=f.value;switch(d){case Xe.GROUP:{var c=e(h);return c.substring(0,c.length-1)}case Xe.DATA_COMPARE:{var p=f.field,y=f.operator;return"["+p+n(e(y))+t(h)+"]"}case Xe.DATA_BOOL:{var b=f.operator,x=f.field;return"["+e(b)+x+"]"}case Xe.DATA_EXIST:{var w=f.field;return"["+w+"]"}case Xe.META_COMPARE:{var P=f.operator,F=f.field;return"[["+F+n(e(P))+t(h)+"]]"}case Xe.STATE:return h;case Xe.ID:return"#"+h;case Xe.CLASS:return"."+h;case Xe.PARENT:case Xe.CHILD:return i(f.parent,v)+n(">")+i(f.child,v);case Xe.ANCESTOR:case Xe.DESCENDANT:return i(f.ancestor,v)+" "+i(f.descendant,v);case Xe.COMPOUND_SPLIT:{var G=i(f.left,v),k=i(f.subject,v),V=i(f.right,v);return G+(G.length>0?" ":"")+k+V}case Xe.TRUE:return""}},i=function(f,v){return f.checks.reduce(function(d,h,c){return d+(v===f&&c===0?"$":"")+a(h,v)},"")},o="",s=0;s<this.length;s++){var l=this[s];o+=i(l,l.subject),this.length>1&&s<this.length-1&&(o+=", ")}return this.toStringCache=o,o},uf={parse:of,toString:sf},Eo=function(e,t,n){var a,i=_(e),o=ue(e),s=_(n),l,u,f=!1,v=!1,d=!1;switch(t.indexOf("!")>=0&&(t=t.replace("!",""),v=!0),t.indexOf("@")>=0&&(t=t.replace("@",""),f=!0),(i||s||f)&&(l=!i&&!o?"":""+e,u=""+n),f&&(e=l=l.toLowerCase(),n=u=u.toLowerCase()),t){case"*=":a=l.indexOf(u)>=0;break;case"$=":a=l.indexOf(u,l.length-u.length)>=0;break;case"^=":a=l.indexOf(u)===0;break;case"=":a=e===n;break;case">":d=!0,a=e>n;break;case">=":d=!0,a=e>=n;break;case"<":d=!0,a=e<n;break;case"<=":d=!0,a=e<=n;break;default:a=!1;break}return v&&(e!=null||!d)&&(a=!a),a},lf=function(e,t){switch(t){case"?":return!!e;case"!":return!e;case"^":return e===void 0}},ff=function(e){return e!==void 0},ii=function(e,t){return e.data(t)},vf=function(e,t){return e[t]()},Bt=[],kt=function(e,t){return e.checks.every(function(n){return Bt[n.type](n,t)})};Bt[Xe.GROUP]=function(r,e){var t=r.value;return t==="*"||t===e.group()},Bt[Xe.STATE]=function(r,e){var t=r.value;return tf(t,e)},Bt[Xe.ID]=function(r,e){var t=r.value;return e.id()===t},Bt[Xe.CLASS]=function(r,e){var t=r.value;return e.hasClass(t)},Bt[Xe.META_COMPARE]=function(r,e){var t=r.field,n=r.operator,a=r.value;return Eo(vf(e,t),n,a)},Bt[Xe.DATA_COMPARE]=function(r,e){var t=r.field,n=r.operator,a=r.value;return Eo(ii(e,t),n,a)},Bt[Xe.DATA_BOOL]=function(r,e){var t=r.field,n=r.operator;return lf(ii(e,t),n)},Bt[Xe.DATA_EXIST]=function(r,e){var t=r.field;return r.operator,ff(ii(e,t))},Bt[Xe.UNDIRECTED_EDGE]=function(r,e){var t=r.nodes[0],n=r.nodes[1],a=e.source(),i=e.target();return kt(t,a)&&kt(n,i)||kt(n,a)&&kt(t,i)},Bt[Xe.NODE_NEIGHBOR]=function(r,e){return kt(r.node,e)&&e.neighborhood().some(function(t){return t.isNode()&&kt(r.neighbor,t)})},Bt[Xe.DIRECTED_EDGE]=function(r,e){return kt(r.source,e.source())&&kt(r.target,e.target())},Bt[Xe.NODE_SOURCE]=function(r,e){return kt(r.source,e)&&e.outgoers().some(function(t){return t.isNode()&&kt(r.target,t)})},Bt[Xe.NODE_TARGET]=function(r,e){return kt(r.target,e)&&e.incomers().some(function(t){return t.isNode()&&kt(r.source,t)})},Bt[Xe.CHILD]=function(r,e){return kt(r.child,e)&&kt(r.parent,e.parent())},Bt[Xe.PARENT]=function(r,e){return kt(r.parent,e)&&e.children().some(function(t){return kt(r.child,t)})},Bt[Xe.DESCENDANT]=function(r,e){return kt(r.descendant,e)&&e.ancestors().some(function(t){return kt(r.ancestor,t)})},Bt[Xe.ANCESTOR]=function(r,e){return kt(r.ancestor,e)&&e.descendants().some(function(t){return kt(r.descendant,t)})},Bt[Xe.COMPOUND_SPLIT]=function(r,e){return kt(r.subject,e)&&kt(r.left,e)&&kt(r.right,e)},Bt[Xe.TRUE]=function(){return!0},Bt[Xe.COLLECTION]=function(r,e){var t=r.value;return t.has(e)},Bt[Xe.FILTER]=function(r,e){var t=r.value;return t(e)};var df=function(e){var t=this;if(t.length===1&&t[0].checks.length===1&&t[0].checks[0].type===Xe.ID)return e.getElementById(t[0].checks[0].value).collection();var n=function(i){for(var o=0;o<t.length;o++){var s=t[o];if(kt(s,i))return!0}return!1};return t.text()==null&&(n=function(){return!0}),e.filter(n)},cf=function(e){for(var t=this,n=0;n<t.length;n++){var a=t[n];if(kt(a,e))return!0}return!1},hf={matches:cf,filter:df},Ar=function(e){this.inputText=e,this.currentSubject=null,this.compoundCount=0,this.edgeCount=0,this.length=0,e==null||_(e)&&e.match(/^\s*$/)||(Ye(e)?this.addQuery({checks:[{type:Xe.COLLECTION,value:e.collection()}]}):ce(e)?this.addQuery({checks:[{type:Xe.FILTER,value:e}]}):_(e)?this.parse(e)||(this.invalid=!0):Pt("A selector must be created from a string; found "))},Ir=Ar.prototype;[uf,hf].forEach(function(r){return rt(Ir,r)}),Ir.text=function(){return this.inputText},Ir.size=function(){return this.length},Ir.eq=function(r){return this[r]},Ir.sameText=function(r){return!this.invalid&&!r.invalid&&this.text()===r.text()},Ir.addQuery=function(r){this[this.length++]=r},Ir.selector=Ir.toString;var Or={allAre:function(e){var t=new Ar(e);return this.every(function(n){return t.matches(n)})},is:function(e){var t=new Ar(e);return this.some(function(n){return t.matches(n)})},some:function(e,t){for(var n=0;n<this.length;n++){var a=t?e.apply(t,[this[n],n,this]):e(this[n],n,this);if(a)return!0}return!1},every:function(e,t){for(var n=0;n<this.length;n++){var a=t?e.apply(t,[this[n],n,this]):e(this[n],n,this);if(!a)return!1}return!0},same:function(e){if(this===e)return!0;e=this.cy().collection(e);var t=this.length,n=e.length;return t!==n?!1:t===1?this[0]===e[0]:this.every(function(a){return e.hasElementWithId(a.id())})},anySame:function(e){return e=this.cy().collection(e),this.some(function(t){return e.hasElementWithId(t.id())})},allAreNeighbors:function(e){e=this.cy().collection(e);var t=this.neighborhood();return e.every(function(n){return t.hasElementWithId(n.id())})},contains:function(e){e=this.cy().collection(e);var t=this;return e.every(function(n){return t.hasElementWithId(n.id())})}};Or.allAreNeighbours=Or.allAreNeighbors,Or.has=Or.contains,Or.equal=Or.equals=Or.same;var ar=function(e,t){return function(a,i,o,s){var l=a,u=this,f;if(l==null?f="":Ye(l)&&l.length===1&&(f=l.id()),u.length===1&&f){var v=u[0]._private,d=v.traversalCache=v.traversalCache||{},h=d[t]=d[t]||[],c=Hr(f),p=h[c];return p||(h[c]=e.call(u,a,i,o,s))}else return e.call(u,a,i,o,s)}},dn={parent:function(e){var t=[];if(this.length===1){var n=this[0]._private.parent;if(n)return n}for(var a=0;a<this.length;a++){var i=this[a],o=i._private.parent;o&&t.push(o)}return this.spawn(t,!0).filter(e)},parents:function(e){for(var t=[],n=this.parent();n.nonempty();){for(var a=0;a<n.length;a++){var i=n[a];t.push(i)}n=n.parent()}return this.spawn(t,!0).filter(e)},commonAncestors:function(e){for(var t,n=0;n<this.length;n++){var a=this[n],i=a.parents();t=t||i,t=t.intersect(i)}return t.filter(e)},orphans:function(e){return this.stdFilter(function(t){return t.isOrphan()}).filter(e)},nonorphans:function(e){return this.stdFilter(function(t){return t.isChild()}).filter(e)},children:ar(function(r){for(var e=[],t=0;t<this.length;t++)for(var n=this[t],a=n._private.children,i=0;i<a.length;i++)e.push(a[i]);return this.spawn(e,!0).filter(r)},"children"),siblings:function(e){return this.parent().children().not(this).filter(e)},isParent:function(){var e=this[0];if(e)return e.isNode()&&e._private.children.length!==0},isChildless:function(){var e=this[0];if(e)return e.isNode()&&e._private.children.length===0},isChild:function(){var e=this[0];if(e)return e.isNode()&&e._private.parent!=null},isOrphan:function(){var e=this[0];if(e)return e.isNode()&&e._private.parent==null},descendants:function(e){var t=[];function n(a){for(var i=0;i<a.length;i++){var o=a[i];t.push(o),o.children().nonempty()&&n(o.children())}}return n(this.children()),this.spawn(t,!0).filter(e)}};function oi(r,e,t,n){for(var a=[],i=new rn,o=r.cy(),s=o.hasCompoundNodes(),l=0;l<r.length;l++){var u=r[l];t?a.push(u):s&&n(a,i,u)}for(;a.length>0;){var f=a.shift();e(f),i.add(f.id()),s&&n(a,i,f)}return r}function Co(r,e,t){if(t.isParent())for(var n=t._private.children,a=0;a<n.length;a++){var i=n[a];e.has(i.id())||r.push(i)}}dn.forEachDown=function(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return oi(this,r,e,Co)};function So(r,e,t){if(t.isChild()){var n=t._private.parent;e.has(n.id())||r.push(n)}}dn.forEachUp=function(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return oi(this,r,e,So)};function gf(r,e,t){So(r,e,t),Co(r,e,t)}dn.forEachUpAndDown=function(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return oi(this,r,e,gf)},dn.ancestors=dn.parents;var Nn,To;Nn=To={data:wt.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:wt.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:wt.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:wt.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:wt.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:wt.removeData({field:"rscratch",triggerEvent:!1}),id:function(){var e=this[0];if(e)return e._private.data.id}},Nn.attr=Nn.data,Nn.removeAttr=Nn.removeData;var pf=To,ha={};function si(r){return function(e){var t=this;if(e===void 0&&(e=!0),t.length!==0)if(t.isNode()&&!t.removed()){for(var n=0,a=t[0],i=a._private.edges,o=0;o<i.length;o++){var s=i[o];!e&&s.isLoop()||(n+=r(a,s))}return n}else return}}rt(ha,{degree:si(function(r,e){return e.source().same(e.target())?2:1}),indegree:si(function(r,e){return e.target().same(r)?1:0}),outdegree:si(function(r,e){return e.source().same(r)?1:0})});function cn(r,e){return function(t){for(var n,a=this.nodes(),i=0;i<a.length;i++){var o=a[i],s=o[r](t);s!==void 0&&(n===void 0||e(s,n))&&(n=s)}return n}}rt(ha,{minDegree:cn("degree",function(r,e){return r<e}),maxDegree:cn("degree",function(r,e){return r>e}),minIndegree:cn("indegree",function(r,e){return r<e}),maxIndegree:cn("indegree",function(r,e){return r>e}),minOutdegree:cn("outdegree",function(r,e){return r<e}),maxOutdegree:cn("outdegree",function(r,e){return r>e})}),rt(ha,{totalDegree:function(e){for(var t=0,n=this.nodes(),a=0;a<n.length;a++)t+=n[a].degree(e);return t}});var lr,Do,ko=function(e,t,n){for(var a=0;a<e.length;a++){var i=e[a];if(!i.locked()){var o=i._private.position,s={x:t.x!=null?t.x-o.x:0,y:t.y!=null?t.y-o.y:0};i.isParent()&&!(s.x===0&&s.y===0)&&i.children().shift(s,n),i.dirtyBoundingBoxCache()}}},Po={field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"emitAndNotify",allowGetting:!0,validKeys:["x","y"],beforeGet:function(e){e.updateCompoundBounds()},beforeSet:function(e,t){ko(e,t,!1)},onSet:function(e){e.dirtyCompoundBoundsCache()},canSet:function(e){return!e.locked()}};lr=Do={position:wt.data(Po),silentPosition:wt.data(rt({},Po,{allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!1,beforeSet:function(e,t){ko(e,t,!0)},onSet:function(e){e.dirtyCompoundBoundsCache()}})),positions:function(e,t){if(Ne(e))t?this.silentPosition(e):this.position(e);else if(ce(e)){var n=e,a=this.cy();a.startBatch();for(var i=0;i<this.length;i++){var o=this[i],s=void 0;(s=n(o,i))&&(t?o.silentPosition(s):o.position(s))}a.endBatch()}return this},silentPositions:function(e){return this.positions(e,!0)},shift:function(e,t,n){var a;if(Ne(e)?(a={x:ue(e.x)?e.x:0,y:ue(e.y)?e.y:0},n=t):_(e)&&ue(t)&&(a={x:0,y:0},a[e]=t),a!=null){var i=this.cy();i.startBatch();for(var o=0;o<this.length;o++){var s=this[o];if(!(i.hasCompoundNodes()&&s.isChild()&&s.ancestors().anySame(this))){var l=s.position(),u={x:l.x+a.x,y:l.y+a.y};n?s.silentPosition(u):s.position(u)}}i.endBatch()}return this},silentShift:function(e,t){return Ne(e)?this.shift(e,!0):_(e)&&ue(t)&&this.shift(e,t,!0),this},renderedPosition:function(e,t){var n=this[0],a=this.cy(),i=a.zoom(),o=a.pan(),s=Ne(e)?e:void 0,l=s!==void 0||t!==void 0&&_(e);if(n&&n.isNode())if(l)for(var u=0;u<this.length;u++){var f=this[u];t!==void 0?f.position(e,(t-o[e])/i):s!==void 0&&f.position(Wi(s,i,o))}else{var v=n.position();return s=aa(v,i,o),e===void 0?s:s[e]}else if(!l)return;return this},relativePosition:function(e,t){var n=this[0],a=this.cy(),i=Ne(e)?e:void 0,o=i!==void 0||t!==void 0&&_(e),s=a.hasCompoundNodes();if(n&&n.isNode())if(o)for(var l=0;l<this.length;l++){var u=this[l],f=s?u.parent():null,v=f&&f.length>0,d=v;v&&(f=f[0]);var h=d?f.position():{x:0,y:0};t!==void 0?u.position(e,t+h[e]):i!==void 0&&u.position({x:i.x+h.x,y:i.y+h.y})}else{var c=n.position(),p=s?n.parent():null,y=p&&p.length>0,b=y;y&&(p=p[0]);var x=b?p.position():{x:0,y:0};return i={x:c.x-x.x,y:c.y-x.y},e===void 0?i:i[e]}else if(!o)return;return this}},lr.modelPosition=lr.point=lr.position,lr.modelPositions=lr.points=lr.positions,lr.renderedPoint=lr.renderedPosition,lr.relativePoint=lr.relativePosition;var mf=Do,hn,Nr;hn=Nr={},Nr.renderedBoundingBox=function(r){var e=this.boundingBox(r),t=this.cy(),n=t.zoom(),a=t.pan(),i=e.x1*n+a.x,o=e.x2*n+a.x,s=e.y1*n+a.y,l=e.y2*n+a.y;return{x1:i,x2:o,y1:s,y2:l,w:o-i,h:l-s}},Nr.dirtyCompoundBoundsCache=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=this.cy();return!e.styleEnabled()||!e.hasCompoundNodes()?this:(this.forEachUp(function(t){if(t.isParent()){var n=t._private;n.compoundBoundsClean=!1,n.bbCache=null,r||t.emitAndNotify("bounds")}}),this)},Nr.updateCompoundBounds=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=this.cy();if(!e.styleEnabled()||!e.hasCompoundNodes())return this;if(!r&&e.batching())return this;function t(o){if(!o.isParent())return;var s=o._private,l=o.children(),u=o.pstyle("compound-sizing-wrt-labels").value==="include",f={width:{val:o.pstyle("min-width").pfValue,left:o.pstyle("min-width-bias-left"),right:o.pstyle("min-width-bias-right")},height:{val:o.pstyle("min-height").pfValue,top:o.pstyle("min-height-bias-top"),bottom:o.pstyle("min-height-bias-bottom")}},v=l.boundingBox({includeLabels:u,includeOverlays:!1,useCache:!1}),d=s.position;(v.w===0||v.h===0)&&(v={w:o.pstyle("width").pfValue,h:o.pstyle("height").pfValue},v.x1=d.x-v.w/2,v.x2=d.x+v.w/2,v.y1=d.y-v.h/2,v.y2=d.y+v.h/2);function h(M,$,K){var I=0,Q=0,H=$+K;return M>0&&H>0&&(I=$/H*M,Q=K/H*M),{biasDiff:I,biasComplementDiff:Q}}function c(M,$,K,I){if(K.units==="%")switch(I){case"width":return M>0?K.pfValue*M:0;case"height":return $>0?K.pfValue*$:0;case"average":return M>0&&$>0?K.pfValue*(M+$)/2:0;case"min":return M>0&&$>0?M>$?K.pfValue*$:K.pfValue*M:0;case"max":return M>0&&$>0?M>$?K.pfValue*M:K.pfValue*$:0;default:return 0}else return K.units==="px"?K.pfValue:0}var p=f.width.left.value;f.width.left.units==="px"&&f.width.val>0&&(p=p*100/f.width.val);var y=f.width.right.value;f.width.right.units==="px"&&f.width.val>0&&(y=y*100/f.width.val);var b=f.height.top.value;f.height.top.units==="px"&&f.height.val>0&&(b=b*100/f.height.val);var x=f.height.bottom.value;f.height.bottom.units==="px"&&f.height.val>0&&(x=x*100/f.height.val);var w=h(f.width.val-v.w,p,y),P=w.biasDiff,F=w.biasComplementDiff,G=h(f.height.val-v.h,b,x),k=G.biasDiff,V=G.biasComplementDiff;s.autoPadding=c(v.w,v.h,o.pstyle("padding"),o.pstyle("padding-relative-to").value),s.autoWidth=Math.max(v.w,f.width.val),d.x=(-P+v.x1+v.x2+F)/2,s.autoHeight=Math.max(v.h,f.height.val),d.y=(-k+v.y1+v.y2+V)/2}for(var n=0;n<this.length;n++){var a=this[n],i=a._private;(!i.compoundBoundsClean||r)&&(t(a),e.batching()||(i.compoundBoundsClean=!0))}return this};var ir=function(e){return e===1/0||e===-1/0?0:e},fr=function(e,t,n,a,i){a-t===0||i-n===0||t==null||n==null||a==null||i==null||(e.x1=t<e.x1?t:e.x1,e.x2=a>e.x2?a:e.x2,e.y1=n<e.y1?n:e.y1,e.y2=i>e.y2?i:e.y2,e.w=e.x2-e.x1,e.h=e.y2-e.y1)},Ur=function(e,t){return t==null?e:fr(e,t.x1,t.y1,t.x2,t.y2)},zn=function(e,t,n){return ur(e,t,n)},ga=function(e,t,n){if(!t.cy().headless()){var a=t._private,i=a.rstyle,o=i.arrowWidth/2,s=t.pstyle(n+"-arrow-shape").value,l,u;if(s!=="none"){n==="source"?(l=i.srcX,u=i.srcY):n==="target"?(l=i.tgtX,u=i.tgtY):(l=i.midX,u=i.midY);var f=a.arrowBounds=a.arrowBounds||{},v=f[n]=f[n]||{};v.x1=l-o,v.y1=u-o,v.x2=l+o,v.y2=u+o,v.w=v.x2-v.x1,v.h=v.y2-v.y1,oa(v,1),fr(e,v.x1,v.y1,v.x2,v.y2)}}},ui=function(e,t,n){if(!t.cy().headless()){var a;n?a=n+"-":a="";var i=t._private,o=i.rstyle,s=t.pstyle(a+"label").strValue;if(s){var l=t.pstyle("text-halign"),u=t.pstyle("text-valign"),f=zn(o,"labelWidth",n),v=zn(o,"labelHeight",n),d=zn(o,"labelX",n),h=zn(o,"labelY",n),c=t.pstyle(a+"text-margin-x").pfValue,p=t.pstyle(a+"text-margin-y").pfValue,y=t.isEdge(),b=t.pstyle(a+"text-rotation"),x=t.pstyle("text-outline-width").pfValue,w=t.pstyle("text-border-width").pfValue,P=w/2,F=t.pstyle("text-background-padding").pfValue,G=2,k=v,V=f,M=V/2,$=k/2,K,I,Q,H;if(y)K=d-M,I=d+M,Q=h-$,H=h+$;else{switch(l.value){case"left":K=d-V,I=d;break;case"center":K=d-M,I=d+M;break;case"right":K=d,I=d+V;break}switch(u.value){case"top":Q=h-k,H=h;break;case"center":Q=h-$,H=h+$;break;case"bottom":Q=h,H=h+k;break}}K+=c-Math.max(x,P)-F-G,I+=c+Math.max(x,P)+F+G,Q+=p-Math.max(x,P)-F-G,H+=p+Math.max(x,P)+F+G;var ne=n||"main",J=i.labelBounds,q=J[ne]=J[ne]||{};q.x1=K,q.y1=Q,q.x2=I,q.y2=H,q.w=I-K,q.h=H-Q;var se=y&&b.strValue==="autorotate",fe=b.pfValue!=null&&b.pfValue!==0;if(se||fe){var ye=se?zn(i.rstyle,"labelAngle",n):b.pfValue,le=Math.cos(ye),me=Math.sin(ye),xe=(K+I)/2,ke=(Q+H)/2;if(!y){switch(l.value){case"left":xe=I;break;case"right":xe=K;break}switch(u.value){case"top":ke=H;break;case"bottom":ke=Q;break}}var Ce=function(it,We){return it=it-xe,We=We-ke,{x:it*le-We*me+xe,y:it*me+We*le+ke}},Ee=Ce(K,Q),ie=Ce(K,H),De=Ce(I,Q),Pe=Ce(I,H);K=Math.min(Ee.x,ie.x,De.x,Pe.x),I=Math.max(Ee.x,ie.x,De.x,Pe.x),Q=Math.min(Ee.y,ie.y,De.y,Pe.y),H=Math.max(Ee.y,ie.y,De.y,Pe.y)}var ze=ne+"Rot",Ve=J[ze]=J[ze]||{};Ve.x1=K,Ve.y1=Q,Ve.x2=I,Ve.y2=H,Ve.w=I-K,Ve.h=H-Q,fr(e,K,Q,I,H),fr(i.labelBounds.all,K,Q,I,H)}return e}},yf=function(e,t){var n=e._private.cy,a=n.styleEnabled(),i=n.headless(),o=jt(),s=e._private,l=e.isNode(),u=e.isEdge(),f,v,d,h,c,p,y=s.rstyle,b=l&&a?e.pstyle("bounds-expansion").pfValue:[0],x=function(_e){return _e.pstyle("display").value!=="none"},w=!a||x(e)&&(!u||x(e.source())&&x(e.target()));if(w){var P=0,F=0;a&&t.includeOverlays&&(P=e.pstyle("overlay-opacity").value,P!==0&&(F=e.pstyle("overlay-padding").value));var G=0,k=0;a&&t.includeUnderlays&&(G=e.pstyle("underlay-opacity").value,G!==0&&(k=e.pstyle("underlay-padding").value));var V=Math.max(F,k),M=0,$=0;if(a&&(M=e.pstyle("width").pfValue,$=M/2),l&&t.includeNodes){var K=e.position();c=K.x,p=K.y;var I=e.outerWidth(),Q=I/2,H=e.outerHeight(),ne=H/2;f=c-Q,v=c+Q,d=p-ne,h=p+ne,fr(o,f,d,v,h)}else if(u&&t.includeEdges)if(a&&!i){var J=e.pstyle("curve-style").strValue;if(f=Math.min(y.srcX,y.midX,y.tgtX),v=Math.max(y.srcX,y.midX,y.tgtX),d=Math.min(y.srcY,y.midY,y.tgtY),h=Math.max(y.srcY,y.midY,y.tgtY),f-=$,v+=$,d-=$,h+=$,fr(o,f,d,v,h),J==="haystack"){var q=y.haystackPts;if(q&&q.length===2){if(f=q[0].x,d=q[0].y,v=q[1].x,h=q[1].y,f>v){var se=f;f=v,v=se}if(d>h){var fe=d;d=h,h=fe}fr(o,f-$,d-$,v+$,h+$)}}else if(J==="bezier"||J==="unbundled-bezier"||J==="segments"||J==="taxi"){var ye;switch(J){case"bezier":case"unbundled-bezier":ye=y.bezierPts;break;case"segments":case"taxi":ye=y.linePts;break}if(ye!=null)for(var le=0;le<ye.length;le++){var me=ye[le];f=me.x-$,v=me.x+$,d=me.y-$,h=me.y+$,fr(o,f,d,v,h)}}}else{var xe=e.source(),ke=xe.position(),Ce=e.target(),Ee=Ce.position();if(f=ke.x,v=Ee.x,d=ke.y,h=Ee.y,f>v){var ie=f;f=v,v=ie}if(d>h){var De=d;d=h,h=De}f-=$,v+=$,d-=$,h+=$,fr(o,f,d,v,h)}if(a&&t.includeEdges&&u&&(ga(o,e,"mid-source"),ga(o,e,"mid-target"),ga(o,e,"source"),ga(o,e,"target")),a){var Pe=e.pstyle("ghost").value==="yes";if(Pe){var ze=e.pstyle("ghost-offset-x").pfValue,Ve=e.pstyle("ghost-offset-y").pfValue;fr(o,o.x1+ze,o.y1+Ve,o.x2+ze,o.y2+Ve)}}var at=s.bodyBounds=s.bodyBounds||{};Ki(at,o),Za(at,b),oa(at,1),a&&(f=o.x1,v=o.x2,d=o.y1,h=o.y2,fr(o,f-V,d-V,v+V,h+V));var it=s.overlayBounds=s.overlayBounds||{};Ki(it,o),Za(it,b),oa(it,1);var We=s.labelBounds=s.labelBounds||{};We.all!=null?Ku(We.all):We.all=jt(),a&&t.includeLabels&&(t.includeMainLabels&&ui(o,e,null),u&&(t.includeSourceLabels&&ui(o,e,"source"),t.includeTargetLabels&&ui(o,e,"target")))}return o.x1=ir(o.x1),o.y1=ir(o.y1),o.x2=ir(o.x2),o.y2=ir(o.y2),o.w=ir(o.x2-o.x1),o.h=ir(o.y2-o.y1),o.w>0&&o.h>0&&w&&(Za(o,b),oa(o,1)),o},Bo=function(e){var t=0,n=function(o){return(o?1:0)<<t++},a=0;return a+=n(e.incudeNodes),a+=n(e.includeEdges),a+=n(e.includeLabels),a+=n(e.includeMainLabels),a+=n(e.includeSourceLabels),a+=n(e.includeTargetLabels),a+=n(e.includeOverlays),a},Lo=function(e){if(e.isEdge()){var t=e.source().position(),n=e.target().position(),a=function(o){return Math.round(o)};return du([a(t.x),a(t.y),a(n.x),a(n.y)])}else return 0},Mo=function(e,t){var n=e._private,a,i=e.isEdge(),o=t==null?Ro:Bo(t),s=o===Ro,l=Lo(e),u=n.bbCachePosKey===l,f=t.useCache&&u,v=function(p){return p._private.bbCache==null||p._private.styleDirty},d=!f||v(e)||i&&v(e.source())||v(e.target());if(d?(u||e.recalculateRenderedStyle(f),a=yf(e,Fn),n.bbCache=a,n.bbCachePosKey=l):a=n.bbCache,!s){var h=e.isNode();a=jt(),(t.includeNodes&&h||t.includeEdges&&!h)&&(t.includeOverlays?Ur(a,n.overlayBounds):Ur(a,n.bodyBounds)),t.includeLabels&&(t.includeMainLabels&&(!i||t.includeSourceLabels&&t.includeTargetLabels)?Ur(a,n.labelBounds.all):(t.includeMainLabels&&Ur(a,n.labelBounds.mainRot),t.includeSourceLabels&&Ur(a,n.labelBounds.sourceRot),t.includeTargetLabels&&Ur(a,n.labelBounds.targetRot))),a.w=a.x2-a.x1,a.h=a.y2-a.y1}return a},Fn={includeNodes:!0,includeEdges:!0,includeLabels:!0,includeMainLabels:!0,includeSourceLabels:!0,includeTargetLabels:!0,includeOverlays:!0,includeUnderlays:!0,useCache:!0},Ro=Bo(Fn),Ao=zt(Fn);Nr.boundingBox=function(r){var e;if(this.length===1&&this[0]._private.bbCache!=null&&!this[0]._private.styleDirty&&(r===void 0||r.useCache===void 0||r.useCache===!0))r===void 0?r=Fn:r=Ao(r),e=Mo(this[0],r);else{e=jt(),r=r||Fn;var t=Ao(r),n=this,a=n.cy(),i=a.styleEnabled();if(i)for(var o=0;o<n.length;o++){var s=n[o],l=s._private,u=Lo(s),f=l.bbCachePosKey===u,v=t.useCache&&f&&!l.styleDirty;s.recalculateRenderedStyle(v)}this.updateCompoundBounds(!r.useCache);for(var d=0;d<n.length;d++){var h=n[d];Ur(e,Mo(h,t))}}return e.x1=ir(e.x1),e.y1=ir(e.y1),e.x2=ir(e.x2),e.y2=ir(e.y2),e.w=ir(e.x2-e.x1),e.h=ir(e.y2-e.y1),e},Nr.dirtyBoundingBoxCache=function(){for(var r=0;r<this.length;r++){var e=this[r]._private;e.bbCache=null,e.bbCachePosKey=null,e.bodyBounds=null,e.overlayBounds=null,e.labelBounds.all=null,e.labelBounds.source=null,e.labelBounds.target=null,e.labelBounds.main=null,e.labelBounds.sourceRot=null,e.labelBounds.targetRot=null,e.labelBounds.mainRot=null,e.arrowBounds.source=null,e.arrowBounds.target=null,e.arrowBounds["mid-source"]=null,e.arrowBounds["mid-target"]=null}return this.emitAndNotify("bounds"),this},Nr.boundingBoxAt=function(r){var e=this.nodes(),t=this.cy(),n=t.hasCompoundNodes(),a=t.collection();if(n&&(a=e.filter(function(u){return u.isParent()}),e=e.not(a)),Ne(r)){var i=r;r=function(){return i}}var o=function(f,v){return f._private.bbAtOldPos=r(f,v)},s=function(f){return f._private.bbAtOldPos};t.startBatch(),e.forEach(o).silentPositions(r),n&&(a.dirtyCompoundBoundsCache(),a.dirtyBoundingBoxCache(),a.updateCompoundBounds(!0));var l=$u(this.boundingBox({useCache:!1}));return e.silentPositions(s),n&&(a.dirtyCompoundBoundsCache(),a.dirtyBoundingBoxCache(),a.updateCompoundBounds(!0)),t.endBatch(),l},hn.boundingbox=hn.bb=hn.boundingBox,hn.renderedBoundingbox=hn.renderedBoundingBox;var bf=Nr,Vn,Gn;Vn=Gn={};var Io=function(e){e.uppercaseName=xr(e.name),e.autoName="auto"+e.uppercaseName,e.labelName="label"+e.uppercaseName,e.outerName="outer"+e.uppercaseName,e.uppercaseOuterName=xr(e.outerName),Vn[e.name]=function(){var n=this[0],a=n._private,i=a.cy,o=i._private.styleEnabled;if(n)if(o){if(n.isParent())return n.updateCompoundBounds(),a[e.autoName]||0;var s=n.pstyle(e.name);switch(s.strValue){case"label":return n.recalculateRenderedStyle(),a.rstyle[e.labelName]||0;default:return s.pfValue}}else return 1},Vn["outer"+e.uppercaseName]=function(){var n=this[0],a=n._private,i=a.cy,o=i._private.styleEnabled;if(n)if(o){var s=n[e.name](),l=n.pstyle("border-width").pfValue,u=2*n.padding();return s+l+u}else return 1},Vn["rendered"+e.uppercaseName]=function(){var n=this[0];if(n){var a=n[e.name]();return a*this.cy().zoom()}},Vn["rendered"+e.uppercaseOuterName]=function(){var n=this[0];if(n){var a=n[e.outerName]();return a*this.cy().zoom()}}};Io({name:"width"}),Io({name:"height"}),Gn.padding=function(){var r=this[0],e=r._private;return r.isParent()?(r.updateCompoundBounds(),e.autoPadding!==void 0?e.autoPadding:r.pstyle("padding").pfValue):r.pstyle("padding").pfValue},Gn.paddedHeight=function(){var r=this[0];return r.height()+2*r.padding()},Gn.paddedWidth=function(){var r=this[0];return r.width()+2*r.padding()};var wf=Gn,xf=function(e,t){if(e.isEdge())return t(e)},Ef=function(e,t){if(e.isEdge()){var n=e.cy();return aa(t(e),n.zoom(),n.pan())}},Cf=function(e,t){if(e.isEdge()){var n=e.cy(),a=n.pan(),i=n.zoom();return t(e).map(function(o){return aa(o,i,a)})}},Sf=function(e){return e.renderer().getControlPoints(e)},Tf=function(e){return e.renderer().getSegmentPoints(e)},Df=function(e){return e.renderer().getSourceEndpoint(e)},kf=function(e){return e.renderer().getTargetEndpoint(e)},Pf=function(e){return e.renderer().getEdgeMidpoint(e)},Oo={controlPoints:{get:Sf,mult:!0},segmentPoints:{get:Tf,mult:!0},sourceEndpoint:{get:Df},targetEndpoint:{get:kf},midpoint:{get:Pf}},Bf=function(e){return"rendered"+e[0].toUpperCase()+e.substr(1)},Lf=Object.keys(Oo).reduce(function(r,e){var t=Oo[e],n=Bf(e);return r[e]=function(){return xf(this,t.get)},t.mult?r[n]=function(){return Cf(this,t.get)}:r[n]=function(){return Ef(this,t.get)},r},{}),Mf=rt({},mf,bf,wf,Lf);/*!
Event object based on jQuery events, MIT license

https://jquery.org/license/
https://tldrlegal.com/license/mit-license
https://github.com/jquery/jquery/blob/master/src/event.js
*/var No=function(e,t){this.recycle(e,t)};function Hn(){return!1}function pa(){return!0}No.prototype={instanceString:function(){return"event"},recycle:function(e,t){if(this.isImmediatePropagationStopped=this.isPropagationStopped=this.isDefaultPrevented=Hn,e!=null&&e.preventDefault?(this.type=e.type,this.isDefaultPrevented=e.defaultPrevented?pa:Hn):e!=null&&e.type?t=e:this.type=e,t!=null&&(this.originalEvent=t.originalEvent,this.type=t.type!=null?t.type:this.type,this.cy=t.cy,this.target=t.target,this.position=t.position,this.renderedPosition=t.renderedPosition,this.namespace=t.namespace,this.layout=t.layout),this.cy!=null&&this.position!=null&&this.renderedPosition==null){var n=this.position,a=this.cy.zoom(),i=this.cy.pan();this.renderedPosition={x:n.x*a+i.x,y:n.y*a+i.y}}this.timeStamp=e&&e.timeStamp||Date.now()},preventDefault:function(){this.isDefaultPrevented=pa;var e=this.originalEvent;e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){this.isPropagationStopped=pa;var e=this.originalEvent;e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=pa,this.stopPropagation()},isDefaultPrevented:Hn,isPropagationStopped:Hn,isImmediatePropagationStopped:Hn};var zo=/^([^.]+)(\.(?:[^.]+))?$/,Rf=".*",Fo={qualifierCompare:function(e,t){return e===t},eventMatches:function(){return!0},addEventFields:function(){},callbackContext:function(e){return e},beforeEmit:function(){},afterEmit:function(){},bubble:function(){return!1},parent:function(){return null},context:null},Vo=Object.keys(Fo),Af={};function ma(){for(var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Af,e=arguments.length>1?arguments[1]:void 0,t=0;t<Vo.length;t++){var n=Vo[t];this[n]=r[n]||Fo[n]}this.context=e||this.context,this.listeners=[],this.emitting=0}var zr=ma.prototype,Go=function(e,t,n,a,i,o,s){ce(a)&&(i=a,a=null),s&&(o==null?o=s:o=rt({},o,s));for(var l=ge(n)?n:n.split(/\s+/),u=0;u<l.length;u++){var f=l[u];if(!tt(f)){var v=f.match(zo);if(v){var d=v[1],h=v[2]?v[2]:null,c=t(e,f,d,h,a,i,o);if(c===!1)break}}}},Ho=function(e,t){return e.addEventFields(e.context,t),new No(t.type,t)},If=function(e,t,n){if(Ie(n)){t(e,n);return}else if(Ne(n)){t(e,Ho(e,n));return}for(var a=ge(n)?n:n.split(/\s+/),i=0;i<a.length;i++){var o=a[i];if(!tt(o)){var s=o.match(zo);if(s){var l=s[1],u=s[2]?s[2]:null,f=Ho(e,{type:l,namespace:u,target:e.context});t(e,f)}}}};zr.on=zr.addListener=function(r,e,t,n,a){return Go(this,function(i,o,s,l,u,f,v){ce(f)&&i.listeners.push({event:o,callback:f,type:s,namespace:l,qualifier:u,conf:v})},r,e,t,n,a),this},zr.one=function(r,e,t,n){return this.on(r,e,t,n,{one:!0})},zr.removeListener=zr.off=function(r,e,t,n){var a=this;this.emitting!==0&&(this.listeners=mu(this.listeners));for(var i=this.listeners,o=function(u){var f=i[u];Go(a,function(v,d,h,c,p,y){if((f.type===h||r==="*")&&(!c&&f.namespace!==".*"||f.namespace===c)&&(!p||v.qualifierCompare(f.qualifier,p))&&(!y||f.callback===y))return i.splice(u,1),!1},r,e,t,n)},s=i.length-1;s>=0;s--)o(s);return this},zr.removeAllListeners=function(){return this.removeListener("*")},zr.emit=zr.trigger=function(r,e,t){var n=this.listeners,a=n.length;return this.emitting++,ge(e)||(e=[e]),If(this,function(i,o){t!=null&&(n=[{event:o.event,type:o.type,namespace:o.namespace,callback:t}],a=n.length);for(var s=function(f){var v=n[f];if(v.type===o.type&&(!v.namespace||v.namespace===o.namespace||v.namespace===Rf)&&i.eventMatches(i.context,v,o)){var d=[o];e!=null&&bu(d,e),i.beforeEmit(i.context,v,o),v.conf&&v.conf.one&&(i.listeners=i.listeners.filter(function(p){return p!==v}));var h=i.callbackContext(i.context,v,o),c=v.callback.apply(h,d);i.afterEmit(i.context,v,o),c===!1&&(o.stopPropagation(),o.preventDefault())}},l=0;l<a;l++)s(l);i.bubble(i.context)&&!o.isPropagationStopped()&&i.parent(i.context).emit(o,e)},r),this.emitting--,this};var Of={qualifierCompare:function(e,t){return e==null||t==null?e==null&&t==null:e.sameText(t)},eventMatches:function(e,t,n){var a=t.qualifier;return a!=null?e!==n.target&&ct(n.target)&&a.matches(n.target):!0},addEventFields:function(e,t){t.cy=e.cy(),t.target=e},callbackContext:function(e,t,n){return t.qualifier!=null?n.target:e},beforeEmit:function(e,t){t.conf&&t.conf.once&&t.conf.onceCollection.removeListener(t.event,t.qualifier,t.callback)},bubble:function(){return!0},parent:function(e){return e.isChild()?e.parent():e.cy()}},ya=function(e){return _(e)?new Ar(e):e},Wo={createEmitter:function(){for(var e=0;e<this.length;e++){var t=this[e],n=t._private;n.emitter||(n.emitter=new ma(Of,t))}return this},emitter:function(){return this._private.emitter},on:function(e,t,n){for(var a=ya(t),i=0;i<this.length;i++){var o=this[i];o.emitter().on(e,a,n)}return this},removeListener:function(e,t,n){for(var a=ya(t),i=0;i<this.length;i++){var o=this[i];o.emitter().removeListener(e,a,n)}return this},removeAllListeners:function(){for(var e=0;e<this.length;e++){var t=this[e];t.emitter().removeAllListeners()}return this},one:function(e,t,n){for(var a=ya(t),i=0;i<this.length;i++){var o=this[i];o.emitter().one(e,a,n)}return this},once:function(e,t,n){for(var a=ya(t),i=0;i<this.length;i++){var o=this[i];o.emitter().on(e,a,n,{once:!0,onceCollection:this})}},emit:function(e,t){for(var n=0;n<this.length;n++){var a=this[n];a.emitter().emit(e,t)}return this},emitAndNotify:function(e,t){if(this.length!==0)return this.cy().notify(e,this),this.emit(e,t),this}};wt.eventAliasesOn(Wo);var $o={nodes:function(e){return this.filter(function(t){return t.isNode()}).filter(e)},edges:function(e){return this.filter(function(t){return t.isEdge()}).filter(e)},byGroup:function(){for(var e=this.spawn(),t=this.spawn(),n=0;n<this.length;n++){var a=this[n];a.isNode()?e.push(a):t.push(a)}return{nodes:e,edges:t}},filter:function(e,t){if(e===void 0)return this;if(_(e)||Ye(e))return new Ar(e).filter(this);if(ce(e)){for(var n=this.spawn(),a=this,i=0;i<a.length;i++){var o=a[i],s=t?e.apply(t,[o,i,a]):e(o,i,a);s&&n.push(o)}return n}return this.spawn()},not:function(e){if(e){_(e)&&(e=this.filter(e));for(var t=this.spawn(),n=0;n<this.length;n++){var a=this[n],i=e.has(a);i||t.push(a)}return t}else return this},absoluteComplement:function(){var e=this.cy();return e.mutableElements().not(this)},intersect:function(e){if(_(e)){var t=e;return this.filter(t)}for(var n=this.spawn(),a=this,i=e,o=this.length<e.length,s=o?a:i,l=o?i:a,u=0;u<s.length;u++){var f=s[u];l.has(f)&&n.push(f)}return n},xor:function(e){var t=this._private.cy;_(e)&&(e=t.$(e));var n=this.spawn(),a=this,i=e,o=function(l,u){for(var f=0;f<l.length;f++){var v=l[f],d=v._private.data.id,h=u.hasElementWithId(d);h||n.push(v)}};return o(a,i),o(i,a),n},diff:function(e){var t=this._private.cy;_(e)&&(e=t.$(e));var n=this.spawn(),a=this.spawn(),i=this.spawn(),o=this,s=e,l=function(f,v,d){for(var h=0;h<f.length;h++){var c=f[h],p=c._private.data.id,y=v.hasElementWithId(p);y?i.merge(c):d.push(c)}};return l(o,s,n),l(s,o,a),{left:n,right:a,both:i}},add:function(e){var t=this._private.cy;if(!e)return this;if(_(e)){var n=e;e=t.mutableElements().filter(n)}for(var a=this.spawnSelf(),i=0;i<e.length;i++){var o=e[i],s=!this.has(o);s&&a.push(o)}return a},merge:function(e){var t=this._private,n=t.cy;if(!e)return this;if(e&&_(e)){var a=e;e=n.mutableElements().filter(a)}for(var i=t.map,o=0;o<e.length;o++){var s=e[o],l=s._private.data.id,u=!i.has(l);if(u){var f=this.length++;this[f]=s,i.set(l,{ele:s,index:f})}}return this},unmergeAt:function(e){var t=this[e],n=t.id(),a=this._private,i=a.map;this[e]=void 0,i.delete(n);var o=e===this.length-1;if(this.length>1&&!o){var s=this.length-1,l=this[s],u=l._private.data.id;this[s]=void 0,this[e]=l,i.set(u,{ele:l,index:e})}return this.length--,this},unmergeOne:function(e){e=e[0];var t=this._private,n=e._private.data.id,a=t.map,i=a.get(n);if(!i)return this;var o=i.index;return this.unmergeAt(o),this},unmerge:function(e){var t=this._private.cy;if(!e)return this;if(e&&_(e)){var n=e;e=t.mutableElements().filter(n)}for(var a=0;a<e.length;a++)this.unmergeOne(e[a]);return this},unmergeBy:function(e){for(var t=this.length-1;t>=0;t--){var n=this[t];e(n)&&this.unmergeAt(t)}return this},map:function(e,t){for(var n=[],a=this,i=0;i<a.length;i++){var o=a[i],s=t?e.apply(t,[o,i,a]):e(o,i,a);n.push(s)}return n},reduce:function(e,t){for(var n=t,a=this,i=0;i<a.length;i++)n=e(n,a[i],i,a);return n},max:function(e,t){for(var n=-1/0,a,i=this,o=0;o<i.length;o++){var s=i[o],l=t?e.apply(t,[s,o,i]):e(s,o,i);l>n&&(n=l,a=s)}return{value:n,ele:a}},min:function(e,t){for(var n=1/0,a,i=this,o=0;o<i.length;o++){var s=i[o],l=t?e.apply(t,[s,o,i]):e(s,o,i);l<n&&(n=l,a=s)}return{value:n,ele:a}}},gt=$o;gt.u=gt["|"]=gt["+"]=gt.union=gt.or=gt.add,gt["\\"]=gt["!"]=gt["-"]=gt.difference=gt.relativeComplement=gt.subtract=gt.not,gt.n=gt["&"]=gt["."]=gt.and=gt.intersection=gt.intersect,gt["^"]=gt["(+)"]=gt["(-)"]=gt.symmetricDifference=gt.symdiff=gt.xor,gt.fnFilter=gt.filterFn=gt.stdFilter=gt.filter,gt.complement=gt.abscomp=gt.absoluteComplement;var Nf={isNode:function(){return this.group()==="nodes"},isEdge:function(){return this.group()==="edges"},isLoop:function(){return this.isEdge()&&this.source()[0]===this.target()[0]},isSimple:function(){return this.isEdge()&&this.source()[0]!==this.target()[0]},group:function(){var e=this[0];if(e)return e._private.group}},Ko=function(e,t){var n=e.cy(),a=n.hasCompoundNodes();function i(f){var v=f.pstyle("z-compound-depth");return v.value==="auto"?a?f.zDepth():0:v.value==="bottom"?-1:v.value==="top"?Wa:0}var o=i(e)-i(t);if(o!==0)return o;function s(f){var v=f.pstyle("z-index-compare");return v.value==="auto"&&f.isNode()?1:0}var l=s(e)-s(t);if(l!==0)return l;var u=e.pstyle("z-index").value-t.pstyle("z-index").value;return u!==0?u:e.poolIndex()-t.poolIndex()},ba={forEach:function(e,t){if(ce(e))for(var n=this.length,a=0;a<n;a++){var i=this[a],o=t?e.apply(t,[i,a,this]):e(i,a,this);if(o===!1)break}return this},toArray:function(){for(var e=[],t=0;t<this.length;t++)e.push(this[t]);return e},slice:function(e,t){var n=[],a=this.length;t==null&&(t=a),e==null&&(e=0),e<0&&(e=a+e),t<0&&(t=a+t);for(var i=e;i>=0&&i<t&&i<a;i++)n.push(this[i]);return this.spawn(n)},size:function(){return this.length},eq:function(e){return this[e]||this.spawn()},first:function(){return this[0]||this.spawn()},last:function(){return this[this.length-1]||this.spawn()},empty:function(){return this.length===0},nonempty:function(){return!this.empty()},sort:function(e){if(!ce(e))return this;var t=this.toArray().sort(e);return this.spawn(t)},sortByZIndex:function(){return this.sort(Ko)},zDepth:function(){var e=this[0];if(e){var t=e._private,n=t.group;if(n==="nodes"){var a=t.data.parent?e.parents().size():0;return e.isParent()?a:Wa-1}else{var i=t.source,o=t.target,s=i.zDepth(),l=o.zDepth();return Math.max(s,l,0)}}}};ba.each=ba.forEach;var zf=function(){var e="undefined",t=(typeof Symbol>"u"?"undefined":W(Symbol))!=e&&W(Symbol.iterator)!=e;t&&(ba[Symbol.iterator]=function(){var n=this,a={value:void 0,done:!1},i=0,o=this.length;return j({next:function(){return i<o?a.value=n[i++]:(a.value=void 0,a.done=!0),a}},Symbol.iterator,function(){return this})})};zf();var Ff=zt({nodeDimensionsIncludeLabels:!1}),wa={layoutDimensions:function(e){e=Ff(e);var t;if(!this.takesUpSpace())t={w:0,h:0};else if(e.nodeDimensionsIncludeLabels){var n=this.boundingBox();t={w:n.w,h:n.h}}else t={w:this.outerWidth(),h:this.outerHeight()};return(t.w===0||t.h===0)&&(t.w=t.h=1),t},layoutPositions:function(e,t,n){var a=this.nodes().filter(function(F){return!F.isParent()}),i=this.cy(),o=t.eles,s=function(G){return G.id()},l=At(n,s);e.emit({type:"layoutstart",layout:e}),e.animations=[];var u=function(G,k,V){var M={x:k.x1+k.w/2,y:k.y1+k.h/2},$={x:(V.x-M.x)*G,y:(V.y-M.y)*G};return{x:M.x+$.x,y:M.y+$.y}},f=t.spacingFactor&&t.spacingFactor!==1,v=function(){if(!f)return null;for(var G=jt(),k=0;k<a.length;k++){var V=a[k],M=l(V,k);Uu(G,M.x,M.y)}return G},d=v(),h=At(function(F,G){var k=l(F,G);if(f){var V=Math.abs(t.spacingFactor);k=u(V,d,k)}return t.transform!=null&&(k=t.transform(F,k)),k},s);if(t.animate){for(var c=0;c<a.length;c++){var p=a[c],y=h(p,c),b=t.animateFilter==null||t.animateFilter(p,c);if(b){var x=p.animation({position:y,duration:t.animationDuration,easing:t.animationEasing});e.animations.push(x)}else p.position(y)}if(t.fit){var w=i.animation({fit:{boundingBox:o.boundingBoxAt(h),padding:t.padding},duration:t.animationDuration,easing:t.animationEasing});e.animations.push(w)}else if(t.zoom!==void 0&&t.pan!==void 0){var P=i.animation({zoom:t.zoom,pan:t.pan,duration:t.animationDuration,easing:t.animationEasing});e.animations.push(P)}e.animations.forEach(function(F){return F.play()}),e.one("layoutready",t.ready),e.emit({type:"layoutready",layout:e}),fn.all(e.animations.map(function(F){return F.promise()})).then(function(){e.one("layoutstop",t.stop),e.emit({type:"layoutstop",layout:e})})}else a.positions(h),t.fit&&i.fit(t.eles,t.padding),t.zoom!=null&&i.zoom(t.zoom),t.pan&&i.pan(t.pan),e.one("layoutready",t.ready),e.emit({type:"layoutready",layout:e}),e.one("layoutstop",t.stop),e.emit({type:"layoutstop",layout:e});return this},layout:function(e){var t=this.cy();return t.makeLayout(rt({},e,{eles:this}))}};wa.createLayout=wa.makeLayout=wa.layout;function Yo(r,e,t){var n=t._private,a=n.styleCache=n.styleCache||[],i;return(i=a[r])!=null||(i=a[r]=e(t)),i}function xa(r,e){return r=Hr(r),function(n){return Yo(r,e,n)}}function Ea(r,e){r=Hr(r);var t=function(a){return e.call(a)};return function(){var a=this[0];if(a)return Yo(r,t,a)}}var Ft={recalculateRenderedStyle:function(e){var t=this.cy(),n=t.renderer(),a=t.styleEnabled();return n&&a&&n.recalculateRenderedStyle(this,e),this},dirtyStyleCache:function(){var e=this.cy(),t=function(i){return i._private.styleCache=null};if(e.hasCompoundNodes()){var n;n=this.spawnSelf().merge(this.descendants()).merge(this.parents()),n.merge(n.connectedEdges()),n.forEach(t)}else this.forEach(function(a){t(a),a.connectedEdges().forEach(t)});return this},updateStyle:function(e){var t=this._private.cy;if(!t.styleEnabled())return this;if(t.batching()){var n=t._private.batchStyleEles;return n.merge(this),this}var a=t.hasCompoundNodes(),i=this;e=!!(e||e===void 0),a&&(i=this.spawnSelf().merge(this.descendants()).merge(this.parents()));var o=i;return e?o.emitAndNotify("style"):o.emit("style"),i.forEach(function(s){return s._private.styleDirty=!0}),this},cleanStyle:function(){var e=this.cy();if(e.styleEnabled())for(var t=0;t<this.length;t++){var n=this[t];n._private.styleDirty&&(n._private.styleDirty=!1,e.style().apply(n))}},parsedStyle:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=this[0],a=n.cy();if(a.styleEnabled()&&n){this.cleanStyle();var i=n._private.style[e];return i??(t?a.style().getDefaultProperty(e):null)}},numericStyle:function(e){var t=this[0];if(t.cy().styleEnabled()&&t){var n=t.pstyle(e);return n.pfValue!==void 0?n.pfValue:n.value}},numericStyleUnits:function(e){var t=this[0];if(t.cy().styleEnabled()&&t)return t.pstyle(e).units},renderedStyle:function(e){var t=this.cy();if(!t.styleEnabled())return this;var n=this[0];if(n)return t.style().getRenderedStyle(n,e)},style:function(e,t){var n=this.cy();if(!n.styleEnabled())return this;var a=!1,i=n.style();if(Ne(e)){var o=e;i.applyBypass(this,o,a),this.emitAndNotify("style")}else if(_(e))if(t===void 0){var s=this[0];return s?i.getStylePropertyValue(s,e):void 0}else i.applyBypass(this,e,t,a),this.emitAndNotify("style");else if(e===void 0){var l=this[0];return l?i.getRawStyle(l):void 0}return this},removeStyle:function(e){var t=this.cy();if(!t.styleEnabled())return this;var n=!1,a=t.style(),i=this;if(e===void 0)for(var o=0;o<i.length;o++){var s=i[o];a.removeAllBypasses(s,n)}else{e=e.split(/\s+/);for(var l=0;l<i.length;l++){var u=i[l];a.removeBypasses(u,e,n)}}return this.emitAndNotify("style"),this},show:function(){return this.css("display","element"),this},hide:function(){return this.css("display","none"),this},effectiveOpacity:function(){var e=this.cy();if(!e.styleEnabled())return 1;var t=e.hasCompoundNodes(),n=this[0];if(n){var a=n._private,i=n.pstyle("opacity").value;if(!t)return i;var o=a.data.parent?n.parents():null;if(o)for(var s=0;s<o.length;s++){var l=o[s],u=l.pstyle("opacity").value;i=u*i}return i}},transparent:function(){var e=this.cy();if(!e.styleEnabled())return!1;var t=this[0],n=t.cy().hasCompoundNodes();if(t)return n?t.effectiveOpacity()===0:t.pstyle("opacity").value===0},backgrounding:function(){var e=this.cy();if(!e.styleEnabled())return!1;var t=this[0];return!!t._private.backgrounding}};function li(r,e){var t=r._private,n=t.data.parent?r.parents():null;if(n)for(var a=0;a<n.length;a++){var i=n[a];if(!e(i))return!1}return!0}function fi(r){var e=r.ok,t=r.edgeOkViaNode||r.ok,n=r.parentOk||r.ok;return function(){var a=this.cy();if(!a.styleEnabled())return!0;var i=this[0],o=a.hasCompoundNodes();if(i){var s=i._private;if(!e(i))return!1;if(i.isNode())return!o||li(i,n);var l=s.source,u=s.target;return t(l)&&(!o||li(l,t))&&(l===u||t(u)&&(!o||li(u,t)))}}}var gn=xa("eleTakesUpSpace",function(r){return r.pstyle("display").value==="element"&&r.width()!==0&&(r.isNode()?r.height()!==0:!0)});Ft.takesUpSpace=Ea("takesUpSpace",fi({ok:gn}));var Vf=xa("eleInteractive",function(r){return r.pstyle("events").value==="yes"&&r.pstyle("visibility").value==="visible"&&gn(r)}),Gf=xa("parentInteractive",function(r){return r.pstyle("visibility").value==="visible"&&gn(r)});Ft.interactive=Ea("interactive",fi({ok:Vf,parentOk:Gf,edgeOkViaNode:gn})),Ft.noninteractive=function(){var r=this[0];if(r)return!r.interactive()};var Hf=xa("eleVisible",function(r){return r.pstyle("visibility").value==="visible"&&r.pstyle("opacity").pfValue!==0&&gn(r)}),Wf=gn;Ft.visible=Ea("visible",fi({ok:Hf,edgeOkViaNode:Wf})),Ft.hidden=function(){var r=this[0];if(r)return!r.visible()},Ft.isBundledBezier=Ea("isBundledBezier",function(){return this.cy().styleEnabled()?!this.removed()&&this.pstyle("curve-style").value==="bezier"&&this.takesUpSpace():!1}),Ft.bypass=Ft.css=Ft.style,Ft.renderedCss=Ft.renderedStyle,Ft.removeBypass=Ft.removeCss=Ft.removeStyle,Ft.pstyle=Ft.parsedStyle;var Fr={};function Uo(r){return function(){var e=arguments,t=[];if(e.length===2){var n=e[0],a=e[1];this.on(r.event,n,a)}else if(e.length===1&&ce(e[0])){var i=e[0];this.on(r.event,i)}else if(e.length===0||e.length===1&&ge(e[0])){for(var o=e.length===1?e[0]:null,s=0;s<this.length;s++){var l=this[s],u=!r.ableField||l._private[r.ableField],f=l._private[r.field]!=r.value;if(r.overrideAble){var v=r.overrideAble(l);if(v!==void 0&&(u=v,!v))return this}u&&(l._private[r.field]=r.value,f&&t.push(l))}var d=this.spawn(t);d.updateStyle(),d.emit(r.event),o&&d.emit(o)}return this}}function pn(r){Fr[r.field]=function(){var e=this[0];if(e){if(r.overrideField){var t=r.overrideField(e);if(t!==void 0)return t}return e._private[r.field]}},Fr[r.on]=Uo({event:r.on,field:r.field,ableField:r.ableField,overrideAble:r.overrideAble,value:!0}),Fr[r.off]=Uo({event:r.off,field:r.field,ableField:r.ableField,overrideAble:r.overrideAble,value:!1})}pn({field:"locked",overrideField:function(e){return e.cy().autolock()?!0:void 0},on:"lock",off:"unlock"}),pn({field:"grabbable",overrideField:function(e){return e.cy().autoungrabify()||e.pannable()?!1:void 0},on:"grabify",off:"ungrabify"}),pn({field:"selected",ableField:"selectable",overrideAble:function(e){return e.cy().autounselectify()?!1:void 0},on:"select",off:"unselect"}),pn({field:"selectable",overrideField:function(e){return e.cy().autounselectify()?!1:void 0},on:"selectify",off:"unselectify"}),Fr.deselect=Fr.unselect,Fr.grabbed=function(){var r=this[0];if(r)return r._private.grabbed},pn({field:"active",on:"activate",off:"unactivate"}),pn({field:"pannable",on:"panify",off:"unpanify"}),Fr.inactive=function(){var r=this[0];if(r)return!r._private.active};var Kt={},Zo=function(e){return function(n){for(var a=this,i=[],o=0;o<a.length;o++){var s=a[o];if(s.isNode()){for(var l=!1,u=s.connectedEdges(),f=0;f<u.length;f++){var v=u[f],d=v.source(),h=v.target();if(e.noIncomingEdges&&h===s&&d!==s||e.noOutgoingEdges&&d===s&&h!==s){l=!0;break}}l||i.push(s)}}return this.spawn(i,!0).filter(n)}},Xo=function(e){return function(t){for(var n=this,a=[],i=0;i<n.length;i++){var o=n[i];if(o.isNode())for(var s=o.connectedEdges(),l=0;l<s.length;l++){var u=s[l],f=u.source(),v=u.target();e.outgoing&&f===o?(a.push(u),a.push(v)):e.incoming&&v===o&&(a.push(u),a.push(f))}}return this.spawn(a,!0).filter(t)}},Qo=function(e){return function(t){for(var n=this,a=[],i={};;){var o=e.outgoing?n.outgoers():n.incomers();if(o.length===0)break;for(var s=!1,l=0;l<o.length;l++){var u=o[l],f=u.id();i[f]||(i[f]=!0,a.push(u),s=!0)}if(!s)break;n=o}return this.spawn(a,!0).filter(t)}};Kt.clearTraversalCache=function(){for(var r=0;r<this.length;r++)this[r]._private.traversalCache=null},rt(Kt,{roots:Zo({noIncomingEdges:!0}),leaves:Zo({noOutgoingEdges:!0}),outgoers:ar(Xo({outgoing:!0}),"outgoers"),successors:Qo({outgoing:!0}),incomers:ar(Xo({incoming:!0}),"incomers"),predecessors:Qo({incoming:!0})}),rt(Kt,{neighborhood:ar(function(r){for(var e=[],t=this.nodes(),n=0;n<t.length;n++)for(var a=t[n],i=a.connectedEdges(),o=0;o<i.length;o++){var s=i[o],l=s.source(),u=s.target(),f=a===l?u:l;f.length>0&&e.push(f[0]),e.push(s[0])}return this.spawn(e,!0).filter(r)},"neighborhood"),closedNeighborhood:function(e){return this.neighborhood().add(this).filter(e)},openNeighborhood:function(e){return this.neighborhood(e)}}),Kt.neighbourhood=Kt.neighborhood,Kt.closedNeighbourhood=Kt.closedNeighborhood,Kt.openNeighbourhood=Kt.openNeighborhood,rt(Kt,{source:ar(function(e){var t=this[0],n;return t&&(n=t._private.source||t.cy().collection()),n&&e?n.filter(e):n},"source"),target:ar(function(e){var t=this[0],n;return t&&(n=t._private.target||t.cy().collection()),n&&e?n.filter(e):n},"target"),sources:Jo({attr:"source"}),targets:Jo({attr:"target"})});function Jo(r){return function(t){for(var n=[],a=0;a<this.length;a++){var i=this[a],o=i._private[r.attr];o&&n.push(o)}return this.spawn(n,!0).filter(t)}}rt(Kt,{edgesWith:ar(qo(),"edgesWith"),edgesTo:ar(qo({thisIsSrc:!0}),"edgesTo")});function qo(r){return function(t){var n=[],a=this._private.cy,i=r||{};_(t)&&(t=a.$(t));for(var o=0;o<t.length;o++)for(var s=t[o]._private.edges,l=0;l<s.length;l++){var u=s[l],f=u._private.data,v=this.hasElementWithId(f.source)&&t.hasElementWithId(f.target),d=t.hasElementWithId(f.source)&&this.hasElementWithId(f.target),h=v||d;h&&((i.thisIsSrc||i.thisIsTgt)&&(i.thisIsSrc&&!v||i.thisIsTgt&&!d)||n.push(u))}return this.spawn(n,!0)}}rt(Kt,{connectedEdges:ar(function(r){for(var e=[],t=this,n=0;n<t.length;n++){var a=t[n];if(a.isNode())for(var i=a._private.edges,o=0;o<i.length;o++){var s=i[o];e.push(s)}}return this.spawn(e,!0).filter(r)},"connectedEdges"),connectedNodes:ar(function(r){for(var e=[],t=this,n=0;n<t.length;n++){var a=t[n];a.isEdge()&&(e.push(a.source()[0]),e.push(a.target()[0]))}return this.spawn(e,!0).filter(r)},"connectedNodes"),parallelEdges:ar(jo(),"parallelEdges"),codirectedEdges:ar(jo({codirected:!0}),"codirectedEdges")});function jo(r){var e={codirected:!1};return r=rt({},e,r),function(n){for(var a=[],i=this.edges(),o=r,s=0;s<i.length;s++)for(var l=i[s],u=l._private,f=u.source,v=f._private.data.id,d=u.data.target,h=f._private.edges,c=0;c<h.length;c++){var p=h[c],y=p._private.data,b=y.target,x=y.source,w=b===d&&x===v,P=v===b&&d===x;(o.codirected&&w||!o.codirected&&(w||P))&&a.push(p)}return this.spawn(a,!0).filter(n)}}rt(Kt,{components:function(e){var t=this,n=t.cy(),a=n.collection(),i=e==null?t.nodes():e.nodes(),o=[];e!=null&&i.empty()&&(i=e.sources());var s=function(f,v){a.merge(f),i.unmerge(f),v.merge(f)};if(i.empty())return t.spawn();var l=function(){var f=n.collection();o.push(f);var v=i[0];s(v,f),t.bfs({directed:!1,roots:v,visit:function(h){return s(h,f)}}),f.forEach(function(d){d.connectedEdges().forEach(function(h){t.has(h)&&f.has(h.source())&&f.has(h.target())&&f.merge(h)})})};do l();while(i.length>0);return o},component:function(){var e=this[0];return e.cy().mutableElements().components(e)[0]}}),Kt.componentsOf=Kt.components;var Vt=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(e===void 0){Pt("A collection must have a reference to the core");return}var i=new pr,o=!1;if(!t)t=[];else if(t.length>0&&Ne(t[0])&&!ct(t[0])){o=!0;for(var s=[],l=new rn,u=0,f=t.length;u<f;u++){var v=t[u];v.data==null&&(v.data={});var d=v.data;if(d.id==null)d.id=Vi();else if(e.hasElementWithId(d.id)||l.has(d.id))continue;var h=new na(e,v,!1);s.push(h),l.add(d.id)}t=s}this.length=0;for(var c=0,p=t.length;c<p;c++){var y=t[c][0];if(y!=null){var b=y._private.data.id;(!n||!i.has(b))&&(n&&i.set(b,{index:this.length,ele:y}),this[this.length]=y,this.length++)}}this._private={eles:this,cy:e,get map(){return this.lazyMap==null&&this.rebuildMap(),this.lazyMap},set map(x){this.lazyMap=x},rebuildMap:function(){for(var w=this.lazyMap=new pr,P=this.eles,F=0;F<P.length;F++){var G=P[F];w.set(G.id(),{index:F,ele:G})}}},n&&(this._private.map=i),o&&!a&&this.restore()},St=na.prototype=Vt.prototype=Object.create(Array.prototype);St.instanceString=function(){return"collection"},St.spawn=function(r,e){return new Vt(this.cy(),r,e)},St.spawnSelf=function(){return this.spawn(this)},St.cy=function(){return this._private.cy},St.renderer=function(){return this._private.cy.renderer()},St.element=function(){return this[0]},St.collection=function(){return oe(this)?this:new Vt(this._private.cy,[this])},St.unique=function(){return new Vt(this._private.cy,this,!0)},St.hasElementWithId=function(r){return r=""+r,this._private.map.has(r)},St.getElementById=function(r){r=""+r;var e=this._private.cy,t=this._private.map.get(r);return t?t.ele:new Vt(e)},St.$id=St.getElementById,St.poolIndex=function(){var r=this._private.cy,e=r._private.elements,t=this[0]._private.data.id;return e._private.map.get(t).index},St.indexOf=function(r){var e=r[0]._private.data.id;return this._private.map.get(e).index},St.indexOfId=function(r){return r=""+r,this._private.map.get(r).index},St.json=function(r){var e=this.element(),t=this.cy();if(e==null&&r)return this;if(e!=null){var n=e._private;if(Ne(r)){if(t.startBatch(),r.data){e.data(r.data);var a=n.data;if(e.isEdge()){var i=!1,o={},s=r.data.source,l=r.data.target;s!=null&&s!=a.source&&(o.source=""+s,i=!0),l!=null&&l!=a.target&&(o.target=""+l,i=!0),i&&(e=e.move(o))}else{var u="parent"in r.data,f=r.data.parent;u&&(f!=null||a.parent!=null)&&f!=a.parent&&(f===void 0&&(f=null),f!=null&&(f=""+f),e=e.move({parent:f}))}}r.position&&e.position(r.position);var v=function(p,y,b){var x=r[p];x!=null&&x!==n[p]&&(x?e[y]():e[b]())};return v("removed","remove","restore"),v("selected","select","unselect"),v("selectable","selectify","unselectify"),v("locked","lock","unlock"),v("grabbable","grabify","ungrabify"),v("pannable","panify","unpanify"),r.classes!=null&&e.classes(r.classes),t.endBatch(),this}else if(r===void 0){var d={data:gr(n.data),position:gr(n.position),group:n.group,removed:n.removed,selected:n.selected,selectable:n.selectable,locked:n.locked,grabbable:n.grabbable,pannable:n.pannable,classes:null};d.classes="";var h=0;return n.classes.forEach(function(c){return d.classes+=h++===0?c:" "+c}),d}}},St.jsons=function(){for(var r=[],e=0;e<this.length;e++){var t=this[e],n=t.json();r.push(n)}return r},St.clone=function(){for(var r=this.cy(),e=[],t=0;t<this.length;t++){var n=this[t],a=n.json(),i=new na(r,a,!1);e.push(i)}return new Vt(r,e)},St.copy=St.clone,St.restore=function(){for(var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,t=this,n=t.cy(),a=n._private,i=[],o=[],s,l=0,u=t.length;l<u;l++){var f=t[l];e&&!f.removed()||(f.isNode()?i.push(f):o.push(f))}s=i.concat(o);var v,d=function(){s.splice(v,1),v--};for(v=0;v<s.length;v++){var h=s[v],c=h._private,p=c.data;if(h.clearTraversalCache(),!(!e&&!c.removed)){if(p.id===void 0)p.id=Vi();else if(ue(p.id))p.id=""+p.id;else if(tt(p.id)||!_(p.id)){Pt("Can not create element with invalid string ID `"+p.id+"`"),d();continue}else if(n.hasElementWithId(p.id)){Pt("Can not create second element with ID `"+p.id+"`"),d();continue}}var y=p.id;if(h.isNode()){var b=c.position;b.x==null&&(b.x=0),b.y==null&&(b.y=0)}if(h.isEdge()){for(var x=h,w=["source","target"],P=w.length,F=!1,G=0;G<P;G++){var k=w[G],V=p[k];ue(V)&&(V=p[k]=""+p[k]),V==null||V===""?(Pt("Can not create edge `"+y+"` with unspecified "+k),F=!0):n.hasElementWithId(V)||(Pt("Can not create edge `"+y+"` with nonexistant "+k+" `"+V+"`"),F=!0)}if(F){d();continue}var M=n.getElementById(p.source),$=n.getElementById(p.target);M.same($)?M._private.edges.push(x):(M._private.edges.push(x),$._private.edges.push(x)),x._private.source=M,x._private.target=$}c.map=new pr,c.map.set(y,{ele:h,index:0}),c.removed=!1,e&&n.addToPool(h)}for(var K=0;K<i.length;K++){var I=i[K],Q=I._private.data;ue(Q.parent)&&(Q.parent=""+Q.parent);var H=Q.parent,ne=H!=null;if(ne||I._private.parent){var J=I._private.parent?n.collection().merge(I._private.parent):n.getElementById(H);if(J.empty())Q.parent=void 0;else if(J[0].removed())bt("Node added with missing parent, reference to parent removed"),Q.parent=void 0,I._private.parent=null;else{for(var q=!1,se=J;!se.empty();){if(I.same(se)){q=!0,Q.parent=void 0;break}se=se.parent()}q||(J[0]._private.children.push(I),I._private.parent=J[0],a.hasCompoundNodes=!0)}}}if(s.length>0){for(var fe=s.length===t.length?t:new Vt(n,s),ye=0;ye<fe.length;ye++){var le=fe[ye];le.isNode()||(le.parallelEdges().clearTraversalCache(),le.source().clearTraversalCache(),le.target().clearTraversalCache())}var me;a.hasCompoundNodes?me=n.collection().merge(fe).merge(fe.connectedNodes()).merge(fe.parent()):me=fe,me.dirtyCompoundBoundsCache().dirtyBoundingBoxCache().updateStyle(r),r?fe.emitAndNotify("add"):e&&fe.emit("add")}return t},St.removed=function(){var r=this[0];return r&&r._private.removed},St.inside=function(){var r=this[0];return r&&!r._private.removed},St.remove=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,t=this,n=[],a={},i=t._private.cy;function o(H){for(var ne=H._private.edges,J=0;J<ne.length;J++)l(ne[J])}function s(H){for(var ne=H._private.children,J=0;J<ne.length;J++)l(ne[J])}function l(H){var ne=a[H.id()];e&&H.removed()||ne||(a[H.id()]=!0,H.isNode()?(n.push(H),o(H),s(H)):n.unshift(H))}for(var u=0,f=t.length;u<f;u++){var v=t[u];l(v)}function d(H,ne){var J=H._private.edges;Br(J,ne),H.clearTraversalCache()}function h(H){H.clearTraversalCache()}var c=[];c.ids={};function p(H,ne){ne=ne[0],H=H[0];var J=H._private.children,q=H.id();Br(J,ne),ne._private.parent=null,c.ids[q]||(c.ids[q]=!0,c.push(H))}t.dirtyCompoundBoundsCache(),e&&i.removeFromPool(n);for(var y=0;y<n.length;y++){var b=n[y];if(b.isEdge()){var x=b.source()[0],w=b.target()[0];d(x,b),d(w,b);for(var P=b.parallelEdges(),F=0;F<P.length;F++){var G=P[F];h(G),G.isBundledBezier()&&G.dirtyBoundingBoxCache()}}else{var k=b.parent();k.length!==0&&p(k,b)}e&&(b._private.removed=!0)}var V=i._private.elements;i._private.hasCompoundNodes=!1;for(var M=0;M<V.length;M++){var $=V[M];if($.isParent()){i._private.hasCompoundNodes=!0;break}}var K=new Vt(this.cy(),n);K.size()>0&&(r?K.emitAndNotify("remove"):e&&K.emit("remove"));for(var I=0;I<c.length;I++){var Q=c[I];(!e||!Q.removed())&&Q.updateStyle()}return K},St.move=function(r){var e=this._private.cy,t=this,n=!1,a=!1,i=function(c){return c==null?c:""+c};if(r.source!==void 0||r.target!==void 0){var o=i(r.source),s=i(r.target),l=o!=null&&e.hasElementWithId(o),u=s!=null&&e.hasElementWithId(s);(l||u)&&(e.batch(function(){t.remove(n,a),t.emitAndNotify("moveout");for(var h=0;h<t.length;h++){var c=t[h],p=c._private.data;c.isEdge()&&(l&&(p.source=o),u&&(p.target=s))}t.restore(n,a)}),t.emitAndNotify("move"))}else if(r.parent!==void 0){var f=i(r.parent),v=f===null||e.hasElementWithId(f);if(v){var d=f===null?void 0:f;e.batch(function(){var h=t.remove(n,a);h.emitAndNotify("moveout");for(var c=0;c<t.length;c++){var p=t[c],y=p._private.data;p.isNode()&&(y.parent=d)}h.restore(n,a)}),t.emitAndNotify("move")}}return this},[ho,_l,ca,Or,dn,pf,ha,Mf,Wo,$o,Nf,ba,wa,Ft,Fr,Kt].forEach(function(r){rt(St,r)});var $f={add:function(e){var t,n=this;if(Ye(e)){var a=e;if(a._private.cy===n)t=a.restore();else{for(var i=[],o=0;o<a.length;o++){var s=a[o];i.push(s.json())}t=new Vt(n,i)}}else if(ge(e)){var l=e;t=new Vt(n,l)}else if(Ne(e)&&(ge(e.nodes)||ge(e.edges))){for(var u=e,f=[],v=["nodes","edges"],d=0,h=v.length;d<h;d++){var c=v[d],p=u[c];if(ge(p))for(var y=0,b=p.length;y<b;y++){var x=rt({group:c},p[y]);f.push(x)}}t=new Vt(n,f)}else{var w=e;t=new na(n,w).collection()}return t},remove:function(e){if(!Ye(e)){if(_(e)){var t=e;e=this.$(t)}}return e.remove()}};/*! Bezier curve function generator. Copyright Gaetan Renaudeau. MIT License: http://en.wikipedia.org/wiki/MIT_License */function Kf(r,e,t,n){var a=4,i=.001,o=1e-7,s=10,l=11,u=1/(l-1),f=typeof Float32Array<"u";if(arguments.length!==4)return!1;for(var v=0;v<4;++v)if(typeof arguments[v]!="number"||isNaN(arguments[v])||!isFinite(arguments[v]))return!1;r=Math.min(r,1),t=Math.min(t,1),r=Math.max(r,0),t=Math.max(t,0);var d=f?new Float32Array(l):new Array(l);function h($,K){return 1-3*K+3*$}function c($,K){return 3*K-6*$}function p($){return 3*$}function y($,K,I){return((h(K,I)*$+c(K,I))*$+p(K))*$}function b($,K,I){return 3*h(K,I)*$*$+2*c(K,I)*$+p(K)}function x($,K){for(var I=0;I<a;++I){var Q=b(K,r,t);if(Q===0)return K;var H=y(K,r,t)-$;K-=H/Q}return K}function w(){for(var $=0;$<l;++$)d[$]=y($*u,r,t)}function P($,K,I){var Q,H,ne=0;do H=K+(I-K)/2,Q=y(H,r,t)-$,Q>0?I=H:K=H;while(Math.abs(Q)>o&&++ne<s);return H}function F($){for(var K=0,I=1,Q=l-1;I!==Q&&d[I]<=$;++I)K+=u;--I;var H=($-d[I])/(d[I+1]-d[I]),ne=K+H*u,J=b(ne,r,t);return J>=i?x($,ne):J===0?ne:P($,K,K+u)}var G=!1;function k(){G=!0,(r!==e||t!==n)&&w()}var V=function(K){return G||k(),r===e&&t===n?K:K===0?0:K===1?1:y(F(K),e,n)};V.getControlPoints=function(){return[{x:r,y:e},{x:t,y:n}]};var M="generateBezier("+[r,e,t,n]+")";return V.toString=function(){return M},V}/*! Runge-Kutta spring physics function generator. Adapted from Framer.js, copyright Koen Bok. MIT License: http://en.wikipedia.org/wiki/MIT_License */var Yf=function(){function r(n){return-n.tension*n.x-n.friction*n.v}function e(n,a,i){var o={x:n.x+i.dx*a,v:n.v+i.dv*a,tension:n.tension,friction:n.friction};return{dx:o.v,dv:r(o)}}function t(n,a){var i={dx:n.v,dv:r(n)},o=e(n,a*.5,i),s=e(n,a*.5,o),l=e(n,a,s),u=1/6*(i.dx+2*(o.dx+s.dx)+l.dx),f=1/6*(i.dv+2*(o.dv+s.dv)+l.dv);return n.x=n.x+u*a,n.v=n.v+f*a,n}return function n(a,i,o){var s={x:-1,v:0,tension:null,friction:null},l=[0],u=0,f=1/1e4,v=16/1e3,d,h,c;for(a=parseFloat(a)||500,i=parseFloat(i)||20,o=o||null,s.tension=a,s.friction=i,d=o!==null,d?(u=n(a,i),h=u/o*v):h=v;c=t(c||s,h),l.push(1+c.x),u+=16,Math.abs(c.x)>f&&Math.abs(c.v)>f;);return d?function(p){return l[p*(l.length-1)|0]}:u}}(),Tt=function(e,t,n,a){var i=Kf(e,t,n,a);return function(o,s,l){return o+(s-o)*i(l)}},Ca={linear:function(e,t,n){return e+(t-e)*n},ease:Tt(.25,.1,.25,1),"ease-in":Tt(.42,0,1,1),"ease-out":Tt(0,0,.58,1),"ease-in-out":Tt(.42,0,.58,1),"ease-in-sine":Tt(.47,0,.745,.715),"ease-out-sine":Tt(.39,.575,.565,1),"ease-in-out-sine":Tt(.445,.05,.55,.95),"ease-in-quad":Tt(.55,.085,.68,.53),"ease-out-quad":Tt(.25,.46,.45,.94),"ease-in-out-quad":Tt(.455,.03,.515,.955),"ease-in-cubic":Tt(.55,.055,.675,.19),"ease-out-cubic":Tt(.215,.61,.355,1),"ease-in-out-cubic":Tt(.645,.045,.355,1),"ease-in-quart":Tt(.895,.03,.685,.22),"ease-out-quart":Tt(.165,.84,.44,1),"ease-in-out-quart":Tt(.77,0,.175,1),"ease-in-quint":Tt(.755,.05,.855,.06),"ease-out-quint":Tt(.23,1,.32,1),"ease-in-out-quint":Tt(.86,0,.07,1),"ease-in-expo":Tt(.95,.05,.795,.035),"ease-out-expo":Tt(.19,1,.22,1),"ease-in-out-expo":Tt(1,0,0,1),"ease-in-circ":Tt(.6,.04,.98,.335),"ease-out-circ":Tt(.075,.82,.165,1),"ease-in-out-circ":Tt(.785,.135,.15,.86),spring:function(e,t,n){if(n===0)return Ca.linear;var a=Yf(e,t,n);return function(i,o,s){return i+(o-i)*a(s)}},"cubic-bezier":Tt};function _o(r,e,t,n,a){if(n===1||e===t)return t;var i=a(e,t,n);return r==null||((r.roundValue||r.color)&&(i=Math.round(i)),r.min!==void 0&&(i=Math.max(i,r.min)),r.max!==void 0&&(i=Math.min(i,r.max))),i}function es(r,e){return r.pfValue!=null||r.value!=null?r.pfValue!=null&&(e==null||e.type.units!=="%")?r.pfValue:r.value:r}function mn(r,e,t,n,a){var i=a!=null?a.type:null;t<0?t=0:t>1&&(t=1);var o=es(r,a),s=es(e,a);if(ue(o)&&ue(s))return _o(i,o,s,t,n);if(ge(o)&&ge(s)){for(var l=[],u=0;u<s.length;u++){var f=o[u],v=s[u];if(f!=null&&v!=null){var d=_o(i,f,v,t,n);l.push(d)}else l.push(v)}return l}}function Uf(r,e,t,n){var a=!n,i=r._private,o=e._private,s=o.easing,l=o.startTime,u=n?r:r.cy(),f=u.style();if(!o.easingImpl)if(s==null)o.easingImpl=Ca.linear;else{var v;if(_(s)){var d=f.parse("transition-timing-function",s);v=d.value}else v=s;var h,c;_(v)?(h=v,c=[]):(h=v[1],c=v.slice(2).map(function(fe){return+fe})),c.length>0?(h==="spring"&&c.push(o.duration),o.easingImpl=Ca[h].apply(null,c)):o.easingImpl=Ca[h]}var p=o.easingImpl,y;if(o.duration===0?y=1:y=(t-l)/o.duration,o.applying&&(y=o.progress),y<0?y=0:y>1&&(y=1),o.delay==null){var b=o.startPosition,x=o.position;if(x&&a&&!r.locked()){var w={};Wn(b.x,x.x)&&(w.x=mn(b.x,x.x,y,p)),Wn(b.y,x.y)&&(w.y=mn(b.y,x.y,y,p)),r.position(w)}var P=o.startPan,F=o.pan,G=i.pan,k=F!=null&&n;k&&(Wn(P.x,F.x)&&(G.x=mn(P.x,F.x,y,p)),Wn(P.y,F.y)&&(G.y=mn(P.y,F.y,y,p)),r.emit("pan"));var V=o.startZoom,M=o.zoom,$=M!=null&&n;$&&(Wn(V,M)&&(i.zoom=Mn(i.minZoom,mn(V,M,y,p),i.maxZoom)),r.emit("zoom")),(k||$)&&r.emit("viewport");var K=o.style;if(K&&K.length>0&&a){for(var I=0;I<K.length;I++){var Q=K[I],H=Q.name,ne=Q,J=o.startStyle[H],q=f.properties[J.name],se=mn(J,ne,y,p,q);f.overrideBypass(r,H,se)}r.emit("style")}}return o.progress=y,y}function Wn(r,e){return r==null||e==null?!1:ue(r)&&ue(e)?!0:!!(r&&e)}function Zf(r,e,t,n){var a=e._private;a.started=!0,a.startTime=t-a.progress*a.duration}function ts(r,e){var t=e._private.aniEles,n=[];function a(f,v){var d=f._private,h=d.animation.current,c=d.animation.queue,p=!1;if(h.length===0){var y=c.shift();y&&h.push(y)}for(var b=function(G){for(var k=G.length-1;k>=0;k--){var V=G[k];V()}G.splice(0,G.length)},x=h.length-1;x>=0;x--){var w=h[x],P=w._private;if(P.stopped){h.splice(x,1),P.hooked=!1,P.playing=!1,P.started=!1,b(P.frames);continue}!P.playing&&!P.applying||(P.playing&&P.applying&&(P.applying=!1),P.started||Zf(f,w,r),Uf(f,w,r,v),P.applying&&(P.applying=!1),b(P.frames),P.step!=null&&P.step(r),w.completed()&&(h.splice(x,1),P.hooked=!1,P.playing=!1,P.started=!1,b(P.completes)),p=!0)}return!v&&h.length===0&&c.length===0&&n.push(f),p}for(var i=!1,o=0;o<t.length;o++){var s=t[o],l=a(s);i=i||l}var u=a(e,!0);(i||u)&&(t.length>0?e.notify("draw",t):e.notify("draw")),t.unmerge(n),e.emit("step")}var Xf={animate:wt.animate(),animation:wt.animation(),animated:wt.animated(),clearQueue:wt.clearQueue(),delay:wt.delay(),delayAnimation:wt.delayAnimation(),stop:wt.stop(),addToAnimationPool:function(e){var t=this;t.styleEnabled()&&t._private.aniEles.merge(e)},stopAnimationLoop:function(){this._private.animationsRunning=!1},startAnimationLoop:function(){var e=this;if(e._private.animationsRunning=!0,!e.styleEnabled())return;function t(){e._private.animationsRunning&&ea(function(i){ts(i,e),t()})}var n=e.renderer();n&&n.beforeRender?n.beforeRender(function(i,o){ts(o,e)},n.beforeRenderPriorities.animations):t()}},Qf={qualifierCompare:function(e,t){return e==null||t==null?e==null&&t==null:e.sameText(t)},eventMatches:function(e,t,n){var a=t.qualifier;return a!=null?e!==n.target&&ct(n.target)&&a.matches(n.target):!0},addEventFields:function(e,t){t.cy=e,t.target=e},callbackContext:function(e,t,n){return t.qualifier!=null?n.target:e}},Sa=function(e){return _(e)?new Ar(e):e},rs={createEmitter:function(){var e=this._private;return e.emitter||(e.emitter=new ma(Qf,this)),this},emitter:function(){return this._private.emitter},on:function(e,t,n){return this.emitter().on(e,Sa(t),n),this},removeListener:function(e,t,n){return this.emitter().removeListener(e,Sa(t),n),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},one:function(e,t,n){return this.emitter().one(e,Sa(t),n),this},once:function(e,t,n){return this.emitter().one(e,Sa(t),n),this},emit:function(e,t){return this.emitter().emit(e,t),this},emitAndNotify:function(e,t){return this.emit(e),this.notify(e,t),this}};wt.eventAliasesOn(rs);var vi={png:function(e){var t=this._private.renderer;return e=e||{},t.png(e)},jpg:function(e){var t=this._private.renderer;return e=e||{},e.bg=e.bg||"#fff",t.jpg(e)}};vi.jpeg=vi.jpg;var Ta={layout:function(e){var t=this;if(e==null){Pt("Layout options must be specified to make a layout");return}if(e.name==null){Pt("A `name` must be specified to make a layout");return}var n=e.name,a=t.extension("layout",n);if(a==null){Pt("No such layout `"+n+"` found.  Did you forget to import it and `cytoscape.use()` it?");return}var i;_(e.eles)?i=t.$(e.eles):i=e.eles!=null?e.eles:t.$();var o=new a(rt({},e,{cy:t,eles:i}));return o}};Ta.createLayout=Ta.makeLayout=Ta.layout;var Jf={notify:function(e,t){var n=this._private;if(this.batching()){n.batchNotifications=n.batchNotifications||{};var a=n.batchNotifications[e]=n.batchNotifications[e]||this.collection();t!=null&&a.merge(t);return}if(n.notificationsEnabled){var i=this.renderer();this.destroyed()||!i||i.notify(e,t)}},notifications:function(e){var t=this._private;return e===void 0?t.notificationsEnabled:(t.notificationsEnabled=!!e,this)},noNotifications:function(e){this.notifications(!1),e(),this.notifications(!0)},batching:function(){return this._private.batchCount>0},startBatch:function(){var e=this._private;return e.batchCount==null&&(e.batchCount=0),e.batchCount===0&&(e.batchStyleEles=this.collection(),e.batchNotifications={}),e.batchCount++,this},endBatch:function(){var e=this._private;if(e.batchCount===0)return this;if(e.batchCount--,e.batchCount===0){e.batchStyleEles.updateStyle();var t=this.renderer();Object.keys(e.batchNotifications).forEach(function(n){var a=e.batchNotifications[n];a.empty()?t.notify(n):t.notify(n,a)})}return this},batch:function(e){return this.startBatch(),e(),this.endBatch(),this},batchData:function(e){var t=this;return this.batch(function(){for(var n=Object.keys(e),a=0;a<n.length;a++){var i=n[a],o=e[i],s=t.getElementById(i);s.data(o)}})}},qf=zt({hideEdgesOnViewport:!1,textureOnViewport:!1,motionBlur:!1,motionBlurOpacity:.05,pixelRatio:void 0,desktopTapThreshold:4,touchTapThreshold:8,wheelSensitivity:1,debug:!1,showFps:!1}),di={renderTo:function(e,t,n,a){var i=this._private.renderer;return i.renderTo(e,t,n,a),this},renderer:function(){return this._private.renderer},forceRender:function(){return this.notify("draw"),this},resize:function(){return this.invalidateSize(),this.emitAndNotify("resize"),this},initRenderer:function(e){var t=this,n=t.extension("renderer",e.name);if(n==null){Pt("Can not initialise: No such renderer `".concat(e.name,"` found. Did you forget to import it and `cytoscape.use()` it?"));return}e.wheelSensitivity!==void 0&&bt("You have set a custom wheel sensitivity.  This will make your app zoom unnaturally when using mainstream mice.  You should change this value from the default only if you can guarantee that all your users will use the same hardware and OS configuration as your current machine.");var a=qf(e);a.cy=t,t._private.renderer=new n(a),this.notify("init")},destroyRenderer:function(){var e=this;e.notify("destroy");var t=e.container();if(t)for(t._cyreg=null;t.childNodes.length>0;)t.removeChild(t.childNodes[0]);e._private.renderer=null,e.mutableElements().forEach(function(n){var a=n._private;a.rscratch={},a.rstyle={},a.animation.current=[],a.animation.queue=[]})},onRender:function(e){return this.on("render",e)},offRender:function(e){return this.off("render",e)}};di.invalidateDimensions=di.resize;var Da={collection:function(e,t){return _(e)?this.$(e):Ye(e)?e.collection():ge(e)?(t||(t={}),new Vt(this,e,t.unique,t.removed)):new Vt(this)},nodes:function(e){var t=this.$(function(n){return n.isNode()});return e?t.filter(e):t},edges:function(e){var t=this.$(function(n){return n.isEdge()});return e?t.filter(e):t},$:function(e){var t=this._private.elements;return e?t.filter(e):t.spawnSelf()},mutableElements:function(){return this._private.elements}};Da.elements=Da.filter=Da.$;var Yt={},$n="t",jf="f";Yt.apply=function(r){for(var e=this,t=e._private,n=t.cy,a=n.collection(),i=0;i<r.length;i++){var o=r[i],s=e.getContextMeta(o);if(!s.empty){var l=e.getContextStyle(s),u=e.applyContextStyle(s,l,o);o._private.appliedInitStyle?e.updateTransitions(o,u.diffProps):o._private.appliedInitStyle=!0;var f=e.updateStyleHints(o);f&&a.push(o)}}return a},Yt.getPropertiesDiff=function(r,e){var t=this,n=t._private.propDiffs=t._private.propDiffs||{},a=r+"-"+e,i=n[a];if(i)return i;for(var o=[],s={},l=0;l<t.length;l++){var u=t[l],f=r[l]===$n,v=e[l]===$n,d=f!==v,h=u.mappedProperties.length>0;if(d||v&&h){var c=void 0;d&&h||d?c=u.properties:h&&(c=u.mappedProperties);for(var p=0;p<c.length;p++){for(var y=c[p],b=y.name,x=!1,w=l+1;w<t.length;w++){var P=t[w],F=e[w]===$n;if(F&&(x=P.properties[y.name]!=null,x))break}!s[b]&&!x&&(s[b]=!0,o.push(b))}}}return n[a]=o,o},Yt.getContextMeta=function(r){for(var e=this,t="",n,a=r._private.styleCxtKey||"",i=0;i<e.length;i++){var o=e[i],s=o.selector&&o.selector.matches(r);s?t+=$n:t+=jf}return n=e.getPropertiesDiff(a,t),r._private.styleCxtKey=t,{key:t,diffPropNames:n,empty:n.length===0}},Yt.getContextStyle=function(r){var e=r.key,t=this,n=this._private.contextStyles=this._private.contextStyles||{};if(n[e])return n[e];for(var a={_private:{key:e}},i=0;i<t.length;i++){var o=t[i],s=e[i]===$n;if(s)for(var l=0;l<o.properties.length;l++){var u=o.properties[l];a[u.name]=u}}return n[e]=a,a},Yt.applyContextStyle=function(r,e,t){for(var n=this,a=r.diffPropNames,i={},o=n.types,s=0;s<a.length;s++){var l=a[s],u=e[l],f=t.pstyle(l);if(!u)if(f)f.bypass?u={name:l,deleteBypassed:!0}:u={name:l,delete:!0};else continue;if(f!==u){if(u.mapped===o.fn&&f!=null&&f.mapping!=null&&f.mapping.value===u.value){var v=f.mapping,d=v.fnValue=u.value(t);if(d===v.prevFnValue)continue}var h=i[l]={prev:f};n.applyParsedProperty(t,u),h.next=t.pstyle(l),h.next&&h.next.bypass&&(h.next=h.next.bypassed)}}return{diffProps:i}},Yt.updateStyleHints=function(r){var e=r._private,t=this,n=t.propertyGroupNames,a=t.propertyGroupKeys,i=function(ze,Ve,at){return t.getPropertiesHash(ze,Ve,at)},o=e.styleKey;if(r.removed())return!1;var s=e.group==="nodes",l=r._private.style;n=Object.keys(l);for(var u=0;u<a.length;u++){var f=a[u];e.styleKeys[f]=[tn,kn]}for(var v=function(ze,Ve){return e.styleKeys[Ve][0]=Pn(ze,e.styleKeys[Ve][0])},d=function(ze,Ve){return e.styleKeys[Ve][1]=Bn(ze,e.styleKeys[Ve][1])},h=function(ze,Ve){v(ze,Ve),d(ze,Ve)},c=function(ze,Ve){for(var at=0;at<ze.length;at++){var it=ze.charCodeAt(at);v(it,Ve),d(it,Ve)}},p=2e9,y=function(ze){return-128<ze&&ze<128&&Math.floor(ze)!==ze?p-(ze*1024|0):ze},b=0;b<n.length;b++){var x=n[b],w=l[x];if(w!=null){var P=this.properties[x],F=P.type,G=P.groupKey,k=void 0;P.hashOverride!=null?k=P.hashOverride(r,w):w.pfValue!=null&&(k=w.pfValue);var V=P.enums==null?w.value:null,M=k!=null,$=V!=null,K=M||$,I=w.units;if(F.number&&K&&!F.multiple){var Q=M?k:V;h(y(Q),G),!M&&I!=null&&c(I,G)}else c(w.strValue,G)}}for(var H=[tn,kn],ne=0;ne<a.length;ne++){var J=a[ne],q=e.styleKeys[J];H[0]=Pn(q[0],H[0]),H[1]=Bn(q[1],H[1])}e.styleKey=vu(H[0],H[1]);var se=e.styleKeys;e.labelDimsKey=Pr(se.labelDimensions);var fe=i(r,["label"],se.labelDimensions);if(e.labelKey=Pr(fe),e.labelStyleKey=Pr(ta(se.commonLabel,fe)),!s){var ye=i(r,["source-label"],se.labelDimensions);e.sourceLabelKey=Pr(ye),e.sourceLabelStyleKey=Pr(ta(se.commonLabel,ye));var le=i(r,["target-label"],se.labelDimensions);e.targetLabelKey=Pr(le),e.targetLabelStyleKey=Pr(ta(se.commonLabel,le))}if(s){var me=e.styleKeys,xe=me.nodeBody,ke=me.nodeBorder,Ce=me.backgroundImage,Ee=me.compound,ie=me.pie,De=[xe,ke,Ce,Ee,ie].filter(function(Pe){return Pe!=null}).reduce(ta,[tn,kn]);e.nodeKey=Pr(De),e.hasPie=ie!=null&&ie[0]!==tn&&ie[1]!==kn}return o!==e.styleKey},Yt.clearStyleHints=function(r){var e=r._private;e.styleCxtKey="",e.styleKeys={},e.styleKey=null,e.labelKey=null,e.labelStyleKey=null,e.sourceLabelKey=null,e.sourceLabelStyleKey=null,e.targetLabelKey=null,e.targetLabelStyleKey=null,e.nodeKey=null,e.hasPie=null},Yt.applyParsedProperty=function(r,e){var t=this,n=e,a=r._private.style,i,o=t.types,s=t.properties[n.name].type,l=n.bypass,u=a[n.name],f=u&&u.bypass,v=r._private,d="mapping",h=function(xe){return xe==null?null:xe.pfValue!=null?xe.pfValue:xe.value},c=function(){var xe=h(u),ke=h(n);t.checkTriggers(r,n.name,xe,ke)};if(n&&n.name.substr(0,3)==="pie"&&bt("The pie style properties are deprecated.  Create charts using background images instead."),e.name==="curve-style"&&r.isEdge()&&(e.value!=="bezier"&&r.isLoop()||e.value==="haystack"&&(r.source().isParent()||r.target().isParent()))&&(n=e=this.parse(e.name,"bezier",l)),n.delete)return a[n.name]=void 0,c(),!0;if(n.deleteBypassed)return u?u.bypass?(u.bypassed=void 0,c(),!0):!1:(c(),!0);if(n.deleteBypass)return u?u.bypass?(a[n.name]=u.bypassed,c(),!0):!1:(c(),!0);var p=function(){bt("Do not assign mappings to elements without corresponding data (i.e. ele `"+r.id()+"` has no mapping for property `"+n.name+"` with data field `"+n.field+"`); try a `["+n.field+"]` selector to limit scope to elements with `"+n.field+"` defined")};switch(n.mapped){case o.mapData:{for(var y=n.field.split("."),b=v.data,x=0;x<y.length&&b;x++){var w=y[x];b=b[w]}if(b==null)return p(),!1;var P;if(ue(b)){var F=n.fieldMax-n.fieldMin;F===0?P=0:P=(b-n.fieldMin)/F}else return bt("Do not use continuous mappers without specifying numeric data (i.e. `"+n.field+": "+b+"` for `"+r.id()+"` is non-numeric)"),!1;if(P<0?P=0:P>1&&(P=1),s.color){var G=n.valueMin[0],k=n.valueMax[0],V=n.valueMin[1],M=n.valueMax[1],$=n.valueMin[2],K=n.valueMax[2],I=n.valueMin[3]==null?1:n.valueMin[3],Q=n.valueMax[3]==null?1:n.valueMax[3],H=[Math.round(G+(k-G)*P),Math.round(V+(M-V)*P),Math.round($+(K-$)*P),Math.round(I+(Q-I)*P)];i={bypass:n.bypass,name:n.name,value:H,strValue:"rgb("+H[0]+", "+H[1]+", "+H[2]+")"}}else if(s.number){var ne=n.valueMin+(n.valueMax-n.valueMin)*P;i=this.parse(n.name,ne,n.bypass,d)}else return!1;if(!i)return p(),!1;i.mapping=n,n=i;break}case o.data:{for(var J=n.field.split("."),q=v.data,se=0;se<J.length&&q;se++){var fe=J[se];q=q[fe]}if(q!=null&&(i=this.parse(n.name,q,n.bypass,d)),!i)return p(),!1;i.mapping=n,n=i;break}case o.fn:{var ye=n.value,le=n.fnValue!=null?n.fnValue:ye(r);if(n.prevFnValue=le,le==null)return bt("Custom function mappers may not return null (i.e. `"+n.name+"` for ele `"+r.id()+"` is null)"),!1;if(i=this.parse(n.name,le,n.bypass,d),!i)return bt("Custom function mappers may not return invalid values for the property type (i.e. `"+n.name+"` for ele `"+r.id()+"` is invalid)"),!1;i.mapping=gr(n),n=i;break}case void 0:break;default:return!1}return l?(f?n.bypassed=u.bypassed:n.bypassed=u,a[n.name]=n):f?u.bypassed=n:a[n.name]=n,c(),!0},Yt.cleanElements=function(r,e){for(var t=0;t<r.length;t++){var n=r[t];if(this.clearStyleHints(n),n.dirtyCompoundBoundsCache(),n.dirtyBoundingBoxCache(),!e)n._private.style={};else for(var a=n._private.style,i=Object.keys(a),o=0;o<i.length;o++){var s=i[o],l=a[s];l!=null&&(l.bypass?l.bypassed=null:a[s]=null)}}},Yt.update=function(){var r=this._private.cy,e=r.mutableElements();e.updateStyle()},Yt.updateTransitions=function(r,e){var t=this,n=r._private,a=r.pstyle("transition-property").value,i=r.pstyle("transition-duration").pfValue,o=r.pstyle("transition-delay").pfValue;if(a.length>0&&i>0){for(var s={},l=!1,u=0;u<a.length;u++){var f=a[u],v=r.pstyle(f),d=e[f];if(d){var h=d.prev,c=h,p=d.next!=null?d.next:v,y=!1,b=void 0,x=1e-6;c&&(ue(c.pfValue)&&ue(p.pfValue)?(y=p.pfValue-c.pfValue,b=c.pfValue+x*y):ue(c.value)&&ue(p.value)?(y=p.value-c.value,b=c.value+x*y):ge(c.value)&&ge(p.value)&&(y=c.value[0]!==p.value[0]||c.value[1]!==p.value[1]||c.value[2]!==p.value[2],b=c.strValue),y&&(s[f]=p.strValue,this.applyBypass(r,f,b),l=!0))}}if(!l)return;n.transitioning=!0,new fn(function(w){o>0?r.delayAnimation(o).play().promise().then(w):w()}).then(function(){return r.animation({style:s,duration:i,easing:r.pstyle("transition-timing-function").value,queue:!1}).play().promise()}).then(function(){t.removeBypasses(r,a),r.emitAndNotify("style"),n.transitioning=!1})}else n.transitioning&&(this.removeBypasses(r,a),r.emitAndNotify("style"),n.transitioning=!1)},Yt.checkTrigger=function(r,e,t,n,a,i){var o=this.properties[e],s=a(o);s!=null&&s(t,n)&&i(o)},Yt.checkZOrderTrigger=function(r,e,t,n){var a=this;this.checkTrigger(r,e,t,n,function(i){return i.triggersZOrder},function(){a._private.cy.notify("zorder",r)})},Yt.checkBoundsTrigger=function(r,e,t,n){this.checkTrigger(r,e,t,n,function(a){return a.triggersBounds},function(a){r.dirtyCompoundBoundsCache(),r.dirtyBoundingBoxCache(),a.triggersBoundsOfParallelBeziers&&(e==="curve-style"&&(t==="bezier"||n==="bezier")||e==="display"&&(t==="none"||n==="none"))&&r.parallelEdges().forEach(function(i){i.isBundledBezier()&&i.dirtyBoundingBoxCache()})})},Yt.checkTriggers=function(r,e,t,n){r.dirtyStyleCache(),this.checkZOrderTrigger(r,e,t,n),this.checkBoundsTrigger(r,e,t,n)};var Kn={};Kn.applyBypass=function(r,e,t,n){var a=this,i=[],o=!0;if(e==="*"||e==="**"){if(t!==void 0)for(var s=0;s<a.properties.length;s++){var l=a.properties[s],u=l.name,f=this.parse(u,t,!0);f&&i.push(f)}}else if(_(e)){var v=this.parse(e,t,!0);v&&i.push(v)}else if(Ne(e)){var d=e;n=t;for(var h=Object.keys(d),c=0;c<h.length;c++){var p=h[c],y=d[p];if(y===void 0&&(y=d[rr(p)]),y!==void 0){var b=this.parse(p,y,!0);b&&i.push(b)}}}else return!1;if(i.length===0)return!1;for(var x=!1,w=0;w<r.length;w++){for(var P=r[w],F={},G=void 0,k=0;k<i.length;k++){var V=i[k];if(n){var M=P.pstyle(V.name);G=F[V.name]={prev:M}}x=this.applyParsedProperty(P,gr(V))||x,n&&(G.next=P.pstyle(V.name))}x&&this.updateStyleHints(P),n&&this.updateTransitions(P,F,o)}return x},Kn.overrideBypass=function(r,e,t){e=Mt(e);for(var n=0;n<r.length;n++){var a=r[n],i=a._private.style[e],o=this.properties[e].type,s=o.color,l=o.mutiple,u=i?i.pfValue!=null?i.pfValue:i.value:null;!i||!i.bypass?this.applyBypass(a,e,t):(i.value=t,i.pfValue!=null&&(i.pfValue=t),s?i.strValue="rgb("+t.join(",")+")":l?i.strValue=t.join(" "):i.strValue=""+t,this.updateStyleHints(a)),this.checkTriggers(a,e,u,t)}},Kn.removeAllBypasses=function(r,e){return this.removeBypasses(r,this.propertyNames,e)},Kn.removeBypasses=function(r,e,t){for(var n=!0,a=0;a<r.length;a++){for(var i=r[a],o={},s=0;s<e.length;s++){var l=e[s],u=this.properties[l],f=i.pstyle(u.name);if(!(!f||!f.bypass)){var v="",d=this.parse(l,v,!0),h=o[u.name]={prev:f};this.applyParsedProperty(i,d),h.next=i.pstyle(u.name)}}this.updateStyleHints(i),t&&this.updateTransitions(i,o,n)}};var ci={};ci.getEmSizeInPixels=function(){var r=this.containerCss("font-size");return r!=null?parseFloat(r):1},ci.containerCss=function(r){var e=this._private.cy,t=e.container(),n=e.window();if(n&&t&&n.getComputedStyle)return n.getComputedStyle(t).getPropertyValue(r)};var mr={};mr.getRenderedStyle=function(r,e){return e?this.getStylePropertyValue(r,e,!0):this.getRawStyle(r,!0)},mr.getRawStyle=function(r,e){var t=this;if(r=r[0],r){for(var n={},a=0;a<t.properties.length;a++){var i=t.properties[a],o=t.getStylePropertyValue(r,i.name,e);o!=null&&(n[i.name]=o,n[rr(i.name)]=o)}return n}},mr.getIndexedStyle=function(r,e,t,n){var a=r.pstyle(e)[t][n];return a??r.cy().style().getDefaultProperty(e)[t][0]},mr.getStylePropertyValue=function(r,e,t){var n=this;if(r=r[0],r){var a=n.properties[e];a.alias&&(a=a.pointsTo);var i=a.type,o=r.pstyle(a.name);if(o){var s=o.value,l=o.units,u=o.strValue;if(t&&i.number&&s!=null&&ue(s)){var f=r.cy().zoom(),v=function(y){return y*f},d=function(y,b){return v(y)+b},h=ge(s),c=h?l.every(function(p){return p!=null}):l!=null;return c?h?s.map(function(p,y){return d(p,l[y])}).join(" "):d(s,l):h?s.map(function(p){return _(p)?p:""+v(p)}).join(" "):""+v(s)}else if(u!=null)return u}return null}},mr.getAnimationStartStyle=function(r,e){for(var t={},n=0;n<e.length;n++){var a=e[n],i=a.name,o=r.pstyle(i);o!==void 0&&(Ne(o)?o=this.parse(i,o.strValue):o=this.parse(i,o)),o&&(t[i]=o)}return t},mr.getPropsList=function(r){var e=this,t=[],n=r,a=e.properties;if(n)for(var i=Object.keys(n),o=0;o<i.length;o++){var s=i[o],l=n[s],u=a[s]||a[Mt(s)],f=this.parse(u.name,l);f&&t.push(f)}return t},mr.getNonDefaultPropertiesHash=function(r,e,t){var n=t.slice(),a,i,o,s,l,u;for(l=0;l<e.length;l++)if(a=e[l],i=r.pstyle(a,!1),i!=null)if(i.pfValue!=null)n[0]=Pn(s,n[0]),n[1]=Bn(s,n[1]);else for(o=i.strValue,u=0;u<o.length;u++)s=o.charCodeAt(u),n[0]=Pn(s,n[0]),n[1]=Bn(s,n[1]);return n},mr.getPropertiesHash=mr.getNonDefaultPropertiesHash;var ka={};ka.appendFromJson=function(r){for(var e=this,t=0;t<r.length;t++){var n=r[t],a=n.selector,i=n.style||n.css,o=Object.keys(i);e.selector(a);for(var s=0;s<o.length;s++){var l=o[s],u=i[l];e.css(l,u)}}return e},ka.fromJson=function(r){var e=this;return e.resetToDefault(),e.appendFromJson(r),e},ka.json=function(){for(var r=[],e=this.defaultLength;e<this.length;e++){for(var t=this[e],n=t.selector,a=t.properties,i={},o=0;o<a.length;o++){var s=a[o];i[s.name]=s.strValue}r.push({selector:n?n.toString():"core",style:i})}return r};var hi={};hi.appendFromString=function(r){var e=this,t=this,n=""+r,a,i,o;n=n.replace(/[/][*](\s|.)+?[*][/]/g,"");function s(){n.length>a.length?n=n.substr(a.length):n=""}function l(){i.length>o.length?i=i.substr(o.length):i=""}for(;;){var u=n.match(/^\s*$/);if(u)break;var f=n.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!f){bt("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+n);break}a=f[0];var v=f[1];if(v!=="core"){var d=new Ar(v);if(d.invalid){bt("Skipping parsing of block: Invalid selector found in string stylesheet: "+v),s();continue}}var h=f[2],c=!1;i=h;for(var p=[];;){var y=i.match(/^\s*$/);if(y)break;var b=i.match(/^\s*(.+?)\s*:\s*(.+?)(?:\s*;|\s*$)/);if(!b){bt("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+h),c=!0;break}o=b[0];var x=b[1],w=b[2],P=e.properties[x];if(!P){bt("Skipping property: Invalid property name in: "+o),l();continue}var F=t.parse(x,w);if(!F){bt("Skipping property: Invalid property definition in: "+o),l();continue}p.push({name:x,val:w}),l()}if(c){s();break}t.selector(v);for(var G=0;G<p.length;G++){var k=p[G];t.css(k.name,k.val)}s()}return t},hi.fromString=function(r){var e=this;return e.resetToDefault(),e.appendFromString(r),e};var Gt={};(function(){var r=Rt,e=js,t=eu,n=tu,a=ru,i=function(De){return"^"+De+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},o=function(De){var Pe=r+"|\\w+|"+e+"|"+t+"|"+n+"|"+a;return"^"+De+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+r+")\\s*\\,\\s*("+r+")\\s*,\\s*("+Pe+")\\s*\\,\\s*("+Pe+")\\)$"},s=[`^url\\s*\\(\\s*['"]?(.+?)['"]?\\s*\\)$`,"^(none)$","^(.+)$"];Gt.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%",implicitUnits:"%"},percentages:{number:!0,min:0,max:100,units:"%",implicitUnits:"%",multiple:!0},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},zeroOneNumbers:{number:!0,min:0,max:1,unitless:!0,multiple:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},position:{enums:["parent","origin"]},nodeSize:{number:!0,min:0,enums:["label"]},number:{number:!0,unitless:!0},numbers:{number:!0,unitless:!0,multiple:!0},positiveNumber:{number:!0,unitless:!0,min:0,strictMin:!0},size:{number:!0,min:0},bidirectionalSize:{number:!0},bidirectionalSizeMaybePercent:{number:!0,allowPercent:!0},bidirectionalSizes:{number:!0,multiple:!0},sizeMaybePercent:{number:!0,min:0,allowPercent:!0},axisDirection:{enums:["horizontal","leftward","rightward","vertical","upward","downward","auto"]},paddingRelativeTo:{enums:["width","height","average","min","max"]},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"],multiple:!0},bgPos:{number:!0,allowPercent:!0,multiple:!0},bgRelativeTo:{enums:["inner","include-padding"],multiple:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"],multiple:!0},bgFit:{enums:["none","contain","cover"],multiple:!0},bgCrossOrigin:{enums:["anonymous","use-credentials","null"],multiple:!0},bgClip:{enums:["none","node"],multiple:!0},bgContainment:{enums:["inside","over"],multiple:!0},color:{color:!0},colors:{color:!0,multiple:!0},fill:{enums:["solid","linear-gradient","radial-gradient"]},bool:{enums:["yes","no"]},bools:{enums:["yes","no"],multiple:!0},lineStyle:{enums:["solid","dotted","dashed"]},lineCap:{enums:["butt","round","square"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack","segments","straight","straight-triangle","taxi"]},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap","ellipsis"]},textOverflowWrap:{enums:["whitespace","anywhere"]},textBackgroundShape:{enums:["rectangle","roundrectangle","round-rectangle"]},nodeShape:{enums:["rectangle","roundrectangle","round-rectangle","cutrectangle","cut-rectangle","bottomroundrectangle","bottom-round-rectangle","barrel","ellipse","triangle","round-triangle","square","pentagon","round-pentagon","hexagon","round-hexagon","concavehexagon","concave-hexagon","heptagon","round-heptagon","octagon","round-octagon","tag","round-tag","star","diamond","round-diamond","vee","rhomboid","right-rhomboid","polygon"]},overlayShape:{enums:["roundrectangle","round-rectangle","ellipse"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","circle-triangle","triangle-cross","triangle-backcurve","vee","square","circle","diamond","chevron","none"]},arrowFill:{enums:["filled","hollow"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},zCompoundDepth:{enums:["bottom","orphan","auto","top"]},zIndexCompare:{enums:["auto","manual"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},justification:{enums:["left","center","right","auto"]},text:{string:!0},data:{mapping:!0,regex:i("data")},layoutData:{mapping:!0,regex:i("layoutData")},scratch:{mapping:!0,regex:i("scratch")},mapData:{mapping:!0,regex:o("mapData")},mapLayoutData:{mapping:!0,regex:o("mapLayoutData")},mapScratch:{mapping:!0,regex:o("mapScratch")},fn:{mapping:!0,fn:!0},url:{regexes:s,singleRegexMatchValue:!0},urls:{regexes:s,singleRegexMatchValue:!0,multiple:!0},propList:{propList:!0},angle:{number:!0,units:"deg|rad",implicitUnits:"rad"},textRotation:{number:!0,units:"deg|rad",implicitUnits:"rad",enums:["none","autorotate"]},polygonPointList:{number:!0,multiple:!0,evenMultiple:!0,min:-1,max:1,unitless:!0},edgeDistances:{enums:["intersection","node-position"]},edgeEndpoint:{number:!0,multiple:!0,units:"%|px|em|deg|rad",implicitUnits:"px",enums:["inside-to-node","outside-to-node","outside-to-node-or-label","outside-to-line","outside-to-line-or-label"],singleEnum:!0,validate:function(De,Pe){switch(De.length){case 2:return Pe[0]!=="deg"&&Pe[0]!=="rad"&&Pe[1]!=="deg"&&Pe[1]!=="rad";case 1:return _(De[0])||Pe[0]==="deg"||Pe[0]==="rad";default:return!1}}},easing:{regexes:["^(spring)\\s*\\(\\s*("+r+")\\s*,\\s*("+r+")\\s*\\)$","^(cubic-bezier)\\s*\\(\\s*("+r+")\\s*,\\s*("+r+")\\s*,\\s*("+r+")\\s*,\\s*("+r+")\\s*\\)$"],enums:["linear","ease","ease-in","ease-out","ease-in-out","ease-in-sine","ease-out-sine","ease-in-out-sine","ease-in-quad","ease-out-quad","ease-in-out-quad","ease-in-cubic","ease-out-cubic","ease-in-out-cubic","ease-in-quart","ease-out-quart","ease-in-out-quart","ease-in-quint","ease-out-quint","ease-in-out-quint","ease-in-expo","ease-out-expo","ease-in-out-expo","ease-in-circ","ease-out-circ","ease-in-out-circ"]},gradientDirection:{enums:["to-bottom","to-top","to-left","to-right","to-bottom-right","to-bottom-left","to-top-right","to-top-left","to-right-bottom","to-left-bottom","to-right-top","to-left-top"]},boundsExpansion:{number:!0,multiple:!0,min:0,validate:function(De){var Pe=De.length;return Pe===1||Pe===2||Pe===4}}};var l={zeroNonZero:function(De,Pe){return(De==null||Pe==null)&&De!==Pe||De==0&&Pe!=0?!0:De!=0&&Pe==0},any:function(De,Pe){return De!=Pe},emptyNonEmpty:function(De,Pe){var ze=tt(De),Ve=tt(Pe);return ze&&!Ve||!ze&&Ve}},u=Gt.types,f=[{name:"label",type:u.text,triggersBounds:l.any,triggersZOrder:l.emptyNonEmpty},{name:"text-rotation",type:u.textRotation,triggersBounds:l.any},{name:"text-margin-x",type:u.bidirectionalSize,triggersBounds:l.any},{name:"text-margin-y",type:u.bidirectionalSize,triggersBounds:l.any}],v=[{name:"source-label",type:u.text,triggersBounds:l.any},{name:"source-text-rotation",type:u.textRotation,triggersBounds:l.any},{name:"source-text-margin-x",type:u.bidirectionalSize,triggersBounds:l.any},{name:"source-text-margin-y",type:u.bidirectionalSize,triggersBounds:l.any},{name:"source-text-offset",type:u.size,triggersBounds:l.any}],d=[{name:"target-label",type:u.text,triggersBounds:l.any},{name:"target-text-rotation",type:u.textRotation,triggersBounds:l.any},{name:"target-text-margin-x",type:u.bidirectionalSize,triggersBounds:l.any},{name:"target-text-margin-y",type:u.bidirectionalSize,triggersBounds:l.any},{name:"target-text-offset",type:u.size,triggersBounds:l.any}],h=[{name:"font-family",type:u.fontFamily,triggersBounds:l.any},{name:"font-style",type:u.fontStyle,triggersBounds:l.any},{name:"font-weight",type:u.fontWeight,triggersBounds:l.any},{name:"font-size",type:u.size,triggersBounds:l.any},{name:"text-transform",type:u.textTransform,triggersBounds:l.any},{name:"text-wrap",type:u.textWrap,triggersBounds:l.any},{name:"text-overflow-wrap",type:u.textOverflowWrap,triggersBounds:l.any},{name:"text-max-width",type:u.size,triggersBounds:l.any},{name:"text-outline-width",type:u.size,triggersBounds:l.any},{name:"line-height",type:u.positiveNumber,triggersBounds:l.any}],c=[{name:"text-valign",type:u.valign,triggersBounds:l.any},{name:"text-halign",type:u.halign,triggersBounds:l.any},{name:"color",type:u.color},{name:"text-outline-color",type:u.color},{name:"text-outline-opacity",type:u.zeroOneNumber},{name:"text-background-color",type:u.color},{name:"text-background-opacity",type:u.zeroOneNumber},{name:"text-background-padding",type:u.size,triggersBounds:l.any},{name:"text-border-opacity",type:u.zeroOneNumber},{name:"text-border-color",type:u.color},{name:"text-border-width",type:u.size,triggersBounds:l.any},{name:"text-border-style",type:u.borderStyle,triggersBounds:l.any},{name:"text-background-shape",type:u.textBackgroundShape,triggersBounds:l.any},{name:"text-justification",type:u.justification}],p=[{name:"events",type:u.bool},{name:"text-events",type:u.bool}],y=[{name:"display",type:u.display,triggersZOrder:l.any,triggersBounds:l.any,triggersBoundsOfParallelBeziers:!0},{name:"visibility",type:u.visibility,triggersZOrder:l.any},{name:"opacity",type:u.zeroOneNumber,triggersZOrder:l.zeroNonZero},{name:"text-opacity",type:u.zeroOneNumber},{name:"min-zoomed-font-size",type:u.size},{name:"z-compound-depth",type:u.zCompoundDepth,triggersZOrder:l.any},{name:"z-index-compare",type:u.zIndexCompare,triggersZOrder:l.any},{name:"z-index",type:u.nonNegativeInt,triggersZOrder:l.any}],b=[{name:"overlay-padding",type:u.size,triggersBounds:l.any},{name:"overlay-color",type:u.color},{name:"overlay-opacity",type:u.zeroOneNumber,triggersBounds:l.zeroNonZero},{name:"overlay-shape",type:u.overlayShape,triggersBounds:l.any}],x=[{name:"underlay-padding",type:u.size,triggersBounds:l.any},{name:"underlay-color",type:u.color},{name:"underlay-opacity",type:u.zeroOneNumber,triggersBounds:l.zeroNonZero},{name:"underlay-shape",type:u.overlayShape,triggersBounds:l.any}],w=[{name:"transition-property",type:u.propList},{name:"transition-duration",type:u.time},{name:"transition-delay",type:u.time},{name:"transition-timing-function",type:u.easing}],P=function(De,Pe){return Pe.value==="label"?-De.poolIndex():Pe.pfValue},F=[{name:"height",type:u.nodeSize,triggersBounds:l.any,hashOverride:P},{name:"width",type:u.nodeSize,triggersBounds:l.any,hashOverride:P},{name:"shape",type:u.nodeShape,triggersBounds:l.any},{name:"shape-polygon-points",type:u.polygonPointList,triggersBounds:l.any},{name:"background-color",type:u.color},{name:"background-fill",type:u.fill},{name:"background-opacity",type:u.zeroOneNumber},{name:"background-blacken",type:u.nOneOneNumber},{name:"background-gradient-stop-colors",type:u.colors},{name:"background-gradient-stop-positions",type:u.percentages},{name:"background-gradient-direction",type:u.gradientDirection},{name:"padding",type:u.sizeMaybePercent,triggersBounds:l.any},{name:"padding-relative-to",type:u.paddingRelativeTo,triggersBounds:l.any},{name:"bounds-expansion",type:u.boundsExpansion,triggersBounds:l.any}],G=[{name:"border-color",type:u.color},{name:"border-opacity",type:u.zeroOneNumber},{name:"border-width",type:u.size,triggersBounds:l.any},{name:"border-style",type:u.borderStyle}],k=[{name:"background-image",type:u.urls},{name:"background-image-crossorigin",type:u.bgCrossOrigin},{name:"background-image-opacity",type:u.zeroOneNumbers},{name:"background-image-containment",type:u.bgContainment},{name:"background-image-smoothing",type:u.bools},{name:"background-position-x",type:u.bgPos},{name:"background-position-y",type:u.bgPos},{name:"background-width-relative-to",type:u.bgRelativeTo},{name:"background-height-relative-to",type:u.bgRelativeTo},{name:"background-repeat",type:u.bgRepeat},{name:"background-fit",type:u.bgFit},{name:"background-clip",type:u.bgClip},{name:"background-width",type:u.bgWH},{name:"background-height",type:u.bgWH},{name:"background-offset-x",type:u.bgPos},{name:"background-offset-y",type:u.bgPos}],V=[{name:"position",type:u.position,triggersBounds:l.any},{name:"compound-sizing-wrt-labels",type:u.compoundIncludeLabels,triggersBounds:l.any},{name:"min-width",type:u.size,triggersBounds:l.any},{name:"min-width-bias-left",type:u.sizeMaybePercent,triggersBounds:l.any},{name:"min-width-bias-right",type:u.sizeMaybePercent,triggersBounds:l.any},{name:"min-height",type:u.size,triggersBounds:l.any},{name:"min-height-bias-top",type:u.sizeMaybePercent,triggersBounds:l.any},{name:"min-height-bias-bottom",type:u.sizeMaybePercent,triggersBounds:l.any}],M=[{name:"line-style",type:u.lineStyle},{name:"line-color",type:u.color},{name:"line-fill",type:u.fill},{name:"line-cap",type:u.lineCap},{name:"line-opacity",type:u.zeroOneNumber},{name:"line-dash-pattern",type:u.numbers},{name:"line-dash-offset",type:u.number},{name:"line-gradient-stop-colors",type:u.colors},{name:"line-gradient-stop-positions",type:u.percentages},{name:"curve-style",type:u.curveStyle,triggersBounds:l.any,triggersBoundsOfParallelBeziers:!0},{name:"haystack-radius",type:u.zeroOneNumber,triggersBounds:l.any},{name:"source-endpoint",type:u.edgeEndpoint,triggersBounds:l.any},{name:"target-endpoint",type:u.edgeEndpoint,triggersBounds:l.any},{name:"control-point-step-size",type:u.size,triggersBounds:l.any},{name:"control-point-distances",type:u.bidirectionalSizes,triggersBounds:l.any},{name:"control-point-weights",type:u.numbers,triggersBounds:l.any},{name:"segment-distances",type:u.bidirectionalSizes,triggersBounds:l.any},{name:"segment-weights",type:u.numbers,triggersBounds:l.any},{name:"taxi-turn",type:u.bidirectionalSizeMaybePercent,triggersBounds:l.any},{name:"taxi-turn-min-distance",type:u.size,triggersBounds:l.any},{name:"taxi-direction",type:u.axisDirection,triggersBounds:l.any},{name:"edge-distances",type:u.edgeDistances,triggersBounds:l.any},{name:"arrow-scale",type:u.positiveNumber,triggersBounds:l.any},{name:"loop-direction",type:u.angle,triggersBounds:l.any},{name:"loop-sweep",type:u.angle,triggersBounds:l.any},{name:"source-distance-from-node",type:u.size,triggersBounds:l.any},{name:"target-distance-from-node",type:u.size,triggersBounds:l.any}],$=[{name:"ghost",type:u.bool,triggersBounds:l.any},{name:"ghost-offset-x",type:u.bidirectionalSize,triggersBounds:l.any},{name:"ghost-offset-y",type:u.bidirectionalSize,triggersBounds:l.any},{name:"ghost-opacity",type:u.zeroOneNumber}],K=[{name:"selection-box-color",type:u.color},{name:"selection-box-opacity",type:u.zeroOneNumber},{name:"selection-box-border-color",type:u.color},{name:"selection-box-border-width",type:u.size},{name:"active-bg-color",type:u.color},{name:"active-bg-opacity",type:u.zeroOneNumber},{name:"active-bg-size",type:u.size},{name:"outside-texture-bg-color",type:u.color},{name:"outside-texture-bg-opacity",type:u.zeroOneNumber}],I=[];Gt.pieBackgroundN=16,I.push({name:"pie-size",type:u.sizeMaybePercent});for(var Q=1;Q<=Gt.pieBackgroundN;Q++)I.push({name:"pie-"+Q+"-background-color",type:u.color}),I.push({name:"pie-"+Q+"-background-size",type:u.percent}),I.push({name:"pie-"+Q+"-background-opacity",type:u.zeroOneNumber});var H=[],ne=Gt.arrowPrefixes=["source","mid-source","target","mid-target"];[{name:"arrow-shape",type:u.arrowShape,triggersBounds:l.any},{name:"arrow-color",type:u.color},{name:"arrow-fill",type:u.arrowFill}].forEach(function(ie){ne.forEach(function(De){var Pe=De+"-"+ie.name,ze=ie.type,Ve=ie.triggersBounds;H.push({name:Pe,type:ze,triggersBounds:Ve})})},{});var J=Gt.properties=[].concat(p,w,y,b,x,$,c,h,f,v,d,F,G,k,I,V,M,H,K),q=Gt.propertyGroups={behavior:p,transition:w,visibility:y,overlay:b,underlay:x,ghost:$,commonLabel:c,labelDimensions:h,mainLabel:f,sourceLabel:v,targetLabel:d,nodeBody:F,nodeBorder:G,backgroundImage:k,pie:I,compound:V,edgeLine:M,edgeArrow:H,core:K},se=Gt.propertyGroupNames={},fe=Gt.propertyGroupKeys=Object.keys(q);fe.forEach(function(ie){se[ie]=q[ie].map(function(De){return De.name}),q[ie].forEach(function(De){return De.groupKey=ie})});var ye=Gt.aliases=[{name:"content",pointsTo:"label"},{name:"control-point-distance",pointsTo:"control-point-distances"},{name:"control-point-weight",pointsTo:"control-point-weights"},{name:"edge-text-rotation",pointsTo:"text-rotation"},{name:"padding-left",pointsTo:"padding"},{name:"padding-right",pointsTo:"padding"},{name:"padding-top",pointsTo:"padding"},{name:"padding-bottom",pointsTo:"padding"}];Gt.propertyNames=J.map(function(ie){return ie.name});for(var le=0;le<J.length;le++){var me=J[le];J[me.name]=me}for(var xe=0;xe<ye.length;xe++){var ke=ye[xe],Ce=J[ke.pointsTo],Ee={name:ke.name,alias:!0,pointsTo:Ce};J.push(Ee),J[ke.name]=Ee}})(),Gt.getDefaultProperty=function(r){return this.getDefaultProperties()[r]},Gt.getDefaultProperties=function(){var r=this._private;if(r.defaultProperties!=null)return r.defaultProperties;for(var e=rt({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125,events:"yes","text-events":"no","text-valign":"top","text-halign":"center","text-justification":"auto","line-height":1,color:"#000","text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":"none","text-wrap":"none","text-overflow-wrap":"whitespace","text-max-width":9999,"text-background-color":"#000","text-background-opacity":0,"text-background-shape":"rectangle","text-background-padding":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","font-family":"Helvetica Neue, Helvetica, sans-serif","font-style":"normal","font-weight":"normal","font-size":16,"min-zoomed-font-size":0,"text-rotation":"none","source-text-rotation":"none","target-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-compound-depth":"auto","z-index-compare":"auto","z-index":0,label:"","text-margin-x":0,"text-margin-y":0,"source-label":"","source-text-offset":0,"source-text-margin-x":0,"source-text-margin-y":0,"target-label":"","target-text-offset":0,"target-text-margin-x":0,"target-text-margin-y":0,"overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"overlay-shape":"round-rectangle","underlay-opacity":0,"underlay-color":"#000","underlay-padding":10,"underlay-shape":"round-rectangle","transition-property":"none","transition-duration":0,"transition-delay":0,"transition-timing-function":"linear","background-blacken":0,"background-color":"#999","background-fill":"solid","background-opacity":1,"background-image":"none","background-image-crossorigin":"anonymous","background-image-opacity":1,"background-image-containment":"inside","background-image-smoothing":"yes","background-position-x":"50%","background-position-y":"50%","background-offset-x":0,"background-offset-y":0,"background-width-relative-to":"include-padding","background-height-relative-to":"include-padding","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid",height:30,width:30,shape:"ellipse","shape-polygon-points":"-1, -1,   1, -1,   1, 1,   -1, 1","bounds-expansion":0,"background-gradient-direction":"to-bottom","background-gradient-stop-colors":"#999","background-gradient-stop-positions":"0%",ghost:"no","ghost-offset-y":0,"ghost-offset-x":0,"ghost-opacity":0,padding:0,"padding-relative-to":"width",position:"origin","compound-sizing-wrt-labels":"include","min-width":0,"min-width-bias-left":0,"min-width-bias-right":0,"min-height":0,"min-height-bias-top":0,"min-height-bias-bottom":0},{"pie-size":"100%"},[{name:"pie-{{i}}-background-color",value:"black"},{name:"pie-{{i}}-background-size",value:"0%"},{name:"pie-{{i}}-background-opacity",value:1}].reduce(function(l,u){for(var f=1;f<=Gt.pieBackgroundN;f++){var v=u.name.replace("{{i}}",f),d=u.value;l[v]=d}return l},{}),{"line-style":"solid","line-color":"#999","line-fill":"solid","line-cap":"butt","line-opacity":1,"line-gradient-stop-colors":"#999","line-gradient-stop-positions":"0%","control-point-step-size":40,"control-point-weights":.5,"segment-weights":.5,"segment-distances":20,"taxi-turn":"50%","taxi-turn-min-distance":10,"taxi-direction":"auto","edge-distances":"intersection","curve-style":"haystack","haystack-radius":0,"arrow-scale":1,"loop-direction":"-45deg","loop-sweep":"-90deg","source-distance-from-node":0,"target-distance-from-node":0,"source-endpoint":"outside-to-node","target-endpoint":"outside-to-node","line-dash-pattern":[6,3],"line-dash-offset":0},[{name:"arrow-shape",value:"none"},{name:"arrow-color",value:"#999"},{name:"arrow-fill",value:"filled"}].reduce(function(l,u){return Gt.arrowPrefixes.forEach(function(f){var v=f+"-"+u.name,d=u.value;l[v]=d}),l},{})),t={},n=0;n<this.properties.length;n++){var a=this.properties[n];if(!a.pointsTo){var i=a.name,o=e[i],s=this.parse(i,o);t[i]=s}}return r.defaultProperties=t,r.defaultProperties},Gt.addDefaultStylesheet=function(){this.selector(":parent").css({shape:"rectangle",padding:10,"background-color":"#eee","border-color":"#ccc","border-width":1}).selector("edge").css({width:3}).selector(":loop").css({"curve-style":"bezier"}).selector("edge:compound").css({"curve-style":"bezier","source-endpoint":"outside-to-line","target-endpoint":"outside-to-line"}).selector(":selected").css({"background-color":"#0169D9","line-color":"#0169D9","source-arrow-color":"#0169D9","target-arrow-color":"#0169D9","mid-source-arrow-color":"#0169D9","mid-target-arrow-color":"#0169D9"}).selector(":parent:selected").css({"background-color":"#CCE1F9","border-color":"#aec8e5"}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}),this.defaultLength=this.length};var Pa={};Pa.parse=function(r,e,t,n){var a=this;if(ce(e))return a.parseImplWarn(r,e,t,n);var i=n==="mapping"||n===!0||n===!1||n==null?"dontcare":n,o=t?"t":"f",s=""+e,l=Ii(r,s,o,i),u=a.propCache=a.propCache||[],f;return(f=u[l])||(f=u[l]=a.parseImplWarn(r,e,t,n)),(t||n==="mapping")&&(f=gr(f),f&&(f.value=gr(f.value))),f},Pa.parseImplWarn=function(r,e,t,n){var a=this.parseImpl(r,e,t,n);return!a&&e!=null&&bt("The style property `".concat(r,": ").concat(e,"` is invalid")),a&&(a.name==="width"||a.name==="height")&&e==="label"&&bt("The style value of `label` is deprecated for `"+a.name+"`"),a},Pa.parseImpl=function(r,e,t,n){var a=this;r=Mt(r);var i=a.properties[r],o=e,s=a.types;if(!i||e===void 0)return null;i.alias&&(i=i.pointsTo,r=i.name);var l=_(e);l&&(e=e.trim());var u=i.type;if(!u)return null;if(t&&(e===""||e===null))return{name:r,value:e,bypass:!0,deleteBypass:!0};if(ce(e))return{name:r,value:e,strValue:"fn",mapped:s.fn,bypass:t};var f,v;if(!(!l||n||e.length<7||e[1]!=="a")){if(e.length>=7&&e[0]==="d"&&(f=new RegExp(s.data.regex).exec(e))){if(t)return!1;var d=s.data;return{name:r,value:f,strValue:""+e,mapped:d,field:f[1],bypass:t}}else if(e.length>=10&&e[0]==="m"&&(v=new RegExp(s.mapData.regex).exec(e))){if(t||u.multiple)return!1;var h=s.mapData;if(!(u.color||u.number))return!1;var c=this.parse(r,v[4]);if(!c||c.mapped)return!1;var p=this.parse(r,v[5]);if(!p||p.mapped)return!1;if(c.pfValue===p.pfValue||c.strValue===p.strValue)return bt("`"+r+": "+e+"` is not a valid mapper because the output range is zero; converting to `"+r+": "+c.strValue+"`"),this.parse(r,c.strValue);if(u.color){var y=c.value,b=p.value,x=y[0]===b[0]&&y[1]===b[1]&&y[2]===b[2]&&(y[3]===b[3]||(y[3]==null||y[3]===1)&&(b[3]==null||b[3]===1));if(x)return!1}return{name:r,value:v,strValue:""+e,mapped:h,field:v[1],fieldMin:parseFloat(v[2]),fieldMax:parseFloat(v[3]),valueMin:c.value,valueMax:p.value,bypass:t}}}if(u.multiple&&n!=="multiple"){var w;if(l?w=e.split(/\s+/):ge(e)?w=e:w=[e],u.evenMultiple&&w.length%2!==0)return null;for(var P=[],F=[],G=[],k="",V=!1,M=0;M<w.length;M++){var $=a.parse(r,w[M],t,"multiple");V=V||_($.value),P.push($.value),G.push($.pfValue!=null?$.pfValue:$.value),F.push($.units),k+=(M>0?" ":"")+$.strValue}return u.validate&&!u.validate(P,F)?null:u.singleEnum&&V?P.length===1&&_(P[0])?{name:r,value:P[0],strValue:P[0],bypass:t}:null:{name:r,value:P,pfValue:G,strValue:k,bypass:t,units:F}}var K=function(){for(var Pe=0;Pe<u.enums.length;Pe++){var ze=u.enums[Pe];if(ze===e)return{name:r,value:e,strValue:""+e,bypass:t}}return null};if(u.number){var I,Q="px";if(u.units&&(I=u.units),u.implicitUnits&&(Q=u.implicitUnits),!u.unitless)if(l){var H="px|em"+(u.allowPercent?"|\\%":"");I&&(H=I);var ne=e.match("^("+Rt+")("+H+")?$");ne&&(e=ne[1],I=ne[2]||Q)}else(!I||u.implicitUnits)&&(I=Q);if(e=parseFloat(e),isNaN(e)&&u.enums===void 0)return null;if(isNaN(e)&&u.enums!==void 0)return e=o,K();if(u.integer&&!Ze(e)||u.min!==void 0&&(e<u.min||u.strictMin&&e===u.min)||u.max!==void 0&&(e>u.max||u.strictMax&&e===u.max))return null;var J={name:r,value:e,strValue:""+e+(I||""),units:I,bypass:t};return u.unitless||I!=="px"&&I!=="em"?J.pfValue=e:J.pfValue=I==="px"||!I?e:this.getEmSizeInPixels()*e,(I==="ms"||I==="s")&&(J.pfValue=I==="ms"?e:1e3*e),(I==="deg"||I==="rad")&&(J.pfValue=I==="rad"?e:Gu(e)),I==="%"&&(J.pfValue=e/100),J}else if(u.propList){var q=[],se=""+e;if(se!=="none"){for(var fe=se.split(/\s*,\s*|\s+/),ye=0;ye<fe.length;ye++){var le=fe[ye].trim();a.properties[le]?q.push(le):bt("`"+le+"` is not a valid property name")}if(q.length===0)return null}return{name:r,value:q,strValue:q.length===0?"none":q.join(" "),bypass:t}}else if(u.color){var me=uu(e);return me?{name:r,value:me,pfValue:me,strValue:"rgb("+me[0]+","+me[1]+","+me[2]+")",bypass:t}:null}else if(u.regex||u.regexes){if(u.enums){var xe=K();if(xe)return xe}for(var ke=u.regexes?u.regexes:[u.regex],Ce=0;Ce<ke.length;Ce++){var Ee=new RegExp(ke[Ce]),ie=Ee.exec(e);if(ie)return{name:r,value:u.singleRegexMatchValue?ie[1]:ie,strValue:""+e,bypass:t}}return null}else return u.string?{name:r,value:""+e,strValue:""+e,bypass:t}:u.enums?K():null};var Ut=function r(e){if(!(this instanceof r))return new r(e);if(!we(e)){Pt("A style must have a core reference");return}this._private={cy:e,coreStyle:{}},this.length=0,this.resetToDefault()},Zt=Ut.prototype;Zt.instanceString=function(){return"style"},Zt.clear=function(){for(var r=this._private,e=r.cy,t=e.elements(),n=0;n<this.length;n++)this[n]=void 0;return this.length=0,r.contextStyles={},r.propDiffs={},this.cleanElements(t,!0),t.forEach(function(a){var i=a[0]._private;i.styleDirty=!0,i.appliedInitStyle=!1}),this},Zt.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this},Zt.core=function(r){return this._private.coreStyle[r]||this.getDefaultProperty(r)},Zt.selector=function(r){var e=r==="core"?null:new Ar(r),t=this.length++;return this[t]={selector:e,properties:[],mappedProperties:[],index:t},this},Zt.css=function(){var r=this,e=arguments;if(e.length===1)for(var t=e[0],n=0;n<r.properties.length;n++){var a=r.properties[n],i=t[a.name];i===void 0&&(i=t[rr(a.name)]),i!==void 0&&this.cssRule(a.name,i)}else e.length===2&&this.cssRule(e[0],e[1]);return this},Zt.style=Zt.css,Zt.cssRule=function(r,e){var t=this.parse(r,e);if(t){var n=this.length-1;this[n].properties.push(t),this[n].properties[t.name]=t,t.name.match(/pie-(\d+)-background-size/)&&t.value&&(this._private.hasPie=!0),t.mapped&&this[n].mappedProperties.push(t);var a=!this[n].selector;a&&(this._private.coreStyle[t.name]=t)}return this},Zt.append=function(r){return Re(r)?r.appendToStyle(this):ge(r)?this.appendFromJson(r):_(r)&&this.appendFromString(r),this},Ut.fromJson=function(r,e){var t=new Ut(r);return t.fromJson(e),t},Ut.fromString=function(r,e){return new Ut(r).fromString(e)},[Yt,Kn,ci,mr,ka,hi,Gt,Pa].forEach(function(r){rt(Zt,r)}),Ut.types=Zt.types,Ut.properties=Zt.properties,Ut.propertyGroups=Zt.propertyGroups,Ut.propertyGroupNames=Zt.propertyGroupNames,Ut.propertyGroupKeys=Zt.propertyGroupKeys;var _f={style:function(e){if(e){var t=this.setStyle(e);t.update()}return this._private.style},setStyle:function(e){var t=this._private;return Re(e)?t.style=e.generateStyle(this):ge(e)?t.style=Ut.fromJson(this,e):_(e)?t.style=Ut.fromString(this,e):t.style=Ut(this),t.style},updateStyle:function(){this.mutableElements().updateStyle()}},ev="single",Zr={autolock:function(e){if(e!==void 0)this._private.autolock=!!e;else return this._private.autolock;return this},autoungrabify:function(e){if(e!==void 0)this._private.autoungrabify=!!e;else return this._private.autoungrabify;return this},autounselectify:function(e){if(e!==void 0)this._private.autounselectify=!!e;else return this._private.autounselectify;return this},selectionType:function(e){var t=this._private;if(t.selectionType==null&&(t.selectionType=ev),e!==void 0)(e==="additive"||e==="single")&&(t.selectionType=e);else return t.selectionType;return this},panningEnabled:function(e){if(e!==void 0)this._private.panningEnabled=!!e;else return this._private.panningEnabled;return this},userPanningEnabled:function(e){if(e!==void 0)this._private.userPanningEnabled=!!e;else return this._private.userPanningEnabled;return this},zoomingEnabled:function(e){if(e!==void 0)this._private.zoomingEnabled=!!e;else return this._private.zoomingEnabled;return this},userZoomingEnabled:function(e){if(e!==void 0)this._private.userZoomingEnabled=!!e;else return this._private.userZoomingEnabled;return this},boxSelectionEnabled:function(e){if(e!==void 0)this._private.boxSelectionEnabled=!!e;else return this._private.boxSelectionEnabled;return this},pan:function(){var e=arguments,t=this._private.pan,n,a,i,o,s;switch(e.length){case 0:return t;case 1:if(_(e[0]))return n=e[0],t[n];if(Ne(e[0])){if(!this._private.panningEnabled)return this;i=e[0],o=i.x,s=i.y,ue(o)&&(t.x=o),ue(s)&&(t.y=s),this.emit("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;n=e[0],a=e[1],(n==="x"||n==="y")&&ue(a)&&(t[n]=a),this.emit("pan viewport");break}return this.notify("viewport"),this},panBy:function(e,t){var n=arguments,a=this._private.pan,i,o,s,l,u;if(!this._private.panningEnabled)return this;switch(n.length){case 1:Ne(e)&&(s=n[0],l=s.x,u=s.y,ue(l)&&(a.x+=l),ue(u)&&(a.y+=u),this.emit("pan viewport"));break;case 2:i=e,o=t,(i==="x"||i==="y")&&ue(o)&&(a[i]+=o),this.emit("pan viewport");break}return this.notify("viewport"),this},fit:function(e,t){var n=this.getFitViewport(e,t);if(n){var a=this._private;a.zoom=n.zoom,a.pan=n.pan,this.emit("pan zoom viewport"),this.notify("viewport")}return this},getFitViewport:function(e,t){if(ue(e)&&t===void 0&&(t=e,e=void 0),!(!this._private.panningEnabled||!this._private.zoomingEnabled)){var n;if(_(e)){var a=e;e=this.$(a)}else if(Dt(e)){var i=e;n={x1:i.x1,y1:i.y1,x2:i.x2,y2:i.y2},n.w=n.x2-n.x1,n.h=n.y2-n.y1}else Ye(e)||(e=this.mutableElements());if(!(Ye(e)&&e.empty())){n=n||e.boundingBox();var o=this.width(),s=this.height(),l;if(t=ue(t)?t:0,!isNaN(o)&&!isNaN(s)&&o>0&&s>0&&!isNaN(n.w)&&!isNaN(n.h)&&n.w>0&&n.h>0){l=Math.min((o-2*t)/n.w,(s-2*t)/n.h),l=l>this._private.maxZoom?this._private.maxZoom:l,l=l<this._private.minZoom?this._private.minZoom:l;var u={x:(o-l*(n.x1+n.x2))/2,y:(s-l*(n.y1+n.y2))/2};return{zoom:l,pan:u}}}}},zoomRange:function(e,t){var n=this._private;if(t==null){var a=e;e=a.min,t=a.max}return ue(e)&&ue(t)&&e<=t?(n.minZoom=e,n.maxZoom=t):ue(e)&&t===void 0&&e<=n.maxZoom?n.minZoom=e:ue(t)&&e===void 0&&t>=n.minZoom&&(n.maxZoom=t),this},minZoom:function(e){return e===void 0?this._private.minZoom:this.zoomRange({min:e})},maxZoom:function(e){return e===void 0?this._private.maxZoom:this.zoomRange({max:e})},getZoomedViewport:function(e){var t=this._private,n=t.pan,a=t.zoom,i,o,s=!1;if(t.zoomingEnabled||(s=!0),ue(e)?o=e:Ne(e)&&(o=e.level,e.position!=null?i=aa(e.position,a,n):e.renderedPosition!=null&&(i=e.renderedPosition),i!=null&&!t.panningEnabled&&(s=!0)),o=o>t.maxZoom?t.maxZoom:o,o=o<t.minZoom?t.minZoom:o,s||!ue(o)||o===a||i!=null&&(!ue(i.x)||!ue(i.y)))return null;if(i!=null){var l=n,u=a,f=o,v={x:-f/u*(i.x-l.x)+i.x,y:-f/u*(i.y-l.y)+i.y};return{zoomed:!0,panned:!0,zoom:f,pan:v}}else return{zoomed:!0,panned:!1,zoom:o,pan:n}},zoom:function(e){if(e===void 0)return this._private.zoom;var t=this.getZoomedViewport(e),n=this._private;return t==null||!t.zoomed?this:(n.zoom=t.zoom,t.panned&&(n.pan.x=t.pan.x,n.pan.y=t.pan.y),this.emit("zoom"+(t.panned?" pan":"")+" viewport"),this.notify("viewport"),this)},viewport:function(e){var t=this._private,n=!0,a=!0,i=[],o=!1,s=!1;if(!e)return this;if(ue(e.zoom)||(n=!1),Ne(e.pan)||(a=!1),!n&&!a)return this;if(n){var l=e.zoom;l<t.minZoom||l>t.maxZoom||!t.zoomingEnabled?o=!0:(t.zoom=l,i.push("zoom"))}if(a&&(!o||!e.cancelOnFailedZoom)&&t.panningEnabled){var u=e.pan;ue(u.x)&&(t.pan.x=u.x,s=!1),ue(u.y)&&(t.pan.y=u.y,s=!1),s||i.push("pan")}return i.length>0&&(i.push("viewport"),this.emit(i.join(" ")),this.notify("viewport")),this},center:function(e){var t=this.getCenterPan(e);return t&&(this._private.pan=t,this.emit("pan viewport"),this.notify("viewport")),this},getCenterPan:function(e,t){if(this._private.panningEnabled){if(_(e)){var n=e;e=this.mutableElements().filter(n)}else Ye(e)||(e=this.mutableElements());if(e.length!==0){var a=e.boundingBox(),i=this.width(),o=this.height();t=t===void 0?this._private.zoom:t;var s={x:(i-t*(a.x1+a.x2))/2,y:(o-t*(a.y1+a.y2))/2};return s}}},reset:function(){return!this._private.panningEnabled||!this._private.zoomingEnabled?this:(this.viewport({pan:{x:0,y:0},zoom:1}),this)},invalidateSize:function(){this._private.sizeCache=null},size:function(){var e=this._private,t=e.container,n=this;return e.sizeCache=e.sizeCache||(t?function(){var a=n.window().getComputedStyle(t),i=function(s){return parseFloat(a.getPropertyValue(s))};return{width:t.clientWidth-i("padding-left")-i("padding-right"),height:t.clientHeight-i("padding-top")-i("padding-bottom")}}():{width:1,height:1})},width:function(){return this.size().width},height:function(){return this.size().height},extent:function(){var e=this._private.pan,t=this._private.zoom,n=this.renderedExtent(),a={x1:(n.x1-e.x)/t,x2:(n.x2-e.x)/t,y1:(n.y1-e.y)/t,y2:(n.y2-e.y)/t};return a.w=a.x2-a.x1,a.h=a.y2-a.y1,a},renderedExtent:function(){var e=this.width(),t=this.height();return{x1:0,y1:0,x2:e,y2:t,w:e,h:t}},multiClickDebounceTime:function(e){if(e)this._private.multiClickDebounceTime=e;else return this._private.multiClickDebounceTime;return this}};Zr.centre=Zr.center,Zr.autolockNodes=Zr.autolock,Zr.autoungrabifyNodes=Zr.autoungrabify;var Yn={data:wt.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeData:wt.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),scratch:wt.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:wt.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0})};Yn.attr=Yn.data,Yn.removeAttr=Yn.removeData;var Un=function(e){var t=this;e=rt({},e);var n=e.container;n&&!Ue(n)&&Ue(n[0])&&(n=n[0]);var a=n?n._cyreg:null;a=a||{},a&&a.cy&&(a.cy.destroy(),a={});var i=a.readies=a.readies||[];n&&(n._cyreg=a),a.cy=t;var o=de!==void 0&&n!==void 0&&!e.headless,s=e;s.layout=rt({name:o?"grid":"null"},s.layout),s.renderer=rt({name:o?"canvas":"null"},s.renderer);var l=function(c,p,y){return p!==void 0?p:y!==void 0?y:c},u=this._private={container:n,ready:!1,options:s,elements:new Vt(this),listeners:[],aniEles:new Vt(this),data:s.data||{},scratch:{},layout:null,renderer:null,destroyed:!1,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:l(!0,s.zoomingEnabled),userZoomingEnabled:l(!0,s.userZoomingEnabled),panningEnabled:l(!0,s.panningEnabled),userPanningEnabled:l(!0,s.userPanningEnabled),boxSelectionEnabled:l(!0,s.boxSelectionEnabled),autolock:l(!1,s.autolock,s.autolockNodes),autoungrabify:l(!1,s.autoungrabify,s.autoungrabifyNodes),autounselectify:l(!1,s.autounselectify),styleEnabled:s.styleEnabled===void 0?o:s.styleEnabled,zoom:ue(s.zoom)?s.zoom:1,pan:{x:Ne(s.pan)&&ue(s.pan.x)?s.pan.x:0,y:Ne(s.pan)&&ue(s.pan.y)?s.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1,multiClickDebounceTime:l(250,s.multiClickDebounceTime)};this.createEmitter(),this.selectionType(s.selectionType),this.zoomRange({min:s.minZoom,max:s.maxZoom});var f=function(c,p){var y=c.some(Ot);if(y)return fn.all(c).then(p);p(c)};u.styleEnabled&&t.setStyle([]);var v=rt({},s,s.renderer);t.initRenderer(v);var d=function(c,p,y){t.notifications(!1);var b=t.mutableElements();b.length>0&&b.remove(),c!=null&&(Ne(c)||ge(c))&&t.add(c),t.one("layoutready",function(w){t.notifications(!0),t.emit(w),t.one("load",p),t.emitAndNotify("load")}).one("layoutstop",function(){t.one("done",y),t.emit("done")});var x=rt({},t._private.options.layout);x.eles=t.elements(),t.layout(x).run()};f([s.style,s.elements],function(h){var c=h[0],p=h[1];u.styleEnabled&&t.style().append(c),d(p,function(){t.startAnimationLoop(),u.ready=!0,ce(s.ready)&&t.on("ready",s.ready);for(var y=0;y<i.length;y++){var b=i[y];t.on("ready",b)}a&&(a.readies=[]),t.emit("ready")},s.done)})},Ba=Un.prototype;rt(Ba,{instanceString:function(){return"core"},isReady:function(){return this._private.ready},destroyed:function(){return this._private.destroyed},ready:function(e){return this.isReady()?this.emitter().emit("ready",[],e):this.on("ready",e),this},destroy:function(){var e=this;if(!e.destroyed())return e.stopAnimationLoop(),e.destroyRenderer(),this.emit("destroy"),e._private.destroyed=!0,e},hasElementWithId:function(e){return this._private.elements.hasElementWithId(e)},getElementById:function(e){return this._private.elements.getElementById(e)},hasCompoundNodes:function(){return this._private.hasCompoundNodes},headless:function(){return this._private.renderer.isHeadless()},styleEnabled:function(){return this._private.styleEnabled},addToPool:function(e){return this._private.elements.merge(e),this},removeFromPool:function(e){return this._private.elements.unmerge(e),this},container:function(){return this._private.container||null},window:function(){var e=this._private.container;if(e==null)return de;var t=this._private.container.ownerDocument;return t===void 0||t==null?de:t.defaultView||de},mount:function(e){if(e!=null){var t=this,n=t._private,a=n.options;return!Ue(e)&&Ue(e[0])&&(e=e[0]),t.stopAnimationLoop(),t.destroyRenderer(),n.container=e,n.styleEnabled=!0,t.invalidateSize(),t.initRenderer(rt({},a,a.renderer,{name:a.renderer.name==="null"?"canvas":a.renderer.name})),t.startAnimationLoop(),t.style(a.style),t.emit("mount"),t}},unmount:function(){var e=this;return e.stopAnimationLoop(),e.destroyRenderer(),e.initRenderer({name:"null"}),e.emit("unmount"),e},options:function(){return gr(this._private.options)},json:function(e){var t=this,n=t._private,a=t.mutableElements(),i=function(P){return t.getElementById(P.id())};if(Ne(e)){if(t.startBatch(),e.elements){var o={},s=function(P,F){for(var G=[],k=[],V=0;V<P.length;V++){var M=P[V];if(!M.data.id){bt("cy.json() cannot handle elements without an ID attribute");continue}var $=""+M.data.id,K=t.getElementById($);o[$]=!0,K.length!==0?k.push({ele:K,json:M}):(F&&(M.group=F),G.push(M))}t.add(G);for(var I=0;I<k.length;I++){var Q=k[I],H=Q.ele,ne=Q.json;H.json(ne)}};if(ge(e.elements))s(e.elements);else for(var l=["nodes","edges"],u=0;u<l.length;u++){var f=l[u],v=e.elements[f];ge(v)&&s(v,f)}var d=t.collection();a.filter(function(w){return!o[w.id()]}).forEach(function(w){w.isParent()?d.merge(w):w.remove()}),d.forEach(function(w){return w.children().move({parent:null})}),d.forEach(function(w){return i(w).remove()})}e.style&&t.style(e.style),e.zoom!=null&&e.zoom!==n.zoom&&t.zoom(e.zoom),e.pan&&(e.pan.x!==n.pan.x||e.pan.y!==n.pan.y)&&t.pan(e.pan),e.data&&t.data(e.data);for(var h=["minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","panningEnabled","userPanningEnabled","boxSelectionEnabled","autolock","autoungrabify","autounselectify","multiClickDebounceTime"],c=0;c<h.length;c++){var p=h[c];e[p]!=null&&t[p](e[p])}return t.endBatch(),this}else{var y=!!e,b={};y?b.elements=this.elements().map(function(w){return w.json()}):(b.elements={},a.forEach(function(w){var P=w.group();b.elements[P]||(b.elements[P]=[]),b.elements[P].push(w.json())})),this._private.styleEnabled&&(b.style=t.style().json()),b.data=gr(t.data());var x=n.options;return b.zoomingEnabled=n.zoomingEnabled,b.userZoomingEnabled=n.userZoomingEnabled,b.zoom=n.zoom,b.minZoom=n.minZoom,b.maxZoom=n.maxZoom,b.panningEnabled=n.panningEnabled,b.userPanningEnabled=n.userPanningEnabled,b.pan=gr(n.pan),b.boxSelectionEnabled=n.boxSelectionEnabled,b.renderer=gr(x.renderer),b.hideEdgesOnViewport=x.hideEdgesOnViewport,b.textureOnViewport=x.textureOnViewport,b.wheelSensitivity=x.wheelSensitivity,b.motionBlur=x.motionBlur,b.multiClickDebounceTime=x.multiClickDebounceTime,b}}}),Ba.$id=Ba.getElementById,[$f,Xf,rs,vi,Ta,Jf,di,Da,_f,Zr,Yn].forEach(function(r){rt(Ba,r)});var tv={fit:!0,directed:!1,padding:30,circle:!1,grid:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,roots:void 0,depthSort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}},rv={maximal:!1,acyclic:!1},yn=function(e){return e.scratch("breadthfirst")},ns=function(e,t){return e.scratch("breadthfirst",t)};function as(r){this.options=rt({},tv,rv,r)}as.prototype.run=function(){var r=this.options,e=r,t=r.cy,n=e.eles,a=n.nodes().filter(function(We){return!We.isParent()}),i=n,o=e.directed,s=e.acyclic||e.maximal||e.maximalAdjustments>0,l=jt(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:t.width(),h:t.height()}),u;if(Ye(e.roots))u=e.roots;else if(ge(e.roots)){for(var f=[],v=0;v<e.roots.length;v++){var d=e.roots[v],h=t.getElementById(d);f.push(h)}u=t.collection(f)}else if(_(e.roots))u=t.$(e.roots);else if(o)u=a.roots();else{var c=n.components();u=t.collection();for(var p=function(Ge){var _e=c[Ge],Qe=_e.maxDegree(!1),$e=_e.filter(function(je){return je.degree(!1)===Qe});u=u.add($e)},y=0;y<c.length;y++)p(y)}var b=[],x={},w=function(Ge,_e){b[_e]==null&&(b[_e]=[]);var Qe=b[_e].length;b[_e].push(Ge),ns(Ge,{index:Qe,depth:_e})},P=function(Ge,_e){var Qe=yn(Ge),$e=Qe.depth,je=Qe.index;b[$e][je]=null,w(Ge,_e)};i.bfs({roots:u,directed:e.directed,visit:function(Ge,_e,Qe,$e,je){var dt=Ge[0],lt=dt.id();w(dt,je),x[lt]=!0}});for(var F=[],G=0;G<a.length;G++){var k=a[G];x[k.id()]||F.push(k)}var V=function(Ge){for(var _e=b[Ge],Qe=0;Qe<_e.length;Qe++){var $e=_e[Qe];if($e==null){_e.splice(Qe,1),Qe--;continue}ns($e,{depth:Ge,index:Qe})}},M=function(){for(var Ge=0;Ge<b.length;Ge++)V(Ge)},$=function(Ge,_e){for(var Qe=yn(Ge),$e=Ge.incomers().filter(function(O){return O.isNode()&&n.has(O)}),je=-1,dt=Ge.id(),lt=0;lt<$e.length;lt++){var nt=$e[lt],xt=yn(nt);je=Math.max(je,xt.depth)}if(Qe.depth<=je){if(!e.acyclic&&_e[dt])return null;var Be=je+1;return P(Ge,Be),_e[dt]=Be,!0}return!1};if(o&&s){var K=[],I={},Q=function(Ge){return K.push(Ge)},H=function(){return K.shift()};for(a.forEach(function(We){return K.push(We)});K.length>0;){var ne=H(),J=$(ne,I);if(J)ne.outgoers().filter(function(We){return We.isNode()&&n.has(We)}).forEach(Q);else if(J===null){bt("Detected double maximal shift for node `"+ne.id()+"`.  Bailing maximal adjustment due to cycle.  Use `options.maximal: true` only on DAGs.");break}}}M();var q=0;if(e.avoidOverlap)for(var se=0;se<a.length;se++){var fe=a[se],ye=fe.layoutDimensions(e),le=ye.w,me=ye.h;q=Math.max(q,le,me)}var xe={},ke=function(Ge){if(xe[Ge.id()])return xe[Ge.id()];for(var _e=yn(Ge).depth,Qe=Ge.neighborhood(),$e=0,je=0,dt=0;dt<Qe.length;dt++){var lt=Qe[dt];if(!(lt.isEdge()||lt.isParent()||!a.has(lt))){var nt=yn(lt);if(nt!=null){var xt=nt.index,Be=nt.depth;if(!(xt==null||Be==null)){var O=b[Be].length;Be<_e&&($e+=xt/O,je++)}}}}return je=Math.max(1,je),$e=$e/je,je===0&&($e=0),xe[Ge.id()]=$e,$e},Ce=function(Ge,_e){var Qe=ke(Ge),$e=ke(_e),je=Qe-$e;return je===0?Pi(Ge.id(),_e.id()):je};e.depthSort!==void 0&&(Ce=e.depthSort);for(var Ee=0;Ee<b.length;Ee++)b[Ee].sort(Ce),V(Ee);for(var ie=[],De=0;De<F.length;De++)ie.push(F[De]);b.unshift(ie),M();for(var Pe=0,ze=0;ze<b.length;ze++)Pe=Math.max(b[ze].length,Pe);var Ve={x:l.x1+l.w/2,y:l.x1+l.h/2},at=b.reduce(function(We,Ge){return Math.max(We,Ge.length)},0),it=function(Ge){var _e=yn(Ge),Qe=_e.depth,$e=_e.index,je=b[Qe].length,dt=Math.max(l.w/((e.grid?at:je)+1),q),lt=Math.max(l.h/(b.length+1),q),nt=Math.min(l.w/2/b.length,l.h/2/b.length);if(nt=Math.max(nt,q),e.circle){var Be=nt*Qe+nt-(b.length>0&&b[0].length<=3?nt/2:0),O=2*Math.PI/b[Qe].length*$e;return Qe===0&&b[0].length===1&&(Be=1),{x:Ve.x+Be*Math.cos(O),y:Ve.y+Be*Math.sin(O)}}else{var xt={x:Ve.x+($e+1-(je+1)/2)*dt,y:(Qe+1)*lt};return xt}};return n.nodes().layoutPositions(this,e,it),this};var nv={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,radius:void 0,startAngle:3/2*Math.PI,sweep:void 0,clockwise:!0,sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};function is(r){this.options=rt({},nv,r)}is.prototype.run=function(){var r=this.options,e=r,t=r.cy,n=e.eles,a=e.counterclockwise!==void 0?!e.counterclockwise:e.clockwise,i=n.nodes().not(":parent");e.sort&&(i=i.sort(e.sort));for(var o=jt(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:t.width(),h:t.height()}),s={x:o.x1+o.w/2,y:o.y1+o.h/2},l=e.sweep===void 0?2*Math.PI-2*Math.PI/i.length:e.sweep,u=l/Math.max(1,i.length-1),f,v=0,d=0;d<i.length;d++){var h=i[d],c=h.layoutDimensions(e),p=c.w,y=c.h;v=Math.max(v,p,y)}if(ue(e.radius)?f=e.radius:i.length<=1?f=0:f=Math.min(o.h,o.w)/2-v,i.length>1&&e.avoidOverlap){v*=1.75;var b=Math.cos(u)-Math.cos(0),x=Math.sin(u)-Math.sin(0),w=Math.sqrt(v*v/(b*b+x*x));f=Math.max(w,f)}var P=function(G,k){var V=e.startAngle+k*u*(a?1:-1),M=f*Math.cos(V),$=f*Math.sin(V),K={x:s.x+M,y:s.y+$};return K};return n.nodes().layoutPositions(this,e,P),this};var av={fit:!0,padding:30,startAngle:3/2*Math.PI,sweep:void 0,clockwise:!0,equidistant:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,height:void 0,width:void 0,spacingFactor:void 0,concentric:function(e){return e.degree()},levelWidth:function(e){return e.maxDegree()/4},animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};function os(r){this.options=rt({},av,r)}os.prototype.run=function(){for(var r=this.options,e=r,t=e.counterclockwise!==void 0?!e.counterclockwise:e.clockwise,n=r.cy,a=e.eles,i=a.nodes().not(":parent"),o=jt(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()}),s={x:o.x1+o.w/2,y:o.y1+o.h/2},l=[],u=0,f=0;f<i.length;f++){var v=i[f],d=void 0;d=e.concentric(v),l.push({value:d,node:v}),v._private.scratch.concentric=d}i.updateStyle();for(var h=0;h<i.length;h++){var c=i[h],p=c.layoutDimensions(e);u=Math.max(u,p.w,p.h)}l.sort(function(We,Ge){return Ge.value-We.value});for(var y=e.levelWidth(i),b=[[]],x=b[0],w=0;w<l.length;w++){var P=l[w];if(x.length>0){var F=Math.abs(x[0].value-P.value);F>=y&&(x=[],b.push(x))}x.push(P)}var G=u+e.minNodeSpacing;if(!e.avoidOverlap){var k=b.length>0&&b[0].length>1,V=Math.min(o.w,o.h)/2-G,M=V/(b.length+k?1:0);G=Math.min(G,M)}for(var $=0,K=0;K<b.length;K++){var I=b[K],Q=e.sweep===void 0?2*Math.PI-2*Math.PI/I.length:e.sweep,H=I.dTheta=Q/Math.max(1,I.length-1);if(I.length>1&&e.avoidOverlap){var ne=Math.cos(H)-Math.cos(0),J=Math.sin(H)-Math.sin(0),q=Math.sqrt(G*G/(ne*ne+J*J));$=Math.max(q,$)}I.r=$,$+=G}if(e.equidistant){for(var se=0,fe=0,ye=0;ye<b.length;ye++){var le=b[ye],me=le.r-fe;se=Math.max(se,me)}fe=0;for(var xe=0;xe<b.length;xe++){var ke=b[xe];xe===0&&(fe=ke.r),ke.r=fe,fe+=se}}for(var Ce={},Ee=0;Ee<b.length;Ee++)for(var ie=b[Ee],De=ie.dTheta,Pe=ie.r,ze=0;ze<ie.length;ze++){var Ve=ie[ze],at=e.startAngle+(t?1:-1)*De*ze,it={x:s.x+Pe*Math.cos(at),y:s.y+Pe*Math.sin(at)};Ce[Ve.node.id()]=it}return a.nodes().layoutPositions(this,e,function(We){var Ge=We.id();return Ce[Ge]}),this};var gi,iv={ready:function(){},stop:function(){},animate:!0,animationEasing:void 0,animationDuration:void 0,animateFilter:function(e,t){return!0},animationThreshold:250,refresh:20,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,randomize:!1,componentSpacing:40,nodeRepulsion:function(e){return 2048},nodeOverlap:4,idealEdgeLength:function(e){return 32},edgeElasticity:function(e){return 32},nestingFactor:1.2,gravity:1,numIter:1e3,initialTemp:1e3,coolingFactor:.99,minTemp:1};function La(r){this.options=rt({},iv,r),this.options.layout=this}La.prototype.run=function(){var r=this.options,e=r.cy,t=this;t.stopped=!1,(r.animate===!0||r.animate===!1)&&t.emit({type:"layoutstart",layout:t}),r.debug===!0?gi=!0:gi=!1;var n=ov(e,t,r);gi&&lv(n),r.randomize&&fv(n);var a=Er(),i=function(){vv(n,e,r),r.fit===!0&&e.fit(r.padding)},o=function(d){return!(t.stopped||d>=r.numIter||(dv(n,r),n.temperature=n.temperature*r.coolingFactor,n.temperature<r.minTemp))},s=function(){if(r.animate===!0||r.animate===!1)i(),t.one("layoutstop",r.stop),t.emit({type:"layoutstop",layout:t});else{var d=r.eles.nodes(),h=ss(n,r,d);d.layoutPositions(t,r,h)}},l=0,u=!0;if(r.animate===!0){var f=function v(){for(var d=0;u&&d<r.refresh;)u=o(l),l++,d++;if(!u)ls(n,r),s();else{var h=Er();h-a>=r.animationThreshold&&i(),ea(v)}};f()}else{for(;u;)u=o(l),l++;ls(n,r),s()}return this},La.prototype.stop=function(){return this.stopped=!0,this.thread&&this.thread.stop(),this.emit("layoutstop"),this},La.prototype.destroy=function(){return this.thread&&this.thread.stop(),this};var ov=function(e,t,n){for(var a=n.eles.edges(),i=n.eles.nodes(),o=jt(n.boundingBox?n.boundingBox:{x1:0,y1:0,w:e.width(),h:e.height()}),s={isCompound:e.hasCompoundNodes(),layoutNodes:[],idToIndex:{},nodeSize:i.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:a.size(),temperature:n.initialTemp,clientWidth:o.w,clientHeight:o.h,boundingBox:o},l=n.eles.components(),u={},f=0;f<l.length;f++)for(var v=l[f],d=0;d<v.length;d++){var h=v[d];u[h.id()]=f}for(var f=0;f<s.nodeSize;f++){var c=i[f],p=c.layoutDimensions(n),y={};y.isLocked=c.locked(),y.id=c.data("id"),y.parentId=c.data("parent"),y.cmptId=u[c.id()],y.children=[],y.positionX=c.position("x"),y.positionY=c.position("y"),y.offsetX=0,y.offsetY=0,y.height=p.w,y.width=p.h,y.maxX=y.positionX+y.width/2,y.minX=y.positionX-y.width/2,y.maxY=y.positionY+y.height/2,y.minY=y.positionY-y.height/2,y.padLeft=parseFloat(c.style("padding")),y.padRight=parseFloat(c.style("padding")),y.padTop=parseFloat(c.style("padding")),y.padBottom=parseFloat(c.style("padding")),y.nodeRepulsion=ce(n.nodeRepulsion)?n.nodeRepulsion(c):n.nodeRepulsion,s.layoutNodes.push(y),s.idToIndex[y.id]=f}for(var b=[],x=0,w=-1,P=[],f=0;f<s.nodeSize;f++){var c=s.layoutNodes[f],F=c.parentId;F!=null?s.layoutNodes[s.idToIndex[F]].children.push(c.id):(b[++w]=c.id,P.push(c.id))}for(s.graphSet.push(P);x<=w;){var G=b[x++],k=s.idToIndex[G],h=s.layoutNodes[k],V=h.children;if(V.length>0){s.graphSet.push(V);for(var f=0;f<V.length;f++)b[++w]=V[f]}}for(var f=0;f<s.graphSet.length;f++)for(var M=s.graphSet[f],d=0;d<M.length;d++){var $=s.idToIndex[M[d]];s.indexToGraph[$]=f}for(var f=0;f<s.edgeSize;f++){var K=a[f],I={};I.id=K.data("id"),I.sourceId=K.data("source"),I.targetId=K.data("target");var Q=ce(n.idealEdgeLength)?n.idealEdgeLength(K):n.idealEdgeLength,H=ce(n.edgeElasticity)?n.edgeElasticity(K):n.edgeElasticity,ne=s.idToIndex[I.sourceId],J=s.idToIndex[I.targetId],q=s.indexToGraph[ne],se=s.indexToGraph[J];if(q!=se){for(var fe=sv(I.sourceId,I.targetId,s),ye=s.graphSet[fe],le=0,y=s.layoutNodes[ne];ye.indexOf(y.id)===-1;)y=s.layoutNodes[s.idToIndex[y.parentId]],le++;for(y=s.layoutNodes[J];ye.indexOf(y.id)===-1;)y=s.layoutNodes[s.idToIndex[y.parentId]],le++;Q*=le*n.nestingFactor}I.idealLength=Q,I.elasticity=H,s.layoutEdges.push(I)}return s},sv=function(e,t,n){var a=uv(e,t,0,n);return 2>a.count?0:a.graph},uv=function r(e,t,n,a){var i=a.graphSet[n];if(-1<i.indexOf(e)&&-1<i.indexOf(t))return{count:2,graph:n};for(var o=0,s=0;s<i.length;s++){var l=i[s],u=a.idToIndex[l],f=a.layoutNodes[u].children;if(f.length!==0){var v=a.indexToGraph[a.idToIndex[f[0]]],d=r(e,t,v,a);if(d.count!==0)if(d.count===1){if(o++,o===2)break}else return d}}return{count:o,graph:n}},lv,fv=function(e,t){for(var n=e.clientWidth,a=e.clientHeight,i=0;i<e.nodeSize;i++){var o=e.layoutNodes[i];o.children.length===0&&!o.isLocked&&(o.positionX=Math.random()*n,o.positionY=Math.random()*a)}},ss=function(e,t,n){var a=e.boundingBox,i={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0};return t.boundingBox&&(n.forEach(function(o){var s=e.layoutNodes[e.idToIndex[o.data("id")]];i.x1=Math.min(i.x1,s.positionX),i.x2=Math.max(i.x2,s.positionX),i.y1=Math.min(i.y1,s.positionY),i.y2=Math.max(i.y2,s.positionY)}),i.w=i.x2-i.x1,i.h=i.y2-i.y1),function(o,s){var l=e.layoutNodes[e.idToIndex[o.data("id")]];if(t.boundingBox){var u=(l.positionX-i.x1)/i.w,f=(l.positionY-i.y1)/i.h;return{x:a.x1+u*a.w,y:a.y1+f*a.h}}else return{x:l.positionX,y:l.positionY}}},vv=function(e,t,n){var a=n.layout,i=n.eles.nodes(),o=ss(e,n,i);i.positions(o),e.ready!==!0&&(e.ready=!0,a.one("layoutready",n.ready),a.emit({type:"layoutready",layout:this}))},dv=function(e,t,n){cv(e,t),pv(e),mv(e,t),yv(e),bv(e)},cv=function(e,t){for(var n=0;n<e.graphSet.length;n++)for(var a=e.graphSet[n],i=a.length,o=0;o<i;o++)for(var s=e.layoutNodes[e.idToIndex[a[o]]],l=o+1;l<i;l++){var u=e.layoutNodes[e.idToIndex[a[l]]];hv(s,u,e,t)}},us=function(e){return-e+2*e*Math.random()},hv=function(e,t,n,a){var i=e.cmptId,o=t.cmptId;if(!(i!==o&&!n.isCompound)){var s=t.positionX-e.positionX,l=t.positionY-e.positionY,u=1;s===0&&l===0&&(s=us(u),l=us(u));var f=gv(e,t,s,l);if(f>0)var v=a.nodeOverlap*f,d=Math.sqrt(s*s+l*l),h=v*s/d,c=v*l/d;else var p=Ma(e,s,l),y=Ma(t,-1*s,-1*l),b=y.x-p.x,x=y.y-p.y,w=b*b+x*x,d=Math.sqrt(w),v=(e.nodeRepulsion+t.nodeRepulsion)/w,h=v*b/d,c=v*x/d;e.isLocked||(e.offsetX-=h,e.offsetY-=c),t.isLocked||(t.offsetX+=h,t.offsetY+=c)}},gv=function(e,t,n,a){if(n>0)var i=e.maxX-t.minX;else var i=t.maxX-e.minX;if(a>0)var o=e.maxY-t.minY;else var o=t.maxY-e.minY;return i>=0&&o>=0?Math.sqrt(i*i+o*o):0},Ma=function(e,t,n){var a=e.positionX,i=e.positionY,o=e.height||1,s=e.width||1,l=n/t,u=o/s,f={};return t===0&&0<n||t===0&&0>n?(f.x=a,f.y=i+o/2,f):0<t&&-1*u<=l&&l<=u?(f.x=a+s/2,f.y=i+s*n/2/t,f):0>t&&-1*u<=l&&l<=u?(f.x=a-s/2,f.y=i-s*n/2/t,f):0<n&&(l<=-1*u||l>=u)?(f.x=a+o*t/2/n,f.y=i+o/2,f):(0>n&&(l<=-1*u||l>=u)&&(f.x=a-o*t/2/n,f.y=i-o/2),f)},pv=function(e,t){for(var n=0;n<e.edgeSize;n++){var a=e.layoutEdges[n],i=e.idToIndex[a.sourceId],o=e.layoutNodes[i],s=e.idToIndex[a.targetId],l=e.layoutNodes[s],u=l.positionX-o.positionX,f=l.positionY-o.positionY;if(!(u===0&&f===0)){var v=Ma(o,u,f),d=Ma(l,-1*u,-1*f),h=d.x-v.x,c=d.y-v.y,p=Math.sqrt(h*h+c*c),y=Math.pow(a.idealLength-p,2)/a.elasticity;if(p!==0)var b=y*h/p,x=y*c/p;else var b=0,x=0;o.isLocked||(o.offsetX+=b,o.offsetY+=x),l.isLocked||(l.offsetX-=b,l.offsetY-=x)}}},mv=function(e,t){if(t.gravity!==0)for(var n=1,a=0;a<e.graphSet.length;a++){var i=e.graphSet[a],o=i.length;if(a===0)var s=e.clientHeight/2,l=e.clientWidth/2;else var u=e.layoutNodes[e.idToIndex[i[0]]],f=e.layoutNodes[e.idToIndex[u.parentId]],s=f.positionX,l=f.positionY;for(var v=0;v<o;v++){var d=e.layoutNodes[e.idToIndex[i[v]]];if(!d.isLocked){var h=s-d.positionX,c=l-d.positionY,p=Math.sqrt(h*h+c*c);if(p>n){var y=t.gravity*h/p,b=t.gravity*c/p;d.offsetX+=y,d.offsetY+=b}}}}},yv=function(e,t){var n=[],a=0,i=-1;for(n.push.apply(n,e.graphSet[0]),i+=e.graphSet[0].length;a<=i;){var o=n[a++],s=e.idToIndex[o],l=e.layoutNodes[s],u=l.children;if(0<u.length&&!l.isLocked){for(var f=l.offsetX,v=l.offsetY,d=0;d<u.length;d++){var h=e.layoutNodes[e.idToIndex[u[d]]];h.offsetX+=f,h.offsetY+=v,n[++i]=u[d]}l.offsetX=0,l.offsetY=0}}},bv=function(e,t){for(var n=0;n<e.nodeSize;n++){var a=e.layoutNodes[n];0<a.children.length&&(a.maxX=void 0,a.minX=void 0,a.maxY=void 0,a.minY=void 0)}for(var n=0;n<e.nodeSize;n++){var a=e.layoutNodes[n];if(!(0<a.children.length||a.isLocked)){var i=wv(a.offsetX,a.offsetY,e.temperature);a.positionX+=i.x,a.positionY+=i.y,a.offsetX=0,a.offsetY=0,a.minX=a.positionX-a.width,a.maxX=a.positionX+a.width,a.minY=a.positionY-a.height,a.maxY=a.positionY+a.height,xv(a,e)}}for(var n=0;n<e.nodeSize;n++){var a=e.layoutNodes[n];0<a.children.length&&!a.isLocked&&(a.positionX=(a.maxX+a.minX)/2,a.positionY=(a.maxY+a.minY)/2,a.width=a.maxX-a.minX,a.height=a.maxY-a.minY)}},wv=function(e,t,n){var a=Math.sqrt(e*e+t*t);if(a>n)var i={x:n*e/a,y:n*t/a};else var i={x:e,y:t};return i},xv=function r(e,t){var n=e.parentId;if(n!=null){var a=t.layoutNodes[t.idToIndex[n]],i=!1;if((a.maxX==null||e.maxX+a.padRight>a.maxX)&&(a.maxX=e.maxX+a.padRight,i=!0),(a.minX==null||e.minX-a.padLeft<a.minX)&&(a.minX=e.minX-a.padLeft,i=!0),(a.maxY==null||e.maxY+a.padBottom>a.maxY)&&(a.maxY=e.maxY+a.padBottom,i=!0),(a.minY==null||e.minY-a.padTop<a.minY)&&(a.minY=e.minY-a.padTop,i=!0),i)return r(a,t)}},ls=function(e,t){for(var n=e.layoutNodes,a=[],i=0;i<n.length;i++){var o=n[i],s=o.cmptId,l=a[s]=a[s]||[];l.push(o)}for(var u=0,i=0;i<a.length;i++){var f=a[i];if(f){f.x1=1/0,f.x2=-1/0,f.y1=1/0,f.y2=-1/0;for(var v=0;v<f.length;v++){var d=f[v];f.x1=Math.min(f.x1,d.positionX-d.width/2),f.x2=Math.max(f.x2,d.positionX+d.width/2),f.y1=Math.min(f.y1,d.positionY-d.height/2),f.y2=Math.max(f.y2,d.positionY+d.height/2)}f.w=f.x2-f.x1,f.h=f.y2-f.y1,u+=f.w*f.h}}a.sort(function(x,w){return w.w*w.h-x.w*x.h});for(var h=0,c=0,p=0,y=0,b=Math.sqrt(u)*e.clientWidth/e.clientHeight,i=0;i<a.length;i++){var f=a[i];if(f){for(var v=0;v<f.length;v++){var d=f[v];d.isLocked||(d.positionX+=h-f.x1,d.positionY+=c-f.y1)}h+=f.w+t.componentSpacing,p+=f.w+t.componentSpacing,y=Math.max(y,f.h),p>b&&(c+=y+t.componentSpacing,h=0,p=0,y=0)}}},Ev={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,avoidOverlapPadding:10,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,condense:!1,rows:void 0,cols:void 0,position:function(e){},sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};function fs(r){this.options=rt({},Ev,r)}fs.prototype.run=function(){var r=this.options,e=r,t=r.cy,n=e.eles,a=n.nodes().not(":parent");e.sort&&(a=a.sort(e.sort));var i=jt(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:t.width(),h:t.height()});if(i.h===0||i.w===0)n.nodes().layoutPositions(this,e,function(xe){return{x:i.x1,y:i.y1}});else{var o=a.size(),s=Math.sqrt(o*i.h/i.w),l=Math.round(s),u=Math.round(i.w/i.h*s),f=function(ke){if(ke==null)return Math.min(l,u);var Ce=Math.min(l,u);Ce==l?l=ke:u=ke},v=function(ke){if(ke==null)return Math.max(l,u);var Ce=Math.max(l,u);Ce==l?l=ke:u=ke},d=e.rows,h=e.cols!=null?e.cols:e.columns;if(d!=null&&h!=null)l=d,u=h;else if(d!=null&&h==null)l=d,u=Math.ceil(o/l);else if(d==null&&h!=null)u=h,l=Math.ceil(o/u);else if(u*l>o){var c=f(),p=v();(c-1)*p>=o?f(c-1):(p-1)*c>=o&&v(p-1)}else for(;u*l<o;){var y=f(),b=v();(b+1)*y>=o?v(b+1):f(y+1)}var x=i.w/u,w=i.h/l;if(e.condense&&(x=0,w=0),e.avoidOverlap)for(var P=0;P<a.length;P++){var F=a[P],G=F._private.position;(G.x==null||G.y==null)&&(G.x=0,G.y=0);var k=F.layoutDimensions(e),V=e.avoidOverlapPadding,M=k.w+V,$=k.h+V;x=Math.max(x,M),w=Math.max(w,$)}for(var K={},I=function(ke,Ce){return!!K["c-"+ke+"-"+Ce]},Q=function(ke,Ce){K["c-"+ke+"-"+Ce]=!0},H=0,ne=0,J=function(){ne++,ne>=u&&(ne=0,H++)},q={},se=0;se<a.length;se++){var fe=a[se],ye=e.position(fe);if(ye&&(ye.row!==void 0||ye.col!==void 0)){var le={row:ye.row,col:ye.col};if(le.col===void 0)for(le.col=0;I(le.row,le.col);)le.col++;else if(le.row===void 0)for(le.row=0;I(le.row,le.col);)le.row++;q[fe.id()]=le,Q(le.row,le.col)}}var me=function(ke,Ce){var Ee,ie;if(ke.locked()||ke.isParent())return!1;var De=q[ke.id()];if(De)Ee=De.col*x+x/2+i.x1,ie=De.row*w+w/2+i.y1;else{for(;I(H,ne);)J();Ee=ne*x+x/2+i.x1,ie=H*w+w/2+i.y1,Q(H,ne),J()}return{x:Ee,y:ie}};a.layoutPositions(this,e,me)}return this};var Cv={ready:function(){},stop:function(){}};function pi(r){this.options=rt({},Cv,r)}pi.prototype.run=function(){var r=this.options,e=r.eles,t=this;return r.cy,t.emit("layoutstart"),e.nodes().positions(function(){return{x:0,y:0}}),t.one("layoutready",r.ready),t.emit("layoutready"),t.one("layoutstop",r.stop),t.emit("layoutstop"),this},pi.prototype.stop=function(){return this};var Sv={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};function vs(r){this.options=rt({},Sv,r)}vs.prototype.run=function(){var r=this.options,e=r.eles,t=e.nodes(),n=ce(r.positions);function a(i){if(r.positions==null)return Ou(i.position());if(n)return r.positions(i);var o=r.positions[i._private.data.id];return o??null}return t.layoutPositions(this,r,function(i,o){var s=a(i);return i.locked()||s==null?!1:s}),this};var Tv={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};function ds(r){this.options=rt({},Tv,r)}ds.prototype.run=function(){var r=this.options,e=r.cy,t=r.eles,n=jt(r.boundingBox?r.boundingBox:{x1:0,y1:0,w:e.width(),h:e.height()}),a=function(o,s){return{x:n.x1+Math.round(Math.random()*n.w),y:n.y1+Math.round(Math.random()*n.h)}};return t.nodes().layoutPositions(this,r,a),this};var Dv=[{name:"breadthfirst",impl:as},{name:"circle",impl:is},{name:"concentric",impl:os},{name:"cose",impl:La},{name:"grid",impl:fs},{name:"null",impl:pi},{name:"preset",impl:vs},{name:"random",impl:ds}];function cs(r){this.options=r,this.notifications=0}var hs=function(){},gs=function(){throw new Error("A headless instance can not render images")};cs.prototype={recalculateRenderedStyle:hs,notify:function(){this.notifications++},init:hs,isHeadless:function(){return!0},png:gs,jpg:gs};var mi={};mi.arrowShapeWidth=.3,mi.registerArrowShapes=function(){var r=this.arrowShapes={},e=this,t=function(u,f,v,d,h,c,p){var y=h.x-v/2-p,b=h.x+v/2+p,x=h.y-v/2-p,w=h.y+v/2+p,P=y<=u&&u<=b&&x<=f&&f<=w;return P},n=function(u,f,v,d,h){var c=u*Math.cos(d)-f*Math.sin(d),p=u*Math.sin(d)+f*Math.cos(d),y=c*v,b=p*v,x=y+h.x,w=b+h.y;return{x,y:w}},a=function(u,f,v,d){for(var h=[],c=0;c<u.length;c+=2){var p=u[c],y=u[c+1];h.push(n(p,y,f,v,d))}return h},i=function(u){for(var f=[],v=0;v<u.length;v++){var d=u[v];f.push(d.x,d.y)}return f},o=function(u){return u.pstyle("width").pfValue*u.pstyle("arrow-scale").pfValue*2},s=function(u,f){_(f)&&(f=r[f]),r[u]=rt({name:u,points:[-.15,-.3,.15,-.3,.15,.3,-.15,.3],collide:function(d,h,c,p,y,b){var x=i(a(this.points,c+2*b,p,y)),w=_t(d,h,x);return w},roughCollide:t,draw:function(d,h,c,p){var y=a(this.points,h,c,p);e.arrowShapeImpl("polygon")(d,y)},spacing:function(d){return 0},gap:o},f)};s("none",{collide:ra,roughCollide:ra,draw:$a,spacing:zi,gap:zi}),s("triangle",{points:[-.15,-.3,0,0,.15,-.3]}),s("arrow","triangle"),s("triangle-backcurve",{points:r.triangle.points,controlPoint:[0,-.15],roughCollide:t,draw:function(u,f,v,d,h){var c=a(this.points,f,v,d),p=this.controlPoint,y=n(p[0],p[1],f,v,d);e.arrowShapeImpl(this.name)(u,c,y)},gap:function(u){return o(u)*.8}}),s("triangle-tee",{points:[0,0,.15,-.3,-.15,-.3,0,0],pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:function(u,f,v,d,h,c,p){var y=i(a(this.points,v+2*p,d,h)),b=i(a(this.pointsTee,v+2*p,d,h)),x=_t(u,f,y)||_t(u,f,b);return x},draw:function(u,f,v,d,h){var c=a(this.points,f,v,d),p=a(this.pointsTee,f,v,d);e.arrowShapeImpl(this.name)(u,c,p)}}),s("circle-triangle",{radius:.15,pointsTr:[0,-.15,.15,-.45,-.15,-.45,0,-.15],collide:function(u,f,v,d,h,c,p){var y=h,b=Math.pow(y.x-u,2)+Math.pow(y.y-f,2)<=Math.pow((v+2*p)*this.radius,2),x=i(a(this.points,v+2*p,d,h));return _t(u,f,x)||b},draw:function(u,f,v,d,h){var c=a(this.pointsTr,f,v,d);e.arrowShapeImpl(this.name)(u,c,d.x,d.y,this.radius*f)},spacing:function(u){return e.getArrowWidth(u.pstyle("width").pfValue,u.pstyle("arrow-scale").value)*this.radius}}),s("triangle-cross",{points:[0,0,.15,-.3,-.15,-.3,0,0],baseCrossLinePts:[-.15,-.4,-.15,-.4,.15,-.4,.15,-.4],crossLinePts:function(u,f){var v=this.baseCrossLinePts.slice(),d=f/u,h=3,c=5;return v[h]=v[h]-d,v[c]=v[c]-d,v},collide:function(u,f,v,d,h,c,p){var y=i(a(this.points,v+2*p,d,h)),b=i(a(this.crossLinePts(v,c),v+2*p,d,h)),x=_t(u,f,y)||_t(u,f,b);return x},draw:function(u,f,v,d,h){var c=a(this.points,f,v,d),p=a(this.crossLinePts(f,h),f,v,d);e.arrowShapeImpl(this.name)(u,c,p)}}),s("vee",{points:[-.15,-.3,0,0,.15,-.3,0,-.15],gap:function(u){return o(u)*.525}}),s("circle",{radius:.15,collide:function(u,f,v,d,h,c,p){var y=h,b=Math.pow(y.x-u,2)+Math.pow(y.y-f,2)<=Math.pow((v+2*p)*this.radius,2);return b},draw:function(u,f,v,d,h){e.arrowShapeImpl(this.name)(u,d.x,d.y,this.radius*f)},spacing:function(u){return e.getArrowWidth(u.pstyle("width").pfValue,u.pstyle("arrow-scale").value)*this.radius}}),s("tee",{points:[-.15,0,-.15,-.1,.15,-.1,.15,0],spacing:function(u){return 1},gap:function(u){return 1}}),s("square",{points:[-.15,0,.15,0,.15,-.3,-.15,-.3]}),s("diamond",{points:[-.15,-.15,0,-.3,.15,-.15,0,0],gap:function(u){return u.pstyle("width").pfValue*u.pstyle("arrow-scale").value}}),s("chevron",{points:[0,0,-.15,-.15,-.1,-.2,0,-.1,.1,-.2,.15,-.15],gap:function(u){return .95*u.pstyle("width").pfValue*u.pstyle("arrow-scale").value}})};var Xr={};Xr.projectIntoViewport=function(r,e){var t=this.cy,n=this.findContainerClientCoords(),a=n[0],i=n[1],o=n[4],s=t.pan(),l=t.zoom(),u=((r-a)/o-s.x)/l,f=((e-i)/o-s.y)/l;return[u,f]},Xr.findContainerClientCoords=function(){if(this.containerBB)return this.containerBB;var r=this.container,e=r.getBoundingClientRect(),t=this.cy.window().getComputedStyle(r),n=function(b){return parseFloat(t.getPropertyValue(b))},a={left:n("padding-left"),right:n("padding-right"),top:n("padding-top"),bottom:n("padding-bottom")},i={left:n("border-left-width"),right:n("border-right-width"),top:n("border-top-width"),bottom:n("border-bottom-width")},o=r.clientWidth,s=r.clientHeight,l=a.left+a.right,u=a.top+a.bottom,f=i.left+i.right,v=e.width/(o+f),d=o-l,h=s-u,c=e.left+a.left+i.left,p=e.top+a.top+i.top;return this.containerBB=[c,p,d,h,v]},Xr.invalidateContainerClientCoordsCache=function(){this.containerBB=null},Xr.findNearestElement=function(r,e,t,n){return this.findNearestElements(r,e,t,n)[0]},Xr.findNearestElements=function(r,e,t,n){var a=this,i=this,o=i.getCachedZSortedEles(),s=[],l=i.cy.zoom(),u=i.cy.hasCompoundNodes(),f=(n?24:8)/l,v=(n?8:2)/l,d=(n?8:2)/l,h=1/0,c,p;t&&(o=o.interactive);function y(k,V){if(k.isNode()){if(p)return;p=k,s.push(k)}if(k.isEdge()&&(V==null||V<h))if(c){if(c.pstyle("z-compound-depth").value===k.pstyle("z-compound-depth").value&&c.pstyle("z-compound-depth").value===k.pstyle("z-compound-depth").value){for(var M=0;M<s.length;M++)if(s[M].isEdge()){s[M]=k,c=k,h=V??h;break}}}else s.push(k),c=k,h=V??h}function b(k){var V=k.outerWidth()+2*v,M=k.outerHeight()+2*v,$=V/2,K=M/2,I=k.position();if(I.x-$<=r&&r<=I.x+$&&I.y-K<=e&&e<=I.y+K){var Q=i.nodeShapes[a.getNodeShape(k)];if(Q.checkPoint(r,e,0,V,M,I.x,I.y))return y(k,0),!0}}function x(k){var V=k._private,M=V.rscratch,$=k.pstyle("width").pfValue,K=k.pstyle("arrow-scale").value,I=$/2+f,Q=I*I,H=I*2,se=V.source,fe=V.target,ne;if(M.edgeType==="segments"||M.edgeType==="straight"||M.edgeType==="haystack"){for(var J=M.allpts,q=0;q+3<J.length;q+=2)if(Xu(r,e,J[q],J[q+1],J[q+2],J[q+3],H)&&Q>(ne=_u(r,e,J[q],J[q+1],J[q+2],J[q+3])))return y(k,ne),!0}else if(M.edgeType==="bezier"||M.edgeType==="multibezier"||M.edgeType==="self"||M.edgeType==="compound"){for(var J=M.allpts,q=0;q+5<M.allpts.length;q+=4)if(Qu(r,e,J[q],J[q+1],J[q+2],J[q+3],J[q+4],J[q+5],H)&&Q>(ne=ju(r,e,J[q],J[q+1],J[q+2],J[q+3],J[q+4],J[q+5])))return y(k,ne),!0}for(var se=se||V.source,fe=fe||V.target,ye=a.getArrowWidth($,K),le=[{name:"source",x:M.arrowStartX,y:M.arrowStartY,angle:M.srcArrowAngle},{name:"target",x:M.arrowEndX,y:M.arrowEndY,angle:M.tgtArrowAngle},{name:"mid-source",x:M.midX,y:M.midY,angle:M.midsrcArrowAngle},{name:"mid-target",x:M.midX,y:M.midY,angle:M.midtgtArrowAngle}],q=0;q<le.length;q++){var me=le[q],xe=i.arrowShapes[k.pstyle(me.name+"-arrow-shape").value],ke=k.pstyle("width").pfValue;if(xe.roughCollide(r,e,ye,me.angle,{x:me.x,y:me.y},ke,f)&&xe.collide(r,e,ye,me.angle,{x:me.x,y:me.y},ke,f))return y(k),!0}u&&s.length>0&&(b(se),b(fe))}function w(k,V,M){return ur(k,V,M)}function P(k,V){var M=k._private,$=d,K;V?K=V+"-":K="",k.boundingBox();var I=M.labelBounds[V||"main"],Q=k.pstyle(K+"label").value,H=k.pstyle("text-events").strValue==="yes";if(!(!H||!Q)){var ne=w(M.rscratch,"labelX",V),J=w(M.rscratch,"labelY",V),q=w(M.rscratch,"labelAngle",V),se=k.pstyle(K+"text-margin-x").pfValue,fe=k.pstyle(K+"text-margin-y").pfValue,ye=I.x1-$-se,le=I.x2+$-se,me=I.y1-$-fe,xe=I.y2+$-fe;if(q){var ke=Math.cos(q),Ce=Math.sin(q),Ee=function(it,We){return it=it-ne,We=We-J,{x:it*ke-We*Ce+ne,y:it*Ce+We*ke+J}},ie=Ee(ye,me),De=Ee(ye,xe),Pe=Ee(le,me),ze=Ee(le,xe),Ve=[ie.x+se,ie.y+fe,Pe.x+se,Pe.y+fe,ze.x+se,ze.y+fe,De.x+se,De.y+fe];if(_t(r,e,Ve))return y(k),!0}else if(on(I,r,e))return y(k),!0}}for(var F=o.length-1;F>=0;F--){var G=o[F];G.isNode()?b(G)||P(G):x(G)||P(G)||P(G,"source")||P(G,"target")}return s},Xr.getAllInBox=function(r,e,t,n){var a=this.getCachedZSortedEles().interactive,i=[],o=Math.min(r,t),s=Math.max(r,t),l=Math.min(e,n),u=Math.max(e,n);r=o,t=s,e=l,n=u;for(var f=jt({x1:r,y1:e,x2:t,y2:n}),v=0;v<a.length;v++){var d=a[v];if(d.isNode()){var h=d,c=h.boundingBox({includeNodes:!0,includeEdges:!1,includeLabels:!1});Xa(f,c)&&!Yi(c,f)&&i.push(h)}else{var p=d,y=p._private,b=y.rscratch;if(b.startX!=null&&b.startY!=null&&!on(f,b.startX,b.startY)||b.endX!=null&&b.endY!=null&&!on(f,b.endX,b.endY))continue;if(b.edgeType==="bezier"||b.edgeType==="multibezier"||b.edgeType==="self"||b.edgeType==="compound"||b.edgeType==="segments"||b.edgeType==="haystack"){for(var x=y.rstyle.bezierPts||y.rstyle.linePts||y.rstyle.haystackPts,w=!0,P=0;P<x.length;P++)if(!Zu(f,x[P])){w=!1;break}w&&i.push(p)}else(b.edgeType==="haystack"||b.edgeType==="straight")&&i.push(p)}}return i};var Ra={};Ra.calculateArrowAngles=function(r){var e=r._private.rscratch,t=e.edgeType==="haystack",n=e.edgeType==="bezier",a=e.edgeType==="multibezier",i=e.edgeType==="segments",o=e.edgeType==="compound",s=e.edgeType==="self",l,u,f,v,d,h,b,x;if(t?(f=e.haystackPts[0],v=e.haystackPts[1],d=e.haystackPts[2],h=e.haystackPts[3]):(f=e.arrowStartX,v=e.arrowStartY,d=e.arrowEndX,h=e.arrowEndY),b=e.midX,x=e.midY,i)l=f-e.segpts[0],u=v-e.segpts[1];else if(a||o||s||n){var c=e.allpts,p=Nt(c[0],c[2],c[4],.1),y=Nt(c[1],c[3],c[5],.1);l=f-p,u=v-y}else l=f-b,u=v-x;e.srcArrowAngle=ia(l,u);var b=e.midX,x=e.midY;if(t&&(b=(f+d)/2,x=(v+h)/2),l=d-f,u=h-v,i){var c=e.allpts;if(c.length/2%2===0){var w=c.length/2,P=w-2;l=c[w]-c[P],u=c[w+1]-c[P+1]}else{var w=c.length/2-1,P=w-2,F=w+2;l=c[w]-c[P],u=c[w+1]-c[P+1]}}else if(a||o||s){var c=e.allpts,G=e.ctrlpts,k,V,M,$;if(G.length/2%2===0){var K=c.length/2-1,I=K+2,Q=I+2;k=Nt(c[K],c[I],c[Q],0),V=Nt(c[K+1],c[I+1],c[Q+1],0),M=Nt(c[K],c[I],c[Q],1e-4),$=Nt(c[K+1],c[I+1],c[Q+1],1e-4)}else{var I=c.length/2-1,K=I-2,Q=I+2;k=Nt(c[K],c[I],c[Q],.4999),V=Nt(c[K+1],c[I+1],c[Q+1],.4999),M=Nt(c[K],c[I],c[Q],.5),$=Nt(c[K+1],c[I+1],c[Q+1],.5)}l=M-k,u=$-V}if(e.midtgtArrowAngle=ia(l,u),e.midDispX=l,e.midDispY=u,l*=-1,u*=-1,i){var c=e.allpts;if(c.length/2%2!==0){var w=c.length/2-1,F=w+2;l=-(c[F]-c[w]),u=-(c[F+1]-c[w+1])}}if(e.midsrcArrowAngle=ia(l,u),i)l=d-e.segpts[e.segpts.length-2],u=h-e.segpts[e.segpts.length-1];else if(a||o||s||n){var c=e.allpts,H=c.length,p=Nt(c[H-6],c[H-4],c[H-2],.9),y=Nt(c[H-5],c[H-3],c[H-1],.9);l=d-p,u=h-y}else l=d-b,u=h-x;e.tgtArrowAngle=ia(l,u)},Ra.getArrowWidth=Ra.getArrowHeight=function(r,e){var t=this.arrowWidthCache=this.arrowWidthCache||{},n=t[r+", "+e];return n||(n=Math.max(Math.pow(r*13.37,.9),29)*e,t[r+", "+e]=n,n)};var Jt={};Jt.findHaystackPoints=function(r){for(var e=0;e<r.length;e++){var t=r[e],n=t._private,a=n.rscratch;if(!a.haystack){var i=Math.random()*2*Math.PI;a.source={x:Math.cos(i),y:Math.sin(i)},i=Math.random()*2*Math.PI,a.target={x:Math.cos(i),y:Math.sin(i)}}var o=n.source,s=n.target,l=o.position(),u=s.position(),f=o.width(),v=s.width(),d=o.height(),h=s.height(),c=t.pstyle("haystack-radius").value,p=c/2;a.haystackPts=a.allpts=[a.source.x*f*p+l.x,a.source.y*d*p+l.y,a.target.x*v*p+u.x,a.target.y*h*p+u.y],a.midX=(a.allpts[0]+a.allpts[2])/2,a.midY=(a.allpts[1]+a.allpts[3])/2,a.edgeType="haystack",a.haystack=!0,this.storeEdgeProjections(t),this.calculateArrowAngles(t),this.recalculateEdgeLabelProjections(t),this.calculateLabelAngles(t)}},Jt.findSegmentsPoints=function(r,e){var t=r._private.rscratch,n=e.posPts,a=e.intersectionPts,i=e.vectorNormInverse,o=r.pstyle("edge-distances").value,s=r.pstyle("segment-weights"),l=r.pstyle("segment-distances"),u=Math.min(s.pfValue.length,l.pfValue.length);t.edgeType="segments",t.segpts=[];for(var f=0;f<u;f++){var v=s.pfValue[f],d=l.pfValue[f],h=1-v,c=v,p=o==="node-position"?n:a,y={x:p.x1*h+p.x2*c,y:p.y1*h+p.y2*c};t.segpts.push(y.x+i.x*d,y.y+i.y*d)}},Jt.findLoopPoints=function(r,e,t,n){var a=r._private.rscratch,i=e.dirCounts,o=e.srcPos,s=r.pstyle("control-point-distances"),l=s?s.pfValue[0]:void 0,u=r.pstyle("loop-direction").pfValue,f=r.pstyle("loop-sweep").pfValue,v=r.pstyle("control-point-step-size").pfValue;a.edgeType="self";var d=t,h=v;n&&(d=0,h=l);var c=u-Math.PI/2,p=c-f/2,y=c+f/2,b=String(u+"_"+f);d=i[b]===void 0?i[b]=0:++i[b],a.ctrlpts=[o.x+Math.cos(p)*1.4*h*(d/3+1),o.y+Math.sin(p)*1.4*h*(d/3+1),o.x+Math.cos(y)*1.4*h*(d/3+1),o.y+Math.sin(y)*1.4*h*(d/3+1)]},Jt.findCompoundLoopPoints=function(r,e,t,n){var a=r._private.rscratch;a.edgeType="compound";var i=e.srcPos,o=e.tgtPos,s=e.srcW,l=e.srcH,u=e.tgtW,f=e.tgtH,v=r.pstyle("control-point-step-size").pfValue,d=r.pstyle("control-point-distances"),h=d?d.pfValue[0]:void 0,c=t,p=v;n&&(c=0,p=h);var y=50,b={x:i.x-s/2,y:i.y-l/2},x={x:o.x-u/2,y:o.y-f/2},w={x:Math.min(b.x,x.x),y:Math.min(b.y,x.y)},P=.5,F=Math.max(P,Math.log(s*.01)),G=Math.max(P,Math.log(u*.01));a.ctrlpts=[w.x,w.y-(1+Math.pow(y,1.12)/100)*p*(c/3+1)*F,w.x-(1+Math.pow(y,1.12)/100)*p*(c/3+1)*G,w.y]},Jt.findStraightEdgePoints=function(r){r._private.rscratch.edgeType="straight"},Jt.findBezierPoints=function(r,e,t,n,a){var i=r._private.rscratch,o=e.vectorNormInverse,s=e.posPts,l=e.intersectionPts,u=r.pstyle("edge-distances").value,f=r.pstyle("control-point-step-size").pfValue,v=r.pstyle("control-point-distances"),d=r.pstyle("control-point-weights"),h=v&&d?Math.min(v.value.length,d.value.length):1,c=v?v.pfValue[0]:void 0,p=d.value[0],y=n;i.edgeType=y?"multibezier":"bezier",i.ctrlpts=[];for(var b=0;b<h;b++){var x=(.5-e.eles.length/2+t)*f*(a?-1:1),w=void 0,P=$i(x);y&&(c=v?v.pfValue[b]:f,p=d.value[b]),n?w=c:w=c!==void 0?P*c:void 0;var F=w!==void 0?w:x,G=1-p,k=p,V=u==="node-position"?s:l,M={x:V.x1*G+V.x2*k,y:V.y1*G+V.y2*k};i.ctrlpts.push(M.x+o.x*F,M.y+o.y*F)}},Jt.findTaxiPoints=function(r,e){var t=r._private.rscratch;t.edgeType="segments";var n="vertical",a="horizontal",i="leftward",o="rightward",s="downward",l="upward",u="auto",f=e.posPts,v=e.srcW,d=e.srcH,h=e.tgtW,c=e.tgtH,p=r.pstyle("edge-distances").value,y=p!=="node-position",b=r.pstyle("taxi-direction").value,x=b,w=r.pstyle("taxi-turn"),P=w.units==="%",F=w.pfValue,G=F<0,k=r.pstyle("taxi-turn-min-distance").pfValue,V=y?(v+h)/2:0,M=y?(d+c)/2:0,$=f.x2-f.x1,K=f.y2-f.y1,I=function(Me,et){return Me>0?Math.max(Me-et,0):Math.min(Me+et,0)},Q=I($,V),H=I(K,M),ne=!1;x===u?b=Math.abs(Q)>Math.abs(H)?a:n:x===l||x===s?(b=n,ne=!0):(x===i||x===o)&&(b=a,ne=!0);var J=b===n,q=J?H:Q,se=J?K:$,fe=$i(se),ye=!1;!(ne&&(P||G))&&(x===s&&se<0||x===l&&se>0||x===i&&se>0||x===o&&se<0)&&(fe*=-1,q=fe*Math.abs(q),ye=!0);var le;if(P){var me=F<0?1+F:F;le=me*q}else{var xe=F<0?q:0;le=xe+F*fe}var ke=function(Me){return Math.abs(Me)<k||Math.abs(Me)>=Math.abs(q)},Ce=ke(le),Ee=ke(Math.abs(q)-Math.abs(le)),ie=Ce||Ee;if(ie&&!ye)if(J){var De=Math.abs(se)<=d/2,Pe=Math.abs($)<=h/2;if(De){var ze=(f.x1+f.x2)/2,Ve=f.y1,at=f.y2;t.segpts=[ze,Ve,ze,at]}else if(Pe){var it=(f.y1+f.y2)/2,We=f.x1,Ge=f.x2;t.segpts=[We,it,Ge,it]}else t.segpts=[f.x1,f.y2]}else{var _e=Math.abs(se)<=v/2,Qe=Math.abs(K)<=c/2;if(_e){var $e=(f.y1+f.y2)/2,je=f.x1,dt=f.x2;t.segpts=[je,$e,dt,$e]}else if(Qe){var lt=(f.x1+f.x2)/2,nt=f.y1,xt=f.y2;t.segpts=[lt,nt,lt,xt]}else t.segpts=[f.x2,f.y1]}else if(J){var Be=f.y1+le+(y?d/2*fe:0),O=f.x1,pe=f.x2;t.segpts=[O,Be,pe,Be]}else{var Le=f.x1+le+(y?v/2*fe:0),Se=f.y1,Te=f.y2;t.segpts=[Le,Se,Le,Te]}},Jt.tryToCorrectInvalidPoints=function(r,e){var t=r._private.rscratch;if(t.edgeType==="bezier"){var n=e.srcPos,a=e.tgtPos,i=e.srcW,o=e.srcH,s=e.tgtW,l=e.tgtH,u=e.srcShape,f=e.tgtShape,v=!ue(t.startX)||!ue(t.startY),d=!ue(t.arrowStartX)||!ue(t.arrowStartY),h=!ue(t.endX)||!ue(t.endY),c=!ue(t.arrowEndX)||!ue(t.arrowEndY),p=3,y=this.getArrowWidth(r.pstyle("width").pfValue,r.pstyle("arrow-scale").value)*this.arrowShapeWidth,b=p*y,x=Wr({x:t.ctrlpts[0],y:t.ctrlpts[1]},{x:t.startX,y:t.startY}),w=x<b,P=Wr({x:t.ctrlpts[0],y:t.ctrlpts[1]},{x:t.endX,y:t.endY}),F=P<b,G=!1;if(v||d||w){G=!0;var k={x:t.ctrlpts[0]-n.x,y:t.ctrlpts[1]-n.y},V=Math.sqrt(k.x*k.x+k.y*k.y),M={x:k.x/V,y:k.y/V},$=Math.max(i,o),K={x:t.ctrlpts[0]+M.x*2*$,y:t.ctrlpts[1]+M.y*2*$},I=u.intersectLine(n.x,n.y,i,o,K.x,K.y,0);w?(t.ctrlpts[0]=t.ctrlpts[0]+M.x*(b-x),t.ctrlpts[1]=t.ctrlpts[1]+M.y*(b-x)):(t.ctrlpts[0]=I[0]+M.x*b,t.ctrlpts[1]=I[1]+M.y*b)}if(h||c||F){G=!0;var Q={x:t.ctrlpts[0]-a.x,y:t.ctrlpts[1]-a.y},H=Math.sqrt(Q.x*Q.x+Q.y*Q.y),ne={x:Q.x/H,y:Q.y/H},J=Math.max(i,o),q={x:t.ctrlpts[0]+ne.x*2*J,y:t.ctrlpts[1]+ne.y*2*J},se=f.intersectLine(a.x,a.y,s,l,q.x,q.y,0);F?(t.ctrlpts[0]=t.ctrlpts[0]+ne.x*(b-P),t.ctrlpts[1]=t.ctrlpts[1]+ne.y*(b-P)):(t.ctrlpts[0]=se[0]+ne.x*b,t.ctrlpts[1]=se[1]+ne.y*b)}G&&this.findEndpoints(r)}},Jt.storeAllpts=function(r){var e=r._private.rscratch;if(e.edgeType==="multibezier"||e.edgeType==="bezier"||e.edgeType==="self"||e.edgeType==="compound"){e.allpts=[],e.allpts.push(e.startX,e.startY);for(var t=0;t+1<e.ctrlpts.length;t+=2)e.allpts.push(e.ctrlpts[t],e.ctrlpts[t+1]),t+3<e.ctrlpts.length&&e.allpts.push((e.ctrlpts[t]+e.ctrlpts[t+2])/2,(e.ctrlpts[t+1]+e.ctrlpts[t+3])/2);e.allpts.push(e.endX,e.endY);var n,a;e.ctrlpts.length/2%2===0?(n=e.allpts.length/2-1,e.midX=e.allpts[n],e.midY=e.allpts[n+1]):(n=e.allpts.length/2-3,a=.5,e.midX=Nt(e.allpts[n],e.allpts[n+2],e.allpts[n+4],a),e.midY=Nt(e.allpts[n+1],e.allpts[n+3],e.allpts[n+5],a))}else if(e.edgeType==="straight")e.allpts=[e.startX,e.startY,e.endX,e.endY],e.midX=(e.startX+e.endX+e.arrowStartX+e.arrowEndX)/4,e.midY=(e.startY+e.endY+e.arrowStartY+e.arrowEndY)/4;else if(e.edgeType==="segments")if(e.allpts=[],e.allpts.push(e.startX,e.startY),e.allpts.push.apply(e.allpts,e.segpts),e.allpts.push(e.endX,e.endY),e.segpts.length%4===0){var i=e.segpts.length/2,o=i-2;e.midX=(e.segpts[o]+e.segpts[i])/2,e.midY=(e.segpts[o+1]+e.segpts[i+1])/2}else{var s=e.segpts.length/2-1;e.midX=e.segpts[s],e.midY=e.segpts[s+1]}},Jt.checkForInvalidEdgeWarning=function(r){var e=r[0]._private.rscratch;e.nodesOverlap||ue(e.startX)&&ue(e.startY)&&ue(e.endX)&&ue(e.endY)?e.loggedErr=!1:e.loggedErr||(e.loggedErr=!0,bt("Edge `"+r.id()+"` has invalid endpoints and so it is impossible to draw.  Adjust your edge style (e.g. control points) accordingly or use an alternative edge type.  This is expected behaviour when the source node and the target node overlap."))},Jt.findEdgeControlPoints=function(r){var e=this;if(!(!r||r.length===0)){for(var t=this,n=t.cy,a=n.hasCompoundNodes(),i={map:new pr,get:function(k){var V=this.map.get(k[0]);return V!=null?V.get(k[1]):null},set:function(k,V){var M=this.map.get(k[0]);M==null&&(M=new pr,this.map.set(k[0],M)),M.set(k[1],V)}},o=[],s=[],l=0;l<r.length;l++){var u=r[l],f=u._private,v=u.pstyle("curve-style").value;if(!(u.removed()||!u.takesUpSpace())){if(v==="haystack"){s.push(u);continue}var d=v==="unbundled-bezier"||v==="segments"||v==="straight"||v==="straight-triangle"||v==="taxi",h=v==="unbundled-bezier"||v==="bezier",c=f.source,p=f.target,y=c.poolIndex(),b=p.poolIndex(),x=[y,b].sort(),w=i.get(x);w==null&&(w={eles:[]},i.set(x,w),o.push(x)),w.eles.push(u),d&&(w.hasUnbundled=!0),h&&(w.hasBezier=!0)}}for(var P=function(k){var V=o[k],M=i.get(V),$=void 0;if(!M.hasUnbundled){var K=M.eles[0].parallelEdges().filter(function(xt){return xt.isBundledBezier()});Ka(M.eles),K.forEach(function(xt){return M.eles.push(xt)}),M.eles.sort(function(xt,Be){return xt.poolIndex()-Be.poolIndex()})}var I=M.eles[0],Q=I.source(),H=I.target();if(Q.poolIndex()>H.poolIndex()){var ne=Q;Q=H,H=ne}var J=M.srcPos=Q.position(),q=M.tgtPos=H.position(),se=M.srcW=Q.outerWidth(),fe=M.srcH=Q.outerHeight(),ye=M.tgtW=H.outerWidth(),le=M.tgtH=H.outerHeight(),me=M.srcShape=t.nodeShapes[e.getNodeShape(Q)],xe=M.tgtShape=t.nodeShapes[e.getNodeShape(H)];M.dirCounts={north:0,west:0,south:0,east:0,northwest:0,southwest:0,northeast:0,southeast:0};for(var ke=0;ke<M.eles.length;ke++){var Ce=M.eles[ke],Ee=Ce[0]._private.rscratch,ie=Ce.pstyle("curve-style").value,De=ie==="unbundled-bezier"||ie==="segments"||ie==="taxi",Pe=!Q.same(Ce.source());if(!M.calculatedIntersection&&Q!==H&&(M.hasBezier||M.hasUnbundled)){M.calculatedIntersection=!0;var ze=me.intersectLine(J.x,J.y,se,fe,q.x,q.y,0),Ve=M.srcIntn=ze,at=xe.intersectLine(q.x,q.y,ye,le,J.x,J.y,0),it=M.tgtIntn=at,We=M.intersectionPts={x1:ze[0],x2:at[0],y1:ze[1],y2:at[1]},Ge=M.posPts={x1:J.x,x2:q.x,y1:J.y,y2:q.y},_e=at[1]-ze[1],Qe=at[0]-ze[0],$e=Math.sqrt(Qe*Qe+_e*_e),je=M.vector={x:Qe,y:_e},dt=M.vectorNorm={x:je.x/$e,y:je.y/$e},lt={x:-dt.y,y:dt.x};M.nodesOverlap=!ue($e)||xe.checkPoint(ze[0],ze[1],0,ye,le,q.x,q.y)||me.checkPoint(at[0],at[1],0,se,fe,J.x,J.y),M.vectorNormInverse=lt,$={nodesOverlap:M.nodesOverlap,dirCounts:M.dirCounts,calculatedIntersection:!0,hasBezier:M.hasBezier,hasUnbundled:M.hasUnbundled,eles:M.eles,srcPos:q,tgtPos:J,srcW:ye,srcH:le,tgtW:se,tgtH:fe,srcIntn:it,tgtIntn:Ve,srcShape:xe,tgtShape:me,posPts:{x1:Ge.x2,y1:Ge.y2,x2:Ge.x1,y2:Ge.y1},intersectionPts:{x1:We.x2,y1:We.y2,x2:We.x1,y2:We.y1},vector:{x:-je.x,y:-je.y},vectorNorm:{x:-dt.x,y:-dt.y},vectorNormInverse:{x:-lt.x,y:-lt.y}}}var nt=Pe?$:M;Ee.nodesOverlap=nt.nodesOverlap,Ee.srcIntn=nt.srcIntn,Ee.tgtIntn=nt.tgtIntn,a&&(Q.isParent()||Q.isChild()||H.isParent()||H.isChild())&&(Q.parents().anySame(H)||H.parents().anySame(Q)||Q.same(H)&&Q.isParent())?e.findCompoundLoopPoints(Ce,nt,ke,De):Q===H?e.findLoopPoints(Ce,nt,ke,De):ie==="segments"?e.findSegmentsPoints(Ce,nt):ie==="taxi"?e.findTaxiPoints(Ce,nt):ie==="straight"||!De&&M.eles.length%2===1&&ke===Math.floor(M.eles.length/2)?e.findStraightEdgePoints(Ce):e.findBezierPoints(Ce,nt,ke,De,Pe),e.findEndpoints(Ce),e.tryToCorrectInvalidPoints(Ce,nt),e.checkForInvalidEdgeWarning(Ce),e.storeAllpts(Ce),e.storeEdgeProjections(Ce),e.calculateArrowAngles(Ce),e.recalculateEdgeLabelProjections(Ce),e.calculateLabelAngles(Ce)}},F=0;F<o.length;F++)P(F);this.findHaystackPoints(s)}};function ps(r){var e=[];if(r!=null){for(var t=0;t<r.length;t+=2){var n=r[t],a=r[t+1];e.push({x:n,y:a})}return e}}Jt.getSegmentPoints=function(r){var e=r[0]._private.rscratch,t=e.edgeType;if(t==="segments")return this.recalculateRenderedStyle(r),ps(e.segpts)},Jt.getControlPoints=function(r){var e=r[0]._private.rscratch,t=e.edgeType;if(t==="bezier"||t==="multibezier"||t==="self"||t==="compound")return this.recalculateRenderedStyle(r),ps(e.ctrlpts)},Jt.getEdgeMidpoint=function(r){var e=r[0]._private.rscratch;return this.recalculateRenderedStyle(r),{x:e.midX,y:e.midY}};var Zn={};Zn.manualEndptToPx=function(r,e){var t=this,n=r.position(),a=r.outerWidth(),i=r.outerHeight();if(e.value.length===2){var o=[e.pfValue[0],e.pfValue[1]];return e.units[0]==="%"&&(o[0]=o[0]*a),e.units[1]==="%"&&(o[1]=o[1]*i),o[0]+=n.x,o[1]+=n.y,o}else{var s=e.pfValue[0];s=-Math.PI/2+s;var l=2*Math.max(a,i),u=[n.x+Math.cos(s)*l,n.y+Math.sin(s)*l];return t.nodeShapes[this.getNodeShape(r)].intersectLine(n.x,n.y,a,i,u[0],u[1],0)}},Zn.findEndpoints=function(r){var e=this,t,n=r.source()[0],a=r.target()[0],i=n.position(),o=a.position(),s=r.pstyle("target-arrow-shape").value,l=r.pstyle("source-arrow-shape").value,u=r.pstyle("target-distance-from-node").pfValue,f=r.pstyle("source-distance-from-node").pfValue,v=r.pstyle("curve-style").value,d=r._private.rscratch,h=d.edgeType,c=v==="taxi",p=h==="self"||h==="compound",y=h==="bezier"||h==="multibezier"||p,b=h!=="bezier",x=h==="straight"||h==="segments",w=h==="segments",P=y||b||x,F=p||c,G=r.pstyle("source-endpoint"),k=F?"outside-to-node":G.value,V=r.pstyle("target-endpoint"),M=F?"outside-to-node":V.value;d.srcManEndpt=G,d.tgtManEndpt=V;var $,K,I,Q;if(y){var H=[d.ctrlpts[0],d.ctrlpts[1]],ne=b?[d.ctrlpts[d.ctrlpts.length-2],d.ctrlpts[d.ctrlpts.length-1]]:H;$=ne,K=H}else if(x){var J=w?d.segpts.slice(0,2):[o.x,o.y],q=w?d.segpts.slice(d.segpts.length-2):[i.x,i.y];$=q,K=J}if(M==="inside-to-node")t=[o.x,o.y];else if(V.units)t=this.manualEndptToPx(a,V);else if(M==="outside-to-line")t=d.tgtIntn;else if(M==="outside-to-node"||M==="outside-to-node-or-label"?I=$:(M==="outside-to-line"||M==="outside-to-line-or-label")&&(I=[i.x,i.y]),t=e.nodeShapes[this.getNodeShape(a)].intersectLine(o.x,o.y,a.outerWidth(),a.outerHeight(),I[0],I[1],0),M==="outside-to-node-or-label"||M==="outside-to-line-or-label"){var se=a._private.rscratch,fe=se.labelWidth,ye=se.labelHeight,le=se.labelX,me=se.labelY,xe=fe/2,ke=ye/2,Ce=a.pstyle("text-valign").value;Ce==="top"?me-=ke:Ce==="bottom"&&(me+=ke);var Ee=a.pstyle("text-halign").value;Ee==="left"?le-=xe:Ee==="right"&&(le+=xe);var ie=An(I[0],I[1],[le-xe,me-ke,le+xe,me-ke,le+xe,me+ke,le-xe,me+ke],o.x,o.y);if(ie.length>0){var De=i,Pe=$r(De,nn(t)),ze=$r(De,nn(ie)),Ve=Pe;if(ze<Pe&&(t=ie,Ve=ze),ie.length>2){var at=$r(De,{x:ie[2],y:ie[3]});at<Ve&&(t=[ie[2],ie[3]])}}}var it=sa(t,$,e.arrowShapes[s].spacing(r)+u),We=sa(t,$,e.arrowShapes[s].gap(r)+u);if(d.endX=We[0],d.endY=We[1],d.arrowEndX=it[0],d.arrowEndY=it[1],k==="inside-to-node")t=[i.x,i.y];else if(G.units)t=this.manualEndptToPx(n,G);else if(k==="outside-to-line")t=d.srcIntn;else if(k==="outside-to-node"||k==="outside-to-node-or-label"?Q=K:(k==="outside-to-line"||k==="outside-to-line-or-label")&&(Q=[o.x,o.y]),t=e.nodeShapes[this.getNodeShape(n)].intersectLine(i.x,i.y,n.outerWidth(),n.outerHeight(),Q[0],Q[1],0),k==="outside-to-node-or-label"||k==="outside-to-line-or-label"){var Ge=n._private.rscratch,_e=Ge.labelWidth,Qe=Ge.labelHeight,$e=Ge.labelX,je=Ge.labelY,dt=_e/2,lt=Qe/2,nt=n.pstyle("text-valign").value;nt==="top"?je-=lt:nt==="bottom"&&(je+=lt);var xt=n.pstyle("text-halign").value;xt==="left"?$e-=dt:xt==="right"&&($e+=dt);var Be=An(Q[0],Q[1],[$e-dt,je-lt,$e+dt,je-lt,$e+dt,je+lt,$e-dt,je+lt],i.x,i.y);if(Be.length>0){var O=o,pe=$r(O,nn(t)),Le=$r(O,nn(Be)),Se=pe;if(Le<pe&&(t=[Be[0],Be[1]],Se=Le),Be.length>2){var Te=$r(O,{x:Be[2],y:Be[3]});Te<Se&&(t=[Be[2],Be[3]])}}}var ot=sa(t,K,e.arrowShapes[l].spacing(r)+f),Me=sa(t,K,e.arrowShapes[l].gap(r)+f);d.startX=Me[0],d.startY=Me[1],d.arrowStartX=ot[0],d.arrowStartY=ot[1],P&&(!ue(d.startX)||!ue(d.startY)||!ue(d.endX)||!ue(d.endY)?d.badLine=!0:d.badLine=!1)},Zn.getSourceEndpoint=function(r){var e=r[0]._private.rscratch;switch(this.recalculateRenderedStyle(r),e.edgeType){case"haystack":return{x:e.haystackPts[0],y:e.haystackPts[1]};default:return{x:e.arrowStartX,y:e.arrowStartY}}},Zn.getTargetEndpoint=function(r){var e=r[0]._private.rscratch;switch(this.recalculateRenderedStyle(r),e.edgeType){case"haystack":return{x:e.haystackPts[2],y:e.haystackPts[3]};default:return{x:e.arrowEndX,y:e.arrowEndY}}};var yi={};function kv(r,e,t){for(var n=function(u,f,v,d){return Nt(u,f,v,d)},a=e._private,i=a.rstyle.bezierPts,o=0;o<r.bezierProjPcts.length;o++){var s=r.bezierProjPcts[o];i.push({x:n(t[0],t[2],t[4],s),y:n(t[1],t[3],t[5],s)})}}yi.storeEdgeProjections=function(r){var e=r._private,t=e.rscratch,n=t.edgeType;if(e.rstyle.bezierPts=null,e.rstyle.linePts=null,e.rstyle.haystackPts=null,n==="multibezier"||n==="bezier"||n==="self"||n==="compound"){e.rstyle.bezierPts=[];for(var a=0;a+5<t.allpts.length;a+=4)kv(this,r,t.allpts.slice(a,a+6))}else if(n==="segments")for(var i=e.rstyle.linePts=[],a=0;a+1<t.allpts.length;a+=2)i.push({x:t.allpts[a],y:t.allpts[a+1]});else if(n==="haystack"){var o=t.haystackPts;e.rstyle.haystackPts=[{x:o[0],y:o[1]},{x:o[2],y:o[3]}]}e.rstyle.arrowWidth=this.getArrowWidth(r.pstyle("width").pfValue,r.pstyle("arrow-scale").value)*this.arrowShapeWidth},yi.recalculateEdgeProjections=function(r){this.findEdgeControlPoints(r)};var yr={};yr.recalculateNodeLabelProjection=function(r){var e=r.pstyle("label").strValue;if(!tt(e)){var t,n,a=r._private,i=r.width(),o=r.height(),s=r.padding(),l=r.position(),u=r.pstyle("text-halign").strValue,f=r.pstyle("text-valign").strValue,v=a.rscratch,d=a.rstyle;switch(u){case"left":t=l.x-i/2-s;break;case"right":t=l.x+i/2+s;break;default:t=l.x}switch(f){case"top":n=l.y-o/2-s;break;case"bottom":n=l.y+o/2+s;break;default:n=l.y}v.labelX=t,v.labelY=n,d.labelX=t,d.labelY=n,this.calculateLabelAngles(r),this.applyLabelDimensions(r)}};var ms=function(e,t){var n=Math.atan(t/e);return e===0&&n<0&&(n=n*-1),n},ys=function(e,t){var n=t.x-e.x,a=t.y-e.y;return ms(n,a)},Pv=function(e,t,n,a){var i=Mn(0,a-.001,1),o=Mn(0,a+.001,1),s=an(e,t,n,i),l=an(e,t,n,o);return ys(s,l)};yr.recalculateEdgeLabelProjections=function(r){var e,t=r._private,n=t.rscratch,a=this,i={mid:r.pstyle("label").strValue,source:r.pstyle("source-label").strValue,target:r.pstyle("target-label").strValue};if(i.mid||i.source||i.target){e={x:n.midX,y:n.midY};var o=function(v,d,h){Lr(t.rscratch,v,d,h),Lr(t.rstyle,v,d,h)};o("labelX",null,e.x),o("labelY",null,e.y);var s=ms(n.midDispX,n.midDispY);o("labelAutoAngle",null,s);var l=function f(){if(f.cache)return f.cache;for(var v=[],d=0;d+5<n.allpts.length;d+=4){var h={x:n.allpts[d],y:n.allpts[d+1]},c={x:n.allpts[d+2],y:n.allpts[d+3]},p={x:n.allpts[d+4],y:n.allpts[d+5]};v.push({p0:h,p1:c,p2:p,startDist:0,length:0,segments:[]})}var y=t.rstyle.bezierPts,b=a.bezierProjPcts.length;function x(k,V,M,$,K){var I=Wr(V,M),Q=k.segments[k.segments.length-1],H={p0:V,p1:M,t0:$,t1:K,startDist:Q?Q.startDist+Q.length:0,length:I};k.segments.push(H),k.length+=I}for(var w=0;w<v.length;w++){var P=v[w],F=v[w-1];F&&(P.startDist=F.startDist+F.length),x(P,P.p0,y[w*b],0,a.bezierProjPcts[0]);for(var G=0;G<b-1;G++)x(P,y[w*b+G],y[w*b+G+1],a.bezierProjPcts[G],a.bezierProjPcts[G+1]);x(P,y[w*b+b-1],P.p2,a.bezierProjPcts[b-1],1)}return f.cache=v},u=function(v){var d,h=v==="source";if(i[v]){var c=r.pstyle(v+"-text-offset").pfValue;switch(n.edgeType){case"self":case"compound":case"bezier":case"multibezier":{for(var p=l(),y,b=0,x=0,w=0;w<p.length;w++){for(var P=p[h?w:p.length-1-w],F=0;F<P.segments.length;F++){var G=P.segments[h?F:P.segments.length-1-F],k=w===p.length-1&&F===P.segments.length-1;if(b=x,x+=G.length,x>=c||k){y={cp:P,segment:G};break}}if(y)break}var V=y.cp,M=y.segment,$=(c-b)/M.length,K=M.t1-M.t0,I=h?M.t0+K*$:M.t1-K*$;I=Mn(0,I,1),e=an(V.p0,V.p1,V.p2,I),d=Pv(V.p0,V.p1,V.p2,I);break}case"straight":case"segments":case"haystack":{for(var Q=0,H,ne,J,q,se=n.allpts.length,fe=0;fe+3<se&&(h?(J={x:n.allpts[fe],y:n.allpts[fe+1]},q={x:n.allpts[fe+2],y:n.allpts[fe+3]}):(J={x:n.allpts[se-2-fe],y:n.allpts[se-1-fe]},q={x:n.allpts[se-4-fe],y:n.allpts[se-3-fe]}),H=Wr(J,q),ne=Q,Q+=H,!(Q>=c));fe+=2);var ye=c-ne,le=ye/H;le=Mn(0,le,1),e=Wu(J,q,le),d=ys(J,q);break}}o("labelX",v,e.x),o("labelY",v,e.y),o("labelAutoAngle",v,d)}};u("source"),u("target"),this.applyLabelDimensions(r)}},yr.applyLabelDimensions=function(r){this.applyPrefixedLabelDimensions(r),r.isEdge()&&(this.applyPrefixedLabelDimensions(r,"source"),this.applyPrefixedLabelDimensions(r,"target"))},yr.applyPrefixedLabelDimensions=function(r,e){var t=r._private,n=this.getLabelText(r,e),a=this.calculateLabelDimensions(r,n),i=r.pstyle("line-height").pfValue,o=r.pstyle("text-wrap").strValue,s=ur(t.rscratch,"labelWrapCachedLines",e)||[],l=o!=="wrap"?1:Math.max(s.length,1),u=a.height/l,f=u*i,v=a.width,d=a.height+(l-1)*(i-1)*u;Lr(t.rstyle,"labelWidth",e,v),Lr(t.rscratch,"labelWidth",e,v),Lr(t.rstyle,"labelHeight",e,d),Lr(t.rscratch,"labelHeight",e,d),Lr(t.rscratch,"labelLineHeight",e,f)},yr.getLabelText=function(r,e){var t=r._private,n=e?e+"-":"",a=r.pstyle(n+"label").strValue,i=r.pstyle("text-transform").value,o=function(ye,le){return le?(Lr(t.rscratch,ye,e,le),le):ur(t.rscratch,ye,e)};if(!a)return"";i=="none"||(i=="uppercase"?a=a.toUpperCase():i=="lowercase"&&(a=a.toLowerCase()));var s=r.pstyle("text-wrap").value;if(s==="wrap"){var l=o("labelKey");if(l!=null&&o("labelWrapKey")===l)return o("labelWrapCachedText");for(var u="\u200B",f=a.split(`
`),v=r.pstyle("text-max-width").pfValue,d=r.pstyle("text-overflow-wrap").value,h=d==="anywhere",c=[],p=/[\s\u200b]+/,y=h?"":" ",b=0;b<f.length;b++){var x=f[b],w=this.calculateLabelDimensions(r,x),P=w.width;if(h){var F=x.split("").join(u);x=F}if(P>v){for(var G=x.split(p),k="",V=0;V<G.length;V++){var M=G[V],$=k.length===0?M:k+y+M,K=this.calculateLabelDimensions(r,$),I=K.width;I<=v?k+=M+y:(k&&c.push(k),k=M+y)}k.match(/^[\s\u200b]+$/)||c.push(k)}else c.push(x)}o("labelWrapCachedLines",c),a=o("labelWrapCachedText",c.join(`
`)),o("labelWrapKey",l)}else if(s==="ellipsis"){var Q=r.pstyle("text-max-width").pfValue,H="",ne="\u2026",J=!1;if(this.calculateLabelDimensions(r,a).width<Q)return a;for(var q=0;q<a.length;q++){var se=this.calculateLabelDimensions(r,H+a[q]+ne).width;if(se>Q)break;H+=a[q],q===a.length-1&&(J=!0)}return J||(H+=ne),H}return a},yr.getLabelJustification=function(r){var e=r.pstyle("text-justification").strValue,t=r.pstyle("text-halign").strValue;if(e==="auto")if(r.isNode())switch(t){case"left":return"right";case"right":return"left";default:return"center"}else return"center";else return e},yr.calculateLabelDimensions=function(r,e){var t=this,n=Hr(e,r._private.labelDimsKey),a=t.labelDimCache||(t.labelDimCache=[]),i=a[n];if(i!=null)return i;var o=0,s=r.pstyle("font-style").strValue,l=r.pstyle("font-size").pfValue,u=r.pstyle("font-family").strValue,f=r.pstyle("font-weight").strValue,v=this.labelCalcCanvas,d=this.labelCalcCanvasContext;if(!v){v=this.labelCalcCanvas=document.createElement("canvas"),d=this.labelCalcCanvasContext=v.getContext("2d");var h=v.style;h.position="absolute",h.left="-9999px",h.top="-9999px",h.zIndex="-1",h.visibility="hidden",h.pointerEvents="none"}d.font="".concat(s," ").concat(f," ").concat(l,"px ").concat(u);for(var c=0,p=0,y=e.split(`
`),b=0;b<y.length;b++){var x=y[b],w=d.measureText(x),P=Math.ceil(w.width),F=l;c=Math.max(P,c),p+=F}return c+=o,p+=o,a[n]={width:c,height:p}},yr.calculateLabelAngle=function(r,e){var t=r._private,n=t.rscratch,a=r.isEdge(),i=e?e+"-":"",o=r.pstyle(i+"text-rotation"),s=o.strValue;return s==="none"?0:a&&s==="autorotate"?n.labelAutoAngle:s==="autorotate"?0:o.pfValue},yr.calculateLabelAngles=function(r){var e=this,t=r.isEdge(),n=r._private,a=n.rscratch;a.labelAngle=e.calculateLabelAngle(r),t&&(a.sourceLabelAngle=e.calculateLabelAngle(r,"source"),a.targetLabelAngle=e.calculateLabelAngle(r,"target"))};var bs={},ws=28,xs=!1;bs.getNodeShape=function(r){var e=this,t=r.pstyle("shape").value;if(t==="cutrectangle"&&(r.width()<ws||r.height()<ws))return xs||(bt("The `cutrectangle` node shape can not be used at small sizes so `rectangle` is used instead"),xs=!0),"rectangle";if(r.isParent())return t==="rectangle"||t==="roundrectangle"||t==="round-rectangle"||t==="cutrectangle"||t==="cut-rectangle"||t==="barrel"?t:"rectangle";if(t==="polygon"){var n=r.pstyle("shape-polygon-points").value;return e.nodeShapes.makePolygon(n).name}return t};var Aa={};Aa.registerCalculationListeners=function(){var r=this.cy,e=r.collection(),t=this,n=function(o){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e.merge(o),s)for(var l=0;l<o.length;l++){var u=o[l],f=u._private,v=f.rstyle;v.clean=!1,v.cleanConnected=!1}};t.binder(r).on("bounds.* dirty.*",function(o){var s=o.target;n(s)}).on("style.* background.*",function(o){var s=o.target;n(s,!1)});var a=function(o){if(o){var s=t.onUpdateEleCalcsFns;e.cleanStyle();for(var l=0;l<e.length;l++){var u=e[l],f=u._private.rstyle;u.isNode()&&!f.cleanConnected&&(n(u.connectedEdges()),f.cleanConnected=!0)}if(s)for(var v=0;v<s.length;v++){var d=s[v];d(o,e)}t.recalculateRenderedStyle(e),e=r.collection()}};t.flushRenderedStyleQueue=function(){a(!0)},t.beforeRender(a,t.beforeRenderPriorities.eleCalcs)},Aa.onUpdateEleCalcs=function(r){var e=this.onUpdateEleCalcsFns=this.onUpdateEleCalcsFns||[];e.push(r)},Aa.recalculateRenderedStyle=function(r,e){var t=function(P){return P._private.rstyle.cleanConnected},n=[],a=[];if(!this.destroyed){e===void 0&&(e=!0);for(var i=0;i<r.length;i++){var o=r[i],s=o._private,l=s.rstyle;o.isEdge()&&(!t(o.source())||!t(o.target()))&&(l.clean=!1),!(e&&l.clean||o.removed())&&o.pstyle("display").value!=="none"&&(s.group==="nodes"?a.push(o):n.push(o),l.clean=!0)}for(var u=0;u<a.length;u++){var f=a[u],v=f._private,d=v.rstyle,h=f.position();this.recalculateNodeLabelProjection(f),d.nodeX=h.x,d.nodeY=h.y,d.nodeW=f.pstyle("width").pfValue,d.nodeH=f.pstyle("height").pfValue}this.recalculateEdgeProjections(n);for(var c=0;c<n.length;c++){var p=n[c],y=p._private,b=y.rstyle,x=y.rscratch;b.srcX=x.arrowStartX,b.srcY=x.arrowStartY,b.tgtX=x.arrowEndX,b.tgtY=x.arrowEndY,b.midX=x.midX,b.midY=x.midY,b.labelAngle=x.labelAngle,b.sourceLabelAngle=x.sourceLabelAngle,b.targetLabelAngle=x.targetLabelAngle}}};var Ia={};Ia.updateCachedGrabbedEles=function(){var r=this.cachedZSortedEles;if(r){r.drag=[],r.nondrag=[];for(var e=[],t=0;t<r.length;t++){var n=r[t],a=n._private.rscratch;n.grabbed()&&!n.isParent()?e.push(n):a.inDragLayer?r.drag.push(n):r.nondrag.push(n)}for(var t=0;t<e.length;t++){var n=e[t];r.drag.push(n)}}},Ia.invalidateCachedZSortedEles=function(){this.cachedZSortedEles=null},Ia.getCachedZSortedEles=function(r){if(r||!this.cachedZSortedEles){var e=this.cy.mutableElements().toArray();e.sort(Ko),e.interactive=e.filter(function(t){return t.interactive()}),this.cachedZSortedEles=e,this.updateCachedGrabbedEles()}else e=this.cachedZSortedEles;return e};var Es={};[Xr,Ra,Jt,Zn,yi,yr,bs,Aa,Ia].forEach(function(r){rt(Es,r)});var Cs={};Cs.getCachedImage=function(r,e,t){var n=this,a=n.imageCache=n.imageCache||{},i=a[r];if(i)return i.image.complete||i.image.addEventListener("load",t),i.image;i=a[r]=a[r]||{};var o=i.image=new Image;o.addEventListener("load",t),o.addEventListener("error",function(){o.error=!0});var s="data:",l=r.substring(0,s.length).toLowerCase()===s;return l||(e=e==="null"?null:e,o.crossOrigin=e),o.src=r,o};var bn={};bn.registerBinding=function(r,e,t,n){var a=Array.prototype.slice.apply(arguments,[1]),i=this.binder(r);return i.on.apply(i,a)},bn.binder=function(r){var e=this,t=e.cy.window(),n=r===t||r===t.document||r===t.document.body||ut(r);if(e.supportsPassiveEvents==null){var a=!1;try{var i=Object.defineProperty({},"passive",{get:function(){return a=!0,!0}});t.addEventListener("test",null,i)}catch{}e.supportsPassiveEvents=a}var o=function(l,u,f){var v=Array.prototype.slice.call(arguments);return n&&e.supportsPassiveEvents&&(v[2]={capture:f??!1,passive:!1,once:!1}),e.bindings.push({target:r,args:v}),(r.addEventListener||r.on).apply(r,v),this};return{on:o,addEventListener:o,addListener:o,bind:o}},bn.nodeIsDraggable=function(r){return r&&r.isNode()&&!r.locked()&&r.grabbable()},bn.nodeIsGrabbable=function(r){return this.nodeIsDraggable(r)&&r.interactive()},bn.load=function(){var r=this,e=r.cy.window(),t=function(O){return O.selected()},n=function(O,pe,Le,Se){O==null&&(O=r.cy);for(var Te=0;Te<pe.length;Te++){var ot=pe[Te];O.emit({originalEvent:Le,type:ot,position:Se})}},a=function(O){return O.shiftKey||O.metaKey||O.ctrlKey},i=function(O,pe){var Le=!0;if(r.cy.hasCompoundNodes()&&O&&O.pannable())for(var Se=0;pe&&Se<pe.length;Se++){var O=pe[Se];if(O.isNode()&&O.isParent()&&!O.pannable()){Le=!1;break}}else Le=!0;return Le},o=function(O){O[0]._private.grabbed=!0},s=function(O){O[0]._private.grabbed=!1},l=function(O){O[0]._private.rscratch.inDragLayer=!0},u=function(O){O[0]._private.rscratch.inDragLayer=!1},f=function(O){O[0]._private.rscratch.isGrabTarget=!0},v=function(O){O[0]._private.rscratch.isGrabTarget=!1},d=function(O,pe){var Le=pe.addToList,Se=Le.has(O);!Se&&O.grabbable()&&!O.locked()&&(Le.merge(O),o(O))},h=function(O,pe){if(O.cy().hasCompoundNodes()&&!(pe.inDragLayer==null&&pe.addToList==null)){var Le=O.descendants();pe.inDragLayer&&(Le.forEach(l),Le.connectedEdges().forEach(l)),pe.addToList&&d(Le,pe)}},c=function(O,pe){pe=pe||{};var Le=O.cy().hasCompoundNodes();pe.inDragLayer&&(O.forEach(l),O.neighborhood().stdFilter(function(Se){return!Le||Se.isEdge()}).forEach(l)),pe.addToList&&O.forEach(function(Se){d(Se,pe)}),h(O,pe),b(O,{inDragLayer:pe.inDragLayer}),r.updateCachedGrabbedEles()},p=c,y=function(O){O&&(r.getCachedZSortedEles().forEach(function(pe){s(pe),u(pe),v(pe)}),r.updateCachedGrabbedEles())},b=function(O,pe){if(!(pe.inDragLayer==null&&pe.addToList==null)&&O.cy().hasCompoundNodes()){var Le=O.ancestors().orphans();if(!Le.same(O)){var Se=Le.descendants().spawnSelf().merge(Le).unmerge(O).unmerge(O.descendants()),Te=Se.connectedEdges();pe.inDragLayer&&(Te.forEach(l),Se.forEach(l)),pe.addToList&&Se.forEach(function(ot){d(ot,pe)})}}},x=function(){document.activeElement!=null&&document.activeElement.blur!=null&&document.activeElement.blur()},w=typeof MutationObserver<"u",P=typeof ResizeObserver<"u";w?(r.removeObserver=new MutationObserver(function(Be){for(var O=0;O<Be.length;O++){var pe=Be[O],Le=pe.removedNodes;if(Le)for(var Se=0;Se<Le.length;Se++){var Te=Le[Se];if(Te===r.container){r.destroy();break}}}}),r.container.parentNode&&r.removeObserver.observe(r.container.parentNode,{childList:!0})):r.registerBinding(r.container,"DOMNodeRemoved",function(Be){r.destroy()});var F=S.default(function(){r.cy.resize()},100);w&&(r.styleObserver=new MutationObserver(F),r.styleObserver.observe(r.container,{attributes:!0})),r.registerBinding(e,"resize",F),P&&(r.resizeObserver=new ResizeObserver(F),r.resizeObserver.observe(r.container));var G=function(O,pe){for(;O!=null;)pe(O),O=O.parentNode},k=function(){r.invalidateContainerClientCoordsCache()};G(r.container,function(Be){r.registerBinding(Be,"transitionend",k),r.registerBinding(Be,"animationend",k),r.registerBinding(Be,"scroll",k)}),r.registerBinding(r.container,"contextmenu",function(Be){Be.preventDefault()});var V=function(){return r.selection[4]!==0},M=function(O){for(var pe=r.findContainerClientCoords(),Le=pe[0],Se=pe[1],Te=pe[2],ot=pe[3],Me=O.touches?O.touches:[O],et=!1,mt=0;mt<Me.length;mt++){var Et=Me[mt];if(Le<=Et.clientX&&Et.clientX<=Le+Te&&Se<=Et.clientY&&Et.clientY<=Se+ot){et=!0;break}}if(!et)return!1;for(var ft=r.container,yt=O.target,st=yt.parentNode,vt=!1;st;){if(st===ft){vt=!0;break}st=st.parentNode}return!!vt};r.registerBinding(r.container,"mousedown",function(O){if(M(O)){O.preventDefault(),x(),r.hoverData.capture=!0,r.hoverData.which=O.which;var pe=r.cy,Le=[O.clientX,O.clientY],Se=r.projectIntoViewport(Le[0],Le[1]),Te=r.selection,ot=r.findNearestElements(Se[0],Se[1],!0,!1),Me=ot[0],et=r.dragData.possibleDragElements;r.hoverData.mdownPos=Se,r.hoverData.mdownGPos=Le;var mt=function(){r.hoverData.tapholdCancelled=!1,clearTimeout(r.hoverData.tapholdTimeout),r.hoverData.tapholdTimeout=setTimeout(function(){if(!r.hoverData.tapholdCancelled){var Lt=r.hoverData.down;Lt?Lt.emit({originalEvent:O,type:"taphold",position:{x:Se[0],y:Se[1]}}):pe.emit({originalEvent:O,type:"taphold",position:{x:Se[0],y:Se[1]}})}},r.tapholdDuration)};if(O.which==3){r.hoverData.cxtStarted=!0;var Et={originalEvent:O,type:"cxttapstart",position:{x:Se[0],y:Se[1]}};Me?(Me.activate(),Me.emit(Et),r.hoverData.down=Me):pe.emit(Et),r.hoverData.downTime=new Date().getTime(),r.hoverData.cxtDragged=!1}else if(O.which==1){Me&&Me.activate();{if(Me!=null&&r.nodeIsGrabbable(Me)){var ft=function(Lt){return{originalEvent:O,type:Lt,position:{x:Se[0],y:Se[1]}}},yt=function(Lt){Lt.emit(ft("grab"))};if(f(Me),!Me.selected())et=r.dragData.possibleDragElements=pe.collection(),p(Me,{addToList:et}),Me.emit(ft("grabon")).emit(ft("grab"));else{et=r.dragData.possibleDragElements=pe.collection();var st=pe.$(function(vt){return vt.isNode()&&vt.selected()&&r.nodeIsGrabbable(vt)});c(st,{addToList:et}),Me.emit(ft("grabon")),st.forEach(yt)}r.redrawHint("eles",!0),r.redrawHint("drag",!0)}r.hoverData.down=Me,r.hoverData.downs=ot,r.hoverData.downTime=new Date().getTime()}n(Me,["mousedown","tapstart","vmousedown"],O,{x:Se[0],y:Se[1]}),Me==null?(Te[4]=1,r.data.bgActivePosistion={x:Se[0],y:Se[1]},r.redrawHint("select",!0),r.redraw()):Me.pannable()&&(Te[4]=1),mt()}Te[0]=Te[2]=Se[0],Te[1]=Te[3]=Se[1]}},!1),r.registerBinding(e,"mousemove",function(O){var pe=r.hoverData.capture;if(!(!pe&&!M(O))){var Le=!1,Se=r.cy,Te=Se.zoom(),ot=[O.clientX,O.clientY],Me=r.projectIntoViewport(ot[0],ot[1]),et=r.hoverData.mdownPos,mt=r.hoverData.mdownGPos,Et=r.selection,ft=null;!r.hoverData.draggingEles&&!r.hoverData.dragging&&!r.hoverData.selecting&&(ft=r.findNearestElement(Me[0],Me[1],!0,!1));var yt=r.hoverData.last,st=r.hoverData.down,vt=[Me[0]-Et[2],Me[1]-Et[3]],Lt=r.dragData.possibleDragElements,Wt;if(mt){var vr=ot[0]-mt[0],dr=vr*vr,$t=ot[1]-mt[1],or=$t*$t,qt=dr+or;r.hoverData.isOverThresholdDrag=Wt=qt>=r.desktopTapThreshold2}var kr=a(O);Wt&&(r.hoverData.tapholdCancelled=!0);var Gr=function(){var wr=r.hoverData.dragDelta=r.hoverData.dragDelta||[];wr.length===0?(wr.push(vt[0]),wr.push(vt[1])):(wr[0]+=vt[0],wr[1]+=vt[1])};Le=!0,n(ft,["mousemove","vmousemove","tapdrag"],O,{x:Me[0],y:Me[1]});var Sn=function(){r.data.bgActivePosistion=void 0,r.hoverData.selecting||Se.emit({originalEvent:O,type:"boxstart",position:{x:Me[0],y:Me[1]}}),Et[4]=1,r.hoverData.selecting=!0,r.redrawHint("select",!0),r.redraw()};if(r.hoverData.which===3){if(Wt){var jr={originalEvent:O,type:"cxtdrag",position:{x:Me[0],y:Me[1]}};st?st.emit(jr):Se.emit(jr),r.hoverData.cxtDragged=!0,(!r.hoverData.cxtOver||ft!==r.hoverData.cxtOver)&&(r.hoverData.cxtOver&&r.hoverData.cxtOver.emit({originalEvent:O,type:"cxtdragout",position:{x:Me[0],y:Me[1]}}),r.hoverData.cxtOver=ft,ft&&ft.emit({originalEvent:O,type:"cxtdragover",position:{x:Me[0],y:Me[1]}}))}}else if(r.hoverData.dragging){if(Le=!0,Se.panningEnabled()&&Se.userPanningEnabled()){var Tn;if(r.hoverData.justStartedPan){var Fa=r.hoverData.mdownPos;Tn={x:(Me[0]-Fa[0])*Te,y:(Me[1]-Fa[1])*Te},r.hoverData.justStartedPan=!1}else Tn={x:vt[0]*Te,y:vt[1]*Te};Se.panBy(Tn),Se.emit("dragpan"),r.hoverData.dragged=!0}Me=r.projectIntoViewport(O.clientX,O.clientY)}else if(Et[4]==1&&(st==null||st.pannable())){if(Wt){if(!r.hoverData.dragging&&Se.boxSelectionEnabled()&&(kr||!Se.panningEnabled()||!Se.userPanningEnabled()))Sn();else if(!r.hoverData.selecting&&Se.panningEnabled()&&Se.userPanningEnabled()){var _r=i(st,r.hoverData.downs);_r&&(r.hoverData.dragging=!0,r.hoverData.justStartedPan=!0,Et[4]=0,r.data.bgActivePosistion=nn(et),r.redrawHint("select",!0),r.redraw())}st&&st.pannable()&&st.active()&&st.unactivate()}}else{if(st&&st.pannable()&&st.active()&&st.unactivate(),(!st||!st.grabbed())&&ft!=yt&&(yt&&n(yt,["mouseout","tapdragout"],O,{x:Me[0],y:Me[1]}),ft&&n(ft,["mouseover","tapdragover"],O,{x:Me[0],y:Me[1]}),r.hoverData.last=ft),st)if(Wt){if(Se.boxSelectionEnabled()&&kr)st&&st.grabbed()&&(y(Lt),st.emit("freeon"),Lt.emit("free"),r.dragData.didDrag&&(st.emit("dragfreeon"),Lt.emit("dragfree"))),Sn();else if(st&&st.grabbed()&&r.nodeIsDraggable(st)){var er=!r.dragData.didDrag;er&&r.redrawHint("eles",!0),r.dragData.didDrag=!0,r.hoverData.draggingEles||c(Lt,{inDragLayer:!0});var Xt={x:0,y:0};if(ue(vt[0])&&ue(vt[1])&&(Xt.x+=vt[0],Xt.y+=vt[1],er)){var tr=r.hoverData.dragDelta;tr&&ue(tr[0])&&ue(tr[1])&&(Xt.x+=tr[0],Xt.y+=tr[1])}r.hoverData.draggingEles=!0,Lt.silentShift(Xt).emit("position drag"),r.redrawHint("drag",!0),r.redraw()}}else Gr();Le=!0}if(Et[2]=Me[0],Et[3]=Me[1],Le)return O.stopPropagation&&O.stopPropagation(),O.preventDefault&&O.preventDefault(),!1}},!1);var $,K,I;r.registerBinding(e,"mouseup",function(O){var pe=r.hoverData.capture;if(pe){r.hoverData.capture=!1;var Le=r.cy,Se=r.projectIntoViewport(O.clientX,O.clientY),Te=r.selection,ot=r.findNearestElement(Se[0],Se[1],!0,!1),Me=r.dragData.possibleDragElements,et=r.hoverData.down,mt=a(O);if(r.data.bgActivePosistion&&(r.redrawHint("select",!0),r.redraw()),r.hoverData.tapholdCancelled=!0,r.data.bgActivePosistion=void 0,et&&et.unactivate(),r.hoverData.which===3){var Et={originalEvent:O,type:"cxttapend",position:{x:Se[0],y:Se[1]}};if(et?et.emit(Et):Le.emit(Et),!r.hoverData.cxtDragged){var ft={originalEvent:O,type:"cxttap",position:{x:Se[0],y:Se[1]}};et?et.emit(ft):Le.emit(ft)}r.hoverData.cxtDragged=!1,r.hoverData.which=null}else if(r.hoverData.which===1){if(n(ot,["mouseup","tapend","vmouseup"],O,{x:Se[0],y:Se[1]}),!r.dragData.didDrag&&!r.hoverData.dragged&&!r.hoverData.selecting&&!r.hoverData.isOverThresholdDrag&&(n(et,["click","tap","vclick"],O,{x:Se[0],y:Se[1]}),K=!1,O.timeStamp-I<=Le.multiClickDebounceTime()?($&&clearTimeout($),K=!0,I=null,n(et,["dblclick","dbltap","vdblclick"],O,{x:Se[0],y:Se[1]})):($=setTimeout(function(){K||n(et,["oneclick","onetap","voneclick"],O,{x:Se[0],y:Se[1]})},Le.multiClickDebounceTime()),I=O.timeStamp)),et==null&&!r.dragData.didDrag&&!r.hoverData.selecting&&!r.hoverData.dragged&&!a(O)&&(Le.$(t).unselect(["tapunselect"]),Me.length>0&&r.redrawHint("eles",!0),r.dragData.possibleDragElements=Me=Le.collection()),ot==et&&!r.dragData.didDrag&&!r.hoverData.selecting&&ot!=null&&ot._private.selectable&&(r.hoverData.dragging||(Le.selectionType()==="additive"||mt?ot.selected()?ot.unselect(["tapunselect"]):ot.select(["tapselect"]):mt||(Le.$(t).unmerge(ot).unselect(["tapunselect"]),ot.select(["tapselect"]))),r.redrawHint("eles",!0)),r.hoverData.selecting){var yt=Le.collection(r.getAllInBox(Te[0],Te[1],Te[2],Te[3]));r.redrawHint("select",!0),yt.length>0&&r.redrawHint("eles",!0),Le.emit({type:"boxend",originalEvent:O,position:{x:Se[0],y:Se[1]}});var st=function(Wt){return Wt.selectable()&&!Wt.selected()};Le.selectionType()==="additive"||mt||Le.$(t).unmerge(yt).unselect(),yt.emit("box").stdFilter(st).select().emit("boxselect"),r.redraw()}if(r.hoverData.dragging&&(r.hoverData.dragging=!1,r.redrawHint("select",!0),r.redrawHint("eles",!0),r.redraw()),!Te[4]){r.redrawHint("drag",!0),r.redrawHint("eles",!0);var vt=et&&et.grabbed();y(Me),vt&&(et.emit("freeon"),Me.emit("free"),r.dragData.didDrag&&(et.emit("dragfreeon"),Me.emit("dragfree")))}}Te[4]=0,r.hoverData.down=null,r.hoverData.cxtStarted=!1,r.hoverData.draggingEles=!1,r.hoverData.selecting=!1,r.hoverData.isOverThresholdDrag=!1,r.dragData.didDrag=!1,r.hoverData.dragged=!1,r.hoverData.dragDelta=[],r.hoverData.mdownPos=null,r.hoverData.mdownGPos=null}},!1);var Q=function(O){if(!r.scrollingPage){var pe=r.cy,Le=pe.zoom(),Se=pe.pan(),Te=r.projectIntoViewport(O.clientX,O.clientY),ot=[Te[0]*Le+Se.x,Te[1]*Le+Se.y];if(r.hoverData.draggingEles||r.hoverData.dragging||r.hoverData.cxtStarted||V()){O.preventDefault();return}if(pe.panningEnabled()&&pe.userPanningEnabled()&&pe.zoomingEnabled()&&pe.userZoomingEnabled()){O.preventDefault(),r.data.wheelZooming=!0,clearTimeout(r.data.wheelTimeout),r.data.wheelTimeout=setTimeout(function(){r.data.wheelZooming=!1,r.redrawHint("eles",!0),r.redraw()},150);var Me;O.deltaY!=null?Me=O.deltaY/-250:O.wheelDeltaY!=null?Me=O.wheelDeltaY/1e3:Me=O.wheelDelta/1e3,Me=Me*r.wheelSensitivity;var et=O.deltaMode===1;et&&(Me*=33);var mt=pe.zoom()*Math.pow(10,Me);O.type==="gesturechange"&&(mt=r.gestureStartZoom*O.scale),pe.zoom({level:mt,renderedPosition:{x:ot[0],y:ot[1]}}),pe.emit(O.type==="gesturechange"?"pinchzoom":"scrollzoom")}}};r.registerBinding(r.container,"wheel",Q,!0),r.registerBinding(e,"scroll",function(O){r.scrollingPage=!0,clearTimeout(r.scrollingPageTimeout),r.scrollingPageTimeout=setTimeout(function(){r.scrollingPage=!1},250)},!0),r.registerBinding(r.container,"gesturestart",function(O){r.gestureStartZoom=r.cy.zoom(),r.hasTouchStarted||O.preventDefault()},!0),r.registerBinding(r.container,"gesturechange",function(Be){r.hasTouchStarted||Q(Be)},!0),r.registerBinding(r.container,"mouseout",function(O){var pe=r.projectIntoViewport(O.clientX,O.clientY);r.cy.emit({originalEvent:O,type:"mouseout",position:{x:pe[0],y:pe[1]}})},!1),r.registerBinding(r.container,"mouseover",function(O){var pe=r.projectIntoViewport(O.clientX,O.clientY);r.cy.emit({originalEvent:O,type:"mouseover",position:{x:pe[0],y:pe[1]}})},!1);var H,ne,J,q,se,fe,ye,le,me,xe,ke,Ce,Ee,ie=function(O,pe,Le,Se){return Math.sqrt((Le-O)*(Le-O)+(Se-pe)*(Se-pe))},De=function(O,pe,Le,Se){return(Le-O)*(Le-O)+(Se-pe)*(Se-pe)},Pe;r.registerBinding(r.container,"touchstart",Pe=function(O){if(r.hasTouchStarted=!0,!!M(O)){x(),r.touchData.capture=!0,r.data.bgActivePosistion=void 0;var pe=r.cy,Le=r.touchData.now,Se=r.touchData.earlier;if(O.touches[0]){var Te=r.projectIntoViewport(O.touches[0].clientX,O.touches[0].clientY);Le[0]=Te[0],Le[1]=Te[1]}if(O.touches[1]){var Te=r.projectIntoViewport(O.touches[1].clientX,O.touches[1].clientY);Le[2]=Te[0],Le[3]=Te[1]}if(O.touches[2]){var Te=r.projectIntoViewport(O.touches[2].clientX,O.touches[2].clientY);Le[4]=Te[0],Le[5]=Te[1]}if(O.touches[1]){r.touchData.singleTouchMoved=!0,y(r.dragData.touchDragEles);var ot=r.findContainerClientCoords();me=ot[0],xe=ot[1],ke=ot[2],Ce=ot[3],H=O.touches[0].clientX-me,ne=O.touches[0].clientY-xe,J=O.touches[1].clientX-me,q=O.touches[1].clientY-xe,Ee=0<=H&&H<=ke&&0<=J&&J<=ke&&0<=ne&&ne<=Ce&&0<=q&&q<=Ce;var Me=pe.pan(),et=pe.zoom();se=ie(H,ne,J,q),fe=De(H,ne,J,q),ye=[(H+J)/2,(ne+q)/2],le=[(ye[0]-Me.x)/et,(ye[1]-Me.y)/et];var mt=200,Et=mt*mt;if(fe<Et&&!O.touches[2]){var ft=r.findNearestElement(Le[0],Le[1],!0,!0),yt=r.findNearestElement(Le[2],Le[3],!0,!0);ft&&ft.isNode()?(ft.activate().emit({originalEvent:O,type:"cxttapstart",position:{x:Le[0],y:Le[1]}}),r.touchData.start=ft):yt&&yt.isNode()?(yt.activate().emit({originalEvent:O,type:"cxttapstart",position:{x:Le[0],y:Le[1]}}),r.touchData.start=yt):pe.emit({originalEvent:O,type:"cxttapstart",position:{x:Le[0],y:Le[1]}}),r.touchData.start&&(r.touchData.start._private.grabbed=!1),r.touchData.cxt=!0,r.touchData.cxtDragged=!1,r.data.bgActivePosistion=void 0,r.redraw();return}}if(O.touches[2])pe.boxSelectionEnabled()&&O.preventDefault();else if(!O.touches[1]){if(O.touches[0]){var st=r.findNearestElements(Le[0],Le[1],!0,!0),vt=st[0];if(vt!=null&&(vt.activate(),r.touchData.start=vt,r.touchData.starts=st,r.nodeIsGrabbable(vt))){var Lt=r.dragData.touchDragEles=pe.collection(),Wt=null;r.redrawHint("eles",!0),r.redrawHint("drag",!0),vt.selected()?(Wt=pe.$(function(qt){return qt.selected()&&r.nodeIsGrabbable(qt)}),c(Wt,{addToList:Lt})):p(vt,{addToList:Lt}),f(vt);var vr=function(kr){return{originalEvent:O,type:kr,position:{x:Le[0],y:Le[1]}}};vt.emit(vr("grabon")),Wt?Wt.forEach(function(qt){qt.emit(vr("grab"))}):vt.emit(vr("grab"))}n(vt,["touchstart","tapstart","vmousedown"],O,{x:Le[0],y:Le[1]}),vt==null&&(r.data.bgActivePosistion={x:Te[0],y:Te[1]},r.redrawHint("select",!0),r.redraw()),r.touchData.singleTouchMoved=!1,r.touchData.singleTouchStartTime=+new Date,clearTimeout(r.touchData.tapholdTimeout),r.touchData.tapholdTimeout=setTimeout(function(){r.touchData.singleTouchMoved===!1&&!r.pinching&&!r.touchData.selecting&&n(r.touchData.start,["taphold"],O,{x:Le[0],y:Le[1]})},r.tapholdDuration)}}if(O.touches.length>=1){for(var dr=r.touchData.startPosition=[null,null,null,null,null,null],$t=0;$t<Le.length;$t++)dr[$t]=Se[$t]=Le[$t];var or=O.touches[0];r.touchData.startGPosition=[or.clientX,or.clientY]}}},!1);var ze;r.registerBinding(window,"touchmove",ze=function(O){var pe=r.touchData.capture;if(!(!pe&&!M(O))){var Le=r.selection,Se=r.cy,Te=r.touchData.now,ot=r.touchData.earlier,Me=Se.zoom();if(O.touches[0]){var et=r.projectIntoViewport(O.touches[0].clientX,O.touches[0].clientY);Te[0]=et[0],Te[1]=et[1]}if(O.touches[1]){var et=r.projectIntoViewport(O.touches[1].clientX,O.touches[1].clientY);Te[2]=et[0],Te[3]=et[1]}if(O.touches[2]){var et=r.projectIntoViewport(O.touches[2].clientX,O.touches[2].clientY);Te[4]=et[0],Te[5]=et[1]}var mt=r.touchData.startGPosition,Et;if(pe&&O.touches[0]&&mt){for(var ft=[],yt=0;yt<Te.length;yt++)ft[yt]=Te[yt]-ot[yt];var st=O.touches[0].clientX-mt[0],vt=st*st,Lt=O.touches[0].clientY-mt[1],Wt=Lt*Lt,vr=vt+Wt;Et=vr>=r.touchTapThreshold2}if(pe&&r.touchData.cxt){O.preventDefault();var dr=O.touches[0].clientX-me,$t=O.touches[0].clientY-xe,or=O.touches[1].clientX-me,qt=O.touches[1].clientY-xe,kr=De(dr,$t,or,qt),Gr=kr/fe,Sn=150,jr=Sn*Sn,Tn=1.5,Fa=Tn*Tn;if(Gr>=Fa||kr>=jr){r.touchData.cxt=!1,r.data.bgActivePosistion=void 0,r.redrawHint("select",!0);var _r={originalEvent:O,type:"cxttapend",position:{x:Te[0],y:Te[1]}};r.touchData.start?(r.touchData.start.unactivate().emit(_r),r.touchData.start=null):Se.emit(_r)}}if(pe&&r.touchData.cxt){var _r={originalEvent:O,type:"cxtdrag",position:{x:Te[0],y:Te[1]}};r.data.bgActivePosistion=void 0,r.redrawHint("select",!0),r.touchData.start?r.touchData.start.emit(_r):Se.emit(_r),r.touchData.start&&(r.touchData.start._private.grabbed=!1),r.touchData.cxtDragged=!0;var er=r.findNearestElement(Te[0],Te[1],!0,!0);(!r.touchData.cxtOver||er!==r.touchData.cxtOver)&&(r.touchData.cxtOver&&r.touchData.cxtOver.emit({originalEvent:O,type:"cxtdragout",position:{x:Te[0],y:Te[1]}}),r.touchData.cxtOver=er,er&&er.emit({originalEvent:O,type:"cxtdragover",position:{x:Te[0],y:Te[1]}}))}else if(pe&&O.touches[2]&&Se.boxSelectionEnabled())O.preventDefault(),r.data.bgActivePosistion=void 0,this.lastThreeTouch=+new Date,r.touchData.selecting||Se.emit({originalEvent:O,type:"boxstart",position:{x:Te[0],y:Te[1]}}),r.touchData.selecting=!0,r.touchData.didSelect=!0,Le[4]=1,!Le||Le.length===0||Le[0]===void 0?(Le[0]=(Te[0]+Te[2]+Te[4])/3,Le[1]=(Te[1]+Te[3]+Te[5])/3,Le[2]=(Te[0]+Te[2]+Te[4])/3+1,Le[3]=(Te[1]+Te[3]+Te[5])/3+1):(Le[2]=(Te[0]+Te[2]+Te[4])/3,Le[3]=(Te[1]+Te[3]+Te[5])/3),r.redrawHint("select",!0),r.redraw();else if(pe&&O.touches[1]&&!r.touchData.didSelect&&Se.zoomingEnabled()&&Se.panningEnabled()&&Se.userZoomingEnabled()&&Se.userPanningEnabled()){O.preventDefault(),r.data.bgActivePosistion=void 0,r.redrawHint("select",!0);var Xt=r.dragData.touchDragEles;if(Xt){r.redrawHint("drag",!0);for(var tr=0;tr<Xt.length;tr++){var Va=Xt[tr]._private;Va.grabbed=!1,Va.rscratch.inDragLayer=!1}}var wr=r.touchData.start,dr=O.touches[0].clientX-me,$t=O.touches[0].clientY-xe,or=O.touches[1].clientX-me,qt=O.touches[1].clientY-xe,Xs=ie(dr,$t,or,qt),Cd=Xs/se;if(Ee){var Sd=dr-H,Td=$t-ne,Dd=or-J,kd=qt-q,Pd=(Sd+Dd)/2,Bd=(Td+kd)/2,jn=Se.zoom(),Di=jn*Cd,Ga=Se.pan(),Qs=le[0]*jn+Ga.x,Js=le[1]*jn+Ga.y,Ld={x:-Di/jn*(Qs-Ga.x-Pd)+Qs,y:-Di/jn*(Js-Ga.y-Bd)+Js};if(wr&&wr.active()){var Xt=r.dragData.touchDragEles;y(Xt),r.redrawHint("drag",!0),r.redrawHint("eles",!0),wr.unactivate().emit("freeon"),Xt.emit("free"),r.dragData.didDrag&&(wr.emit("dragfreeon"),Xt.emit("dragfree"))}Se.viewport({zoom:Di,pan:Ld,cancelOnFailedZoom:!0}),Se.emit("pinchzoom"),se=Xs,H=dr,ne=$t,J=or,q=qt,r.pinching=!0}if(O.touches[0]){var et=r.projectIntoViewport(O.touches[0].clientX,O.touches[0].clientY);Te[0]=et[0],Te[1]=et[1]}if(O.touches[1]){var et=r.projectIntoViewport(O.touches[1].clientX,O.touches[1].clientY);Te[2]=et[0],Te[3]=et[1]}if(O.touches[2]){var et=r.projectIntoViewport(O.touches[2].clientX,O.touches[2].clientY);Te[4]=et[0],Te[5]=et[1]}}else if(O.touches[0]&&!r.touchData.didSelect){var cr=r.touchData.start,ki=r.touchData.last,er;if(!r.hoverData.draggingEles&&!r.swipePanning&&(er=r.findNearestElement(Te[0],Te[1],!0,!0)),pe&&cr!=null&&O.preventDefault(),pe&&cr!=null&&r.nodeIsDraggable(cr))if(Et){var Xt=r.dragData.touchDragEles,qs=!r.dragData.didDrag;qs&&c(Xt,{inDragLayer:!0}),r.dragData.didDrag=!0;var _n={x:0,y:0};if(ue(ft[0])&&ue(ft[1])&&(_n.x+=ft[0],_n.y+=ft[1],qs)){r.redrawHint("eles",!0);var hr=r.touchData.dragDelta;hr&&ue(hr[0])&&ue(hr[1])&&(_n.x+=hr[0],_n.y+=hr[1])}r.hoverData.draggingEles=!0,Xt.silentShift(_n).emit("position drag"),r.redrawHint("drag",!0),r.touchData.startPosition[0]==ot[0]&&r.touchData.startPosition[1]==ot[1]&&r.redrawHint("eles",!0),r.redraw()}else{var hr=r.touchData.dragDelta=r.touchData.dragDelta||[];hr.length===0?(hr.push(ft[0]),hr.push(ft[1])):(hr[0]+=ft[0],hr[1]+=ft[1])}if(n(cr||er,["touchmove","tapdrag","vmousemove"],O,{x:Te[0],y:Te[1]}),(!cr||!cr.grabbed())&&er!=ki&&(ki&&ki.emit({originalEvent:O,type:"tapdragout",position:{x:Te[0],y:Te[1]}}),er&&er.emit({originalEvent:O,type:"tapdragover",position:{x:Te[0],y:Te[1]}})),r.touchData.last=er,pe)for(var tr=0;tr<Te.length;tr++)Te[tr]&&r.touchData.startPosition[tr]&&Et&&(r.touchData.singleTouchMoved=!0);if(pe&&(cr==null||cr.pannable())&&Se.panningEnabled()&&Se.userPanningEnabled()){var Md=i(cr,r.touchData.starts);Md&&(O.preventDefault(),r.data.bgActivePosistion||(r.data.bgActivePosistion=nn(r.touchData.startPosition)),r.swipePanning?(Se.panBy({x:ft[0]*Me,y:ft[1]*Me}),Se.emit("dragpan")):Et&&(r.swipePanning=!0,Se.panBy({x:st*Me,y:Lt*Me}),Se.emit("dragpan"),cr&&(cr.unactivate(),r.redrawHint("select",!0),r.touchData.start=null)));var et=r.projectIntoViewport(O.touches[0].clientX,O.touches[0].clientY);Te[0]=et[0],Te[1]=et[1]}}for(var yt=0;yt<Te.length;yt++)ot[yt]=Te[yt];pe&&O.touches.length>0&&!r.hoverData.draggingEles&&!r.swipePanning&&r.data.bgActivePosistion!=null&&(r.data.bgActivePosistion=void 0,r.redrawHint("select",!0),r.redraw())}},!1);var Ve;r.registerBinding(e,"touchcancel",Ve=function(O){var pe=r.touchData.start;r.touchData.capture=!1,pe&&pe.unactivate()});var at,it,We,Ge;if(r.registerBinding(e,"touchend",at=function(O){var pe=r.touchData.start,Le=r.touchData.capture;if(Le)O.touches.length===0&&(r.touchData.capture=!1),O.preventDefault();else return;var Se=r.selection;r.swipePanning=!1,r.hoverData.draggingEles=!1;var Te=r.cy,ot=Te.zoom(),Me=r.touchData.now,et=r.touchData.earlier;if(O.touches[0]){var mt=r.projectIntoViewport(O.touches[0].clientX,O.touches[0].clientY);Me[0]=mt[0],Me[1]=mt[1]}if(O.touches[1]){var mt=r.projectIntoViewport(O.touches[1].clientX,O.touches[1].clientY);Me[2]=mt[0],Me[3]=mt[1]}if(O.touches[2]){var mt=r.projectIntoViewport(O.touches[2].clientX,O.touches[2].clientY);Me[4]=mt[0],Me[5]=mt[1]}pe&&pe.unactivate();var Et;if(r.touchData.cxt){if(Et={originalEvent:O,type:"cxttapend",position:{x:Me[0],y:Me[1]}},pe?pe.emit(Et):Te.emit(Et),!r.touchData.cxtDragged){var ft={originalEvent:O,type:"cxttap",position:{x:Me[0],y:Me[1]}};pe?pe.emit(ft):Te.emit(ft)}r.touchData.start&&(r.touchData.start._private.grabbed=!1),r.touchData.cxt=!1,r.touchData.start=null,r.redraw();return}if(!O.touches[2]&&Te.boxSelectionEnabled()&&r.touchData.selecting){r.touchData.selecting=!1;var yt=Te.collection(r.getAllInBox(Se[0],Se[1],Se[2],Se[3]));Se[0]=void 0,Se[1]=void 0,Se[2]=void 0,Se[3]=void 0,Se[4]=0,r.redrawHint("select",!0),Te.emit({type:"boxend",originalEvent:O,position:{x:Me[0],y:Me[1]}});var st=function(jr){return jr.selectable()&&!jr.selected()};yt.emit("box").stdFilter(st).select().emit("boxselect"),yt.nonempty()&&r.redrawHint("eles",!0),r.redraw()}if(pe?.unactivate(),O.touches[2])r.data.bgActivePosistion=void 0,r.redrawHint("select",!0);else if(!O.touches[1]){if(!O.touches[0]){if(!O.touches[0]){r.data.bgActivePosistion=void 0,r.redrawHint("select",!0);var vt=r.dragData.touchDragEles;if(pe!=null){var Lt=pe._private.grabbed;y(vt),r.redrawHint("drag",!0),r.redrawHint("eles",!0),Lt&&(pe.emit("freeon"),vt.emit("free"),r.dragData.didDrag&&(pe.emit("dragfreeon"),vt.emit("dragfree"))),n(pe,["touchend","tapend","vmouseup","tapdragout"],O,{x:Me[0],y:Me[1]}),pe.unactivate(),r.touchData.start=null}else{var Wt=r.findNearestElement(Me[0],Me[1],!0,!0);n(Wt,["touchend","tapend","vmouseup","tapdragout"],O,{x:Me[0],y:Me[1]})}var vr=r.touchData.startPosition[0]-Me[0],dr=vr*vr,$t=r.touchData.startPosition[1]-Me[1],or=$t*$t,qt=dr+or,kr=qt*ot*ot;r.touchData.singleTouchMoved||(pe||Te.$(":selected").unselect(["tapunselect"]),n(pe,["tap","vclick"],O,{x:Me[0],y:Me[1]}),it=!1,O.timeStamp-Ge<=Te.multiClickDebounceTime()?(We&&clearTimeout(We),it=!0,Ge=null,n(pe,["dbltap","vdblclick"],O,{x:Me[0],y:Me[1]})):(We=setTimeout(function(){it||n(pe,["onetap","voneclick"],O,{x:Me[0],y:Me[1]})},Te.multiClickDebounceTime()),Ge=O.timeStamp)),pe!=null&&!r.dragData.didDrag&&pe._private.selectable&&kr<r.touchTapThreshold2&&!r.pinching&&(Te.selectionType()==="single"?(Te.$(t).unmerge(pe).unselect(["tapunselect"]),pe.select(["tapselect"])):pe.selected()?pe.unselect(["tapunselect"]):pe.select(["tapselect"]),r.redrawHint("eles",!0)),r.touchData.singleTouchMoved=!0}}}for(var Gr=0;Gr<Me.length;Gr++)et[Gr]=Me[Gr];r.dragData.didDrag=!1,O.touches.length===0&&(r.touchData.dragDelta=[],r.touchData.startPosition=[null,null,null,null,null,null],r.touchData.startGPosition=null,r.touchData.didSelect=!1),O.touches.length<2&&(O.touches.length===1&&(r.touchData.startGPosition=[O.touches[0].clientX,O.touches[0].clientY]),r.pinching=!1,r.redrawHint("eles",!0),r.redraw())},!1),typeof TouchEvent>"u"){var _e=[],Qe=function(O){return{clientX:O.clientX,clientY:O.clientY,force:1,identifier:O.pointerId,pageX:O.pageX,pageY:O.pageY,radiusX:O.width/2,radiusY:O.height/2,screenX:O.screenX,screenY:O.screenY,target:O.target}},$e=function(O){return{event:O,touch:Qe(O)}},je=function(O){_e.push($e(O))},dt=function(O){for(var pe=0;pe<_e.length;pe++){var Le=_e[pe];if(Le.event.pointerId===O.pointerId){_e.splice(pe,1);return}}},lt=function(O){var pe=_e.filter(function(Le){return Le.event.pointerId===O.pointerId})[0];pe.event=O,pe.touch=Qe(O)},nt=function(O){O.touches=_e.map(function(pe){return pe.touch})},xt=function(O){return O.pointerType==="mouse"||O.pointerType===4};r.registerBinding(r.container,"pointerdown",function(Be){xt(Be)||(Be.preventDefault(),je(Be),nt(Be),Pe(Be))}),r.registerBinding(r.container,"pointerup",function(Be){xt(Be)||(dt(Be),nt(Be),at(Be))}),r.registerBinding(r.container,"pointercancel",function(Be){xt(Be)||(dt(Be),nt(Be),Ve(Be))}),r.registerBinding(r.container,"pointermove",function(Be){xt(Be)||(Be.preventDefault(),lt(Be),nt(Be),ze(Be))})}};var Tr={};Tr.generatePolygon=function(r,e){return this.nodeShapes[r]={renderer:this,name:r,points:e,draw:function(n,a,i,o,s){this.renderer.nodeShapeImpl("polygon",n,a,i,o,s,this.points)},intersectLine:function(n,a,i,o,s,l,u){return An(s,l,this.points,n,a,i/2,o/2,u)},checkPoint:function(n,a,i,o,s,l,u){return Cr(n,a,this.points,l,u,o,s,[0,-1],i)}}},Tr.generateEllipse=function(){return this.nodeShapes.ellipse={renderer:this,name:"ellipse",draw:function(e,t,n,a,i){this.renderer.nodeShapeImpl(this.name,e,t,n,a,i)},intersectLine:function(e,t,n,a,i,o,s){return tl(i,o,e,t,n/2+s,a/2+s)},checkPoint:function(e,t,n,a,i,o,s){return Kr(e,t,a,i,o,s,n)}}},Tr.generateRoundPolygon=function(r,e){for(var t=new Array(e.length*2),n=0;n<e.length/2;n++){var a=n*2,i=void 0;n<e.length/2-1?i=(n+1)*2:i=0,t[n*4]=e[a],t[n*4+1]=e[a+1];var o=e[i]-e[a],s=e[i+1]-e[a+1],l=Math.sqrt(o*o+s*s);t[n*4+2]=o/l,t[n*4+3]=s/l}return this.nodeShapes[r]={renderer:this,name:r,points:t,draw:function(f,v,d,h,c){this.renderer.nodeShapeImpl("round-polygon",f,v,d,h,c,this.points)},intersectLine:function(f,v,d,h,c,p,y){return rl(c,p,this.points,f,v,d,h)},checkPoint:function(f,v,d,h,c,p,y){return el(f,v,this.points,p,y,h,c)}}},Tr.generateRoundRectangle=function(){return this.nodeShapes["round-rectangle"]=this.nodeShapes.roundrectangle={renderer:this,name:"round-rectangle",points:Qt(4,0),draw:function(e,t,n,a,i){this.renderer.nodeShapeImpl(this.name,e,t,n,a,i)},intersectLine:function(e,t,n,a,i,o,s){return Ui(i,o,e,t,n,a,s)},checkPoint:function(e,t,n,a,i,o,s){var l=In(a,i),u=l*2;return!!(Cr(e,t,this.points,o,s,a,i-u,[0,-1],n)||Cr(e,t,this.points,o,s,a-u,i,[0,-1],n)||Kr(e,t,u,u,o-a/2+l,s-i/2+l,n)||Kr(e,t,u,u,o+a/2-l,s-i/2+l,n)||Kr(e,t,u,u,o+a/2-l,s+i/2-l,n)||Kr(e,t,u,u,o-a/2+l,s+i/2-l,n))}}},Tr.generateCutRectangle=function(){return this.nodeShapes["cut-rectangle"]=this.nodeShapes.cutrectangle={renderer:this,name:"cut-rectangle",cornerLength:Ji(),points:Qt(4,0),draw:function(e,t,n,a,i){this.renderer.nodeShapeImpl(this.name,e,t,n,a,i)},generateCutTrianglePts:function(e,t,n,a){var i=this.cornerLength,o=t/2,s=e/2,l=n-s,u=n+s,f=a-o,v=a+o;return{topLeft:[l,f+i,l+i,f,l+i,f+i],topRight:[u-i,f,u,f+i,u-i,f+i],bottomRight:[u,v-i,u-i,v,u-i,v-i],bottomLeft:[l+i,v,l,v-i,l+i,v-i]}},intersectLine:function(e,t,n,a,i,o,s){var l=this.generateCutTrianglePts(n+2*s,a+2*s,e,t),u=[].concat.apply([],[l.topLeft.splice(0,4),l.topRight.splice(0,4),l.bottomRight.splice(0,4),l.bottomLeft.splice(0,4)]);return An(i,o,u,e,t)},checkPoint:function(e,t,n,a,i,o,s){if(Cr(e,t,this.points,o,s,a,i-2*this.cornerLength,[0,-1],n)||Cr(e,t,this.points,o,s,a-2*this.cornerLength,i,[0,-1],n))return!0;var l=this.generateCutTrianglePts(a,i,o,s);return _t(e,t,l.topLeft)||_t(e,t,l.topRight)||_t(e,t,l.bottomRight)||_t(e,t,l.bottomLeft)}}},Tr.generateBarrel=function(){return this.nodeShapes.barrel={renderer:this,name:"barrel",points:Qt(4,0),draw:function(e,t,n,a,i){this.renderer.nodeShapeImpl(this.name,e,t,n,a,i)},intersectLine:function(e,t,n,a,i,o,s){var l=.15,u=.5,f=.85,v=this.generateBarrelBezierPts(n+2*s,a+2*s,e,t),d=function(p){var y=an({x:p[0],y:p[1]},{x:p[2],y:p[3]},{x:p[4],y:p[5]},l),b=an({x:p[0],y:p[1]},{x:p[2],y:p[3]},{x:p[4],y:p[5]},u),x=an({x:p[0],y:p[1]},{x:p[2],y:p[3]},{x:p[4],y:p[5]},f);return[p[0],p[1],y.x,y.y,b.x,b.y,x.x,x.y,p[4],p[5]]},h=[].concat(d(v.topLeft),d(v.topRight),d(v.bottomRight),d(v.bottomLeft));return An(i,o,h,e,t)},generateBarrelBezierPts:function(e,t,n,a){var i=t/2,o=e/2,s=n-o,l=n+o,u=a-i,f=a+i,v=ja(e,t),d=v.heightOffset,h=v.widthOffset,c=v.ctrlPtOffsetPct*e,p={topLeft:[s,u+d,s+c,u,s+h,u],topRight:[l-h,u,l-c,u,l,u+d],bottomRight:[l,f-d,l-c,f,l-h,f],bottomLeft:[s+h,f,s+c,f,s,f-d]};return p.topLeft.isTop=!0,p.topRight.isTop=!0,p.bottomLeft.isBottom=!0,p.bottomRight.isBottom=!0,p},checkPoint:function(e,t,n,a,i,o,s){var l=ja(a,i),u=l.heightOffset,f=l.widthOffset;if(Cr(e,t,this.points,o,s,a,i-2*u,[0,-1],n)||Cr(e,t,this.points,o,s,a-2*f,i,[0,-1],n))return!0;for(var v=this.generateBarrelBezierPts(a,i,o,s),d=function(k,V,M){var $=M[4],K=M[2],I=M[0],Q=M[5],H=M[1],ne=Math.min($,I),J=Math.max($,I),q=Math.min(Q,H),se=Math.max(Q,H);if(ne<=k&&k<=J&&q<=V&&V<=se){var fe=nl($,K,I),ye=Ju(fe[0],fe[1],fe[2],k),le=ye.filter(function(me){return 0<=me&&me<=1});if(le.length>0)return le[0]}return null},h=Object.keys(v),c=0;c<h.length;c++){var p=h[c],y=v[p],b=d(e,t,y);if(b!=null){var x=y[5],w=y[3],P=y[1],F=Nt(x,w,P,b);if(y.isTop&&F<=t||y.isBottom&&t<=F)return!0}}return!1}}},Tr.generateBottomRoundrectangle=function(){return this.nodeShapes["bottom-round-rectangle"]=this.nodeShapes.bottomroundrectangle={renderer:this,name:"bottom-round-rectangle",points:Qt(4,0),draw:function(e,t,n,a,i){this.renderer.nodeShapeImpl(this.name,e,t,n,a,i)},intersectLine:function(e,t,n,a,i,o,s){var l=e-(n/2+s),u=t-(a/2+s),f=u,v=e+(n/2+s),d=Mr(i,o,e,t,l,u,v,f,!1);return d.length>0?d:Ui(i,o,e,t,n,a,s)},checkPoint:function(e,t,n,a,i,o,s){var l=In(a,i),u=2*l;if(Cr(e,t,this.points,o,s,a,i-u,[0,-1],n)||Cr(e,t,this.points,o,s,a-u,i,[0,-1],n))return!0;var f=a/2+2*n,v=i/2+2*n,d=[o-f,s-v,o-f,s,o+f,s,o+f,s-v];return!!(_t(e,t,d)||Kr(e,t,u,u,o+a/2-l,s+i/2-l,n)||Kr(e,t,u,u,o-a/2+l,s+i/2-l,n))}}},Tr.registerNodeShapes=function(){var r=this.nodeShapes={},e=this;this.generateEllipse(),this.generatePolygon("triangle",Qt(3,0)),this.generateRoundPolygon("round-triangle",Qt(3,0)),this.generatePolygon("rectangle",Qt(4,0)),r.square=r.rectangle,this.generateRoundRectangle(),this.generateCutRectangle(),this.generateBarrel(),this.generateBottomRoundrectangle();{var t=[0,1,1,0,0,-1,-1,0];this.generatePolygon("diamond",t),this.generateRoundPolygon("round-diamond",t)}this.generatePolygon("pentagon",Qt(5,0)),this.generateRoundPolygon("round-pentagon",Qt(5,0)),this.generatePolygon("hexagon",Qt(6,0)),this.generateRoundPolygon("round-hexagon",Qt(6,0)),this.generatePolygon("heptagon",Qt(7,0)),this.generateRoundPolygon("round-heptagon",Qt(7,0)),this.generatePolygon("octagon",Qt(8,0)),this.generateRoundPolygon("round-octagon",Qt(8,0));var n=new Array(20);{var a=Ja(5,0),i=Ja(5,Math.PI/5),o=.5*(3-Math.sqrt(5));o*=1.57;for(var s=0;s<i.length/2;s++)i[s*2]*=o,i[s*2+1]*=o;for(var s=0;s<20/4;s++)n[s*4]=a[s*2],n[s*4+1]=a[s*2+1],n[s*4+2]=i[s*2],n[s*4+3]=i[s*2+1]}n=Qi(n),this.generatePolygon("star",n),this.generatePolygon("vee",[-1,-1,0,-.333,1,-1,0,1]),this.generatePolygon("rhomboid",[-1,-1,.333,-1,1,1,-.333,1]),this.generatePolygon("right-rhomboid",[-.333,-1,1,-1,.333,1,-1,1]),this.nodeShapes.concavehexagon=this.generatePolygon("concave-hexagon",[-1,-.95,-.75,0,-1,.95,1,.95,.75,0,1,-.95]);{var l=[-1,-1,.25,-1,1,0,.25,1,-1,1];this.generatePolygon("tag",l),this.generateRoundPolygon("round-tag",l)}r.makePolygon=function(u){var f=u.join("$"),v="polygon-"+f,d;return(d=this[v])?d:e.generatePolygon(v,u)}};var Xn={};Xn.timeToRender=function(){return this.redrawTotalTime/this.redrawCount},Xn.redraw=function(r){r=r||Gi();var e=this;e.averageRedrawTime===void 0&&(e.averageRedrawTime=0),e.lastRedrawTime===void 0&&(e.lastRedrawTime=0),e.lastDrawTime===void 0&&(e.lastDrawTime=0),e.requestedFrame=!0,e.renderOptions=r},Xn.beforeRender=function(r,e){if(!this.destroyed){e==null&&Pt("Priority is not optional for beforeRender");var t=this.beforeRenderCallbacks;t.push({fn:r,priority:e}),t.sort(function(n,a){return a.priority-n.priority})}};var Ss=function(e,t,n){for(var a=e.beforeRenderCallbacks,i=0;i<a.length;i++)a[i].fn(t,n)};Xn.startRenderLoop=function(){var r=this,e=r.cy;if(!r.renderLoopStarted){r.renderLoopStarted=!0;var t=function n(a){if(!r.destroyed){if(!e.batching())if(r.requestedFrame&&!r.skipFrame){Ss(r,!0,a);var i=Er();r.render(r.renderOptions);var o=r.lastDrawTime=Er();r.averageRedrawTime===void 0&&(r.averageRedrawTime=o-i),r.redrawCount===void 0&&(r.redrawCount=0),r.redrawCount++,r.redrawTotalTime===void 0&&(r.redrawTotalTime=0);var s=o-i;r.redrawTotalTime+=s,r.lastRedrawTime=s,r.averageRedrawTime=r.averageRedrawTime/2+s/2,r.requestedFrame=!1}else Ss(r,!1,a);r.skipFrame=!1,ea(n)}};ea(t)}};var Bv=function(e){this.init(e)},Ts=Bv,wn=Ts.prototype;wn.clientFunctions=["redrawHint","render","renderTo","matchCanvasSize","nodeShapeImpl","arrowShapeImpl"],wn.init=function(r){var e=this;e.options=r,e.cy=r.cy;var t=e.container=r.cy.container(),n=e.cy.window();if(n){var a=n.document,i=a.head,o="__________cytoscape_stylesheet",s="__________cytoscape_container",l=a.getElementById(o)!=null;if(t.className.indexOf(s)<0&&(t.className=(t.className||"")+" "+s),!l){var u=a.createElement("style");u.id=o,u.textContent="."+s+" { position: relative; }",i.insertBefore(u,i.children[0])}var f=n.getComputedStyle(t),v=f.getPropertyValue("position");v==="static"&&bt("A Cytoscape container has style position:static and so can not use UI extensions properly")}e.selection=[void 0,void 0,void 0,void 0,0],e.bezierProjPcts=[.05,.225,.4,.5,.6,.775,.95],e.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},e.dragData={possibleDragElements:[]},e.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},e.redraws=0,e.showFps=r.showFps,e.debug=r.debug,e.hideEdgesOnViewport=r.hideEdgesOnViewport,e.textureOnViewport=r.textureOnViewport,e.wheelSensitivity=r.wheelSensitivity,e.motionBlurEnabled=r.motionBlur,e.forcedPixelRatio=ue(r.pixelRatio)?r.pixelRatio:null,e.motionBlur=r.motionBlur,e.motionBlurOpacity=r.motionBlurOpacity,e.motionBlurTransparency=1-e.motionBlurOpacity,e.motionBlurPxRatio=1,e.mbPxRBlurry=1,e.minMbLowQualFrames=4,e.fullQualityMb=!1,e.clearedForMotionBlur=[],e.desktopTapThreshold=r.desktopTapThreshold,e.desktopTapThreshold2=r.desktopTapThreshold*r.desktopTapThreshold,e.touchTapThreshold=r.touchTapThreshold,e.touchTapThreshold2=r.touchTapThreshold*r.touchTapThreshold,e.tapholdDuration=500,e.bindings=[],e.beforeRenderCallbacks=[],e.beforeRenderPriorities={animations:400,eleCalcs:300,eleTxrDeq:200,lyrTxrDeq:150,lyrTxrSkip:100},e.registerNodeShapes(),e.registerArrowShapes(),e.registerCalculationListeners()},wn.notify=function(r,e){var t=this,n=t.cy;if(!this.destroyed){if(r==="init"){t.load();return}if(r==="destroy"){t.destroy();return}(r==="add"||r==="remove"||r==="move"&&n.hasCompoundNodes()||r==="load"||r==="zorder"||r==="mount")&&t.invalidateCachedZSortedEles(),r==="viewport"&&t.redrawHint("select",!0),(r==="load"||r==="resize"||r==="mount")&&(t.invalidateContainerClientCoordsCache(),t.matchCanvasSize(t.container)),t.redrawHint("eles",!0),t.redrawHint("drag",!0),this.startRenderLoop(),this.redraw()}},wn.destroy=function(){var r=this;r.destroyed=!0,r.cy.stopAnimationLoop();for(var e=0;e<r.bindings.length;e++){var t=r.bindings[e],n=t,a=n.target;(a.off||a.removeEventListener).apply(a,n.args)}if(r.bindings=[],r.beforeRenderCallbacks=[],r.onUpdateEleCalcsFns=[],r.removeObserver&&r.removeObserver.disconnect(),r.styleObserver&&r.styleObserver.disconnect(),r.resizeObserver&&r.resizeObserver.disconnect(),r.labelCalcDiv)try{document.body.removeChild(r.labelCalcDiv)}catch{}},wn.isHeadless=function(){return!1},[mi,Es,Cs,bn,Tr,Xn].forEach(function(r){rt(wn,r)});var bi=1e3/60,Ds={setupDequeueing:function(e){return function(){var n=this,a=this.renderer;if(!n.dequeueingSetup){n.dequeueingSetup=!0;var i=S.default(function(){a.redrawHint("eles",!0),a.redrawHint("drag",!0),a.redraw()},e.deqRedrawThreshold),o=function(u,f){var v=Er(),d=a.averageRedrawTime,h=a.lastRedrawTime,c=[],p=a.cy.extent(),y=a.getPixelRatio();for(u||a.flushRenderedStyleQueue();;){var b=Er(),x=b-v,w=b-f;if(h<bi){var P=bi-(u?d:0);if(w>=e.deqFastCost*P)break}else if(u){if(x>=e.deqCost*h||x>=e.deqAvgCost*d)break}else if(w>=e.deqNoDrawCost*bi)break;var F=e.deq(n,y,p);if(F.length>0)for(var G=0;G<F.length;G++)c.push(F[G]);else break}c.length>0&&(e.onDeqd(n,c),!u&&e.shouldRedraw(n,c,y,p)&&i())},s=e.priority||$a;a.beforeRender(o,s(n))}}}},Lv=function(){function r(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ra;ee(this,r),this.idsByKey=new pr,this.keyForId=new pr,this.cachesByLvl=new pr,this.lvls=[],this.getKey=e,this.doesEleInvalidateKey=t}return re(r,[{key:"getIdsFor",value:function(t){t==null&&Pt("Can not get id list for null key");var n=this.idsByKey,a=this.idsByKey.get(t);return a||(a=new rn,n.set(t,a)),a}},{key:"addIdForKey",value:function(t,n){t!=null&&this.getIdsFor(t).add(n)}},{key:"deleteIdForKey",value:function(t,n){t!=null&&this.getIdsFor(t).delete(n)}},{key:"getNumberOfIdsForKey",value:function(t){return t==null?0:this.getIdsFor(t).size}},{key:"updateKeyMappingFor",value:function(t){var n=t.id(),a=this.keyForId.get(n),i=this.getKey(t);this.deleteIdForKey(a,n),this.addIdForKey(i,n),this.keyForId.set(n,i)}},{key:"deleteKeyMappingFor",value:function(t){var n=t.id(),a=this.keyForId.get(n);this.deleteIdForKey(a,n),this.keyForId.delete(n)}},{key:"keyHasChangedFor",value:function(t){var n=t.id(),a=this.keyForId.get(n),i=this.getKey(t);return a!==i}},{key:"isInvalid",value:function(t){return this.keyHasChangedFor(t)||this.doesEleInvalidateKey(t)}},{key:"getCachesAt",value:function(t){var n=this.cachesByLvl,a=this.lvls,i=n.get(t);return i||(i=new pr,n.set(t,i),a.push(t)),i}},{key:"getCache",value:function(t,n){return this.getCachesAt(n).get(t)}},{key:"get",value:function(t,n){var a=this.getKey(t),i=this.getCache(a,n);return i!=null&&this.updateKeyMappingFor(t),i}},{key:"getForCachedKey",value:function(t,n){var a=this.keyForId.get(t.id()),i=this.getCache(a,n);return i}},{key:"hasCache",value:function(t,n){return this.getCachesAt(n).has(t)}},{key:"has",value:function(t,n){var a=this.getKey(t);return this.hasCache(a,n)}},{key:"setCache",value:function(t,n,a){a.key=t,this.getCachesAt(n).set(t,a)}},{key:"set",value:function(t,n,a){var i=this.getKey(t);this.setCache(i,n,a),this.updateKeyMappingFor(t)}},{key:"deleteCache",value:function(t,n){this.getCachesAt(n).delete(t)}},{key:"delete",value:function(t,n){var a=this.getKey(t);this.deleteCache(a,n)}},{key:"invalidateKey",value:function(t){var n=this;this.lvls.forEach(function(a){return n.deleteCache(t,a)})}},{key:"invalidate",value:function(t){var n=t.id(),a=this.keyForId.get(n);this.deleteKeyMappingFor(t);var i=this.doesEleInvalidateKey(t);return i&&this.invalidateKey(a),i||this.getNumberOfIdsForKey(a)===0}}]),r}(),ks=25,Oa=50,Na=-4,wi=3,Mv=7.99,Rv=8,Av=1024,Iv=1024,Ov=1024,Nv=.2,zv=.8,Fv=10,Vv=.15,Gv=.1,Hv=.9,Wv=.9,$v=100,Kv=1,xn={dequeue:"dequeue",downscale:"downscale",highQuality:"highQuality"},Yv=zt({getKey:null,doesEleInvalidateKey:ra,drawElement:null,getBoundingBox:null,getRotationPoint:null,getRotationOffset:null,isVisible:Ni,allowEdgeTxrCaching:!0,allowParentTxrCaching:!0}),Qn=function(e,t){var n=this;n.renderer=e,n.onDequeues=[];var a=Yv(t);rt(n,a),n.lookup=new Lv(a.getKey,a.doesEleInvalidateKey),n.setupDequeueing()},It=Qn.prototype;It.reasons=xn,It.getTextureQueue=function(r){var e=this;return e.eleImgCaches=e.eleImgCaches||{},e.eleImgCaches[r]=e.eleImgCaches[r]||[]},It.getRetiredTextureQueue=function(r){var e=this,t=e.eleImgCaches.retired=e.eleImgCaches.retired||{},n=t[r]=t[r]||[];return n},It.getElementQueue=function(){var r=this,e=r.eleCacheQueue=r.eleCacheQueue||new D.default(function(t,n){return n.reqs-t.reqs});return e},It.getElementKeyToQueue=function(){var r=this,e=r.eleKeyToCacheQueue=r.eleKeyToCacheQueue||{};return e},It.getElement=function(r,e,t,n,a){var i=this,o=this.renderer,s=o.cy.zoom(),l=this.lookup;if(!e||e.w===0||e.h===0||isNaN(e.w)||isNaN(e.h)||!r.visible()||r.removed()||!i.allowEdgeTxrCaching&&r.isEdge()||!i.allowParentTxrCaching&&r.isParent())return null;if(n==null&&(n=Math.ceil(Ua(s*t))),n<Na)n=Na;else if(s>=Mv||n>wi)return null;var u=Math.pow(2,n),f=e.h*u,v=e.w*u,d=o.eleTextBiggerThanMin(r,u);if(!this.isVisible(r,d))return null;var h=l.get(r,n);if(h&&h.invalidated&&(h.invalidated=!1,h.texture.invalidatedWidth-=h.width),h)return h;var c;if(f<=ks?c=ks:f<=Oa?c=Oa:c=Math.ceil(f/Oa)*Oa,f>Ov||v>Iv)return null;var p=i.getTextureQueue(c),y=p[p.length-2],b=function(){return i.recycleTexture(c,v)||i.addTexture(c,v)};y||(y=p[p.length-1]),y||(y=b()),y.width-y.usedWidth<v&&(y=b());for(var x=function(J){return J&&J.scaledLabelShown===d},w=a&&a===xn.dequeue,P=a&&a===xn.highQuality,F=a&&a===xn.downscale,G,k=n+1;k<=wi;k++){var V=l.get(r,k);if(V){G=V;break}}var M=G&&G.level===n+1?G:null,$=function(){y.context.drawImage(M.texture.canvas,M.x,0,M.width,M.height,y.usedWidth,0,v,f)};if(y.context.setTransform(1,0,0,1,0,0),y.context.clearRect(y.usedWidth,0,v,c),x(M))$();else if(x(G))if(P){for(var K=G.level;K>n;K--)M=i.getElement(r,e,t,K,xn.downscale);$()}else return i.queueElement(r,G.level-1),G;else{var I;if(!w&&!P&&!F)for(var Q=n-1;Q>=Na;Q--){var H=l.get(r,Q);if(H){I=H;break}}if(x(I))return i.queueElement(r,n),I;y.context.translate(y.usedWidth,0),y.context.scale(u,u),this.drawElement(y.context,r,e,d,!1),y.context.scale(1/u,1/u),y.context.translate(-y.usedWidth,0)}return h={x:y.usedWidth,texture:y,level:n,scale:u,width:v,height:f,scaledLabelShown:d},y.usedWidth+=Math.ceil(v+Rv),y.eleCaches.push(h),l.set(r,n,h),i.checkTextureFullness(y),h},It.invalidateElements=function(r){for(var e=0;e<r.length;e++)this.invalidateElement(r[e])},It.invalidateElement=function(r){var e=this,t=e.lookup,n=[],a=t.isInvalid(r);if(a){for(var i=Na;i<=wi;i++){var o=t.getForCachedKey(r,i);o&&n.push(o)}var s=t.invalidate(r);if(s)for(var l=0;l<n.length;l++){var u=n[l],f=u.texture;f.invalidatedWidth+=u.width,u.invalidated=!0,e.checkTextureUtility(f)}e.removeFromQueue(r)}},It.checkTextureUtility=function(r){r.invalidatedWidth>=Nv*r.width&&this.retireTexture(r)},It.checkTextureFullness=function(r){var e=this,t=e.getTextureQueue(r.height);r.usedWidth/r.width>zv&&r.fullnessChecks>=Fv?Br(t,r):r.fullnessChecks++},It.retireTexture=function(r){var e=this,t=r.height,n=e.getTextureQueue(t),a=this.lookup;Br(n,r),r.retired=!0;for(var i=r.eleCaches,o=0;o<i.length;o++){var s=i[o];a.deleteCache(s.key,s.level)}Ka(i);var l=e.getRetiredTextureQueue(t);l.push(r)},It.addTexture=function(r,e){var t=this,n=t.getTextureQueue(r),a={};return n.push(a),a.eleCaches=[],a.height=r,a.width=Math.max(Av,e),a.usedWidth=0,a.invalidatedWidth=0,a.fullnessChecks=0,a.canvas=t.renderer.makeOffscreenCanvas(a.width,a.height),a.context=a.canvas.getContext("2d"),a},It.recycleTexture=function(r,e){for(var t=this,n=t.getTextureQueue(r),a=t.getRetiredTextureQueue(r),i=0;i<a.length;i++){var o=a[i];if(o.width>=e)return o.retired=!1,o.usedWidth=0,o.invalidatedWidth=0,o.fullnessChecks=0,Ka(o.eleCaches),o.context.setTransform(1,0,0,1,0,0),o.context.clearRect(0,0,o.width,o.height),Br(a,o),n.push(o),o}},It.queueElement=function(r,e){var t=this,n=t.getElementQueue(),a=t.getElementKeyToQueue(),i=this.getKey(r),o=a[i];if(o)o.level=Math.max(o.level,e),o.eles.merge(r),o.reqs++,n.updateItem(o);else{var s={eles:r.spawn().merge(r),level:e,reqs:1,key:i};n.push(s),a[i]=s}},It.dequeue=function(r){for(var e=this,t=e.getElementQueue(),n=e.getElementKeyToQueue(),a=[],i=e.lookup,o=0;o<Kv&&t.size()>0;o++){var s=t.pop(),l=s.key,u=s.eles[0],f=i.hasCache(u,s.level);if(n[l]=null,f)continue;a.push(s);var v=e.getBoundingBox(u);e.getElement(u,v,r,s.level,xn.dequeue)}return a},It.removeFromQueue=function(r){var e=this,t=e.getElementQueue(),n=e.getElementKeyToQueue(),a=this.getKey(r),i=n[a];i!=null&&(i.eles.length===1?(i.reqs=Wa,t.updateItem(i),t.pop(),n[a]=null):i.eles.unmerge(r))},It.onDequeue=function(r){this.onDequeues.push(r)},It.offDequeue=function(r){Br(this.onDequeues,r)},It.setupDequeueing=Ds.setupDequeueing({deqRedrawThreshold:$v,deqCost:Vv,deqAvgCost:Gv,deqNoDrawCost:Hv,deqFastCost:Wv,deq:function(e,t,n){return e.dequeue(t,n)},onDeqd:function(e,t){for(var n=0;n<e.onDequeues.length;n++){var a=e.onDequeues[n];a(t)}},shouldRedraw:function(e,t,n,a){for(var i=0;i<t.length;i++)for(var o=t[i].eles,s=0;s<o.length;s++){var l=o[s].boundingBox();if(Xa(l,a))return!0}return!1},priority:function(e){return e.renderer.beforeRenderPriorities.eleTxrDeq}});var Uv=1,Jn=-4,za=2,Zv=3.99,Xv=50,Qv=50,Jv=.15,qv=.1,jv=.9,_v=.9,ed=1,Ps=250,td=4e3*4e3,rd=!0,Bs=function(e){var t=this,n=t.renderer=e,a=n.cy;t.layersByLevel={},t.firstGet=!0,t.lastInvalidationTime=Er()-2*Ps,t.skipping=!1,t.eleTxrDeqs=a.collection(),t.scheduleElementRefinement=S.default(function(){t.refineElementTextures(t.eleTxrDeqs),t.eleTxrDeqs.unmerge(t.eleTxrDeqs)},Qv),n.beforeRender(function(o,s){s-t.lastInvalidationTime<=Ps?t.skipping=!0:t.skipping=!1},n.beforeRenderPriorities.lyrTxrSkip);var i=function(s,l){return l.reqs-s.reqs};t.layersQueue=new D.default(i),t.setupDequeueing()},Ht=Bs.prototype,Ls=0,nd=Math.pow(2,53)-1;Ht.makeLayer=function(r,e){var t=Math.pow(2,e),n=Math.ceil(r.w*t),a=Math.ceil(r.h*t),i=this.renderer.makeOffscreenCanvas(n,a),o={id:Ls=++Ls%nd,bb:r,level:e,width:n,height:a,canvas:i,context:i.getContext("2d"),eles:[],elesQueue:[],reqs:0},s=o.context,l=-o.bb.x1,u=-o.bb.y1;return s.scale(t,t),s.translate(l,u),o},Ht.getLayers=function(r,e,t){var n=this,a=n.renderer,i=a.cy,o=i.zoom(),s=n.firstGet;if(n.firstGet=!1,t==null){if(t=Math.ceil(Ua(o*e)),t<Jn)t=Jn;else if(o>=Zv||t>za)return null}n.validateLayersElesOrdering(t,r);var l=n.layersByLevel,u=Math.pow(2,t),f=l[t]=l[t]||[],v,d=n.levelIsComplete(t,r),h,c=function(){var $=function(ne){if(n.validateLayersElesOrdering(ne,r),n.levelIsComplete(ne,r))return h=l[ne],!0},K=function(ne){if(!h)for(var J=t+ne;Jn<=J&&J<=za&&!$(J);J+=ne);};K(1),K(-1);for(var I=f.length-1;I>=0;I--){var Q=f[I];Q.invalid&&Br(f,Q)}};if(!d)c();else return f;var p=function(){if(!v){v=jt();for(var $=0;$<r.length;$++)Yu(v,r[$].boundingBox())}return v},y=function($){$=$||{};var K=$.after;p();var I=v.w*u*(v.h*u);if(I>td)return null;var Q=n.makeLayer(v,t);if(K!=null){var H=f.indexOf(K)+1;f.splice(H,0,Q)}else($.insert===void 0||$.insert)&&f.unshift(Q);return Q};if(n.skipping&&!s)return null;for(var b=null,x=r.length/Uv,w=!s,P=0;P<r.length;P++){var F=r[P],G=F._private.rscratch,k=G.imgLayerCaches=G.imgLayerCaches||{},V=k[t];if(V){b=V;continue}if((!b||b.eles.length>=x||!Yi(b.bb,F.boundingBox()))&&(b=y({insert:!0,after:b}),!b))return null;h||w?n.queueLayer(b,F):n.drawEleInLayer(b,F,t,e),b.eles.push(F),k[t]=b}return h||(w?null:f)},Ht.getEleLevelForLayerLevel=function(r,e){return r},Ht.drawEleInLayer=function(r,e,t,n){var a=this,i=this.renderer,o=r.context,s=e.boundingBox();s.w===0||s.h===0||!e.visible()||(t=a.getEleLevelForLayerLevel(t,n),i.setImgSmoothing(o,!1),i.drawCachedElement(o,e,null,null,t,rd),i.setImgSmoothing(o,!0))},Ht.levelIsComplete=function(r,e){var t=this,n=t.layersByLevel[r];if(!n||n.length===0)return!1;for(var a=0,i=0;i<n.length;i++){var o=n[i];if(o.reqs>0||o.invalid)return!1;a+=o.eles.length}return a===e.length},Ht.validateLayersElesOrdering=function(r,e){var t=this.layersByLevel[r];if(t)for(var n=0;n<t.length;n++){for(var a=t[n],i=-1,o=0;o<e.length;o++)if(a.eles[0]===e[o]){i=o;break}if(i<0){this.invalidateLayer(a);continue}for(var s=i,o=0;o<a.eles.length;o++)if(a.eles[o]!==e[s+o]){this.invalidateLayer(a);break}}},Ht.updateElementsInLayers=function(r,e){for(var t=this,n=ct(r[0]),a=0;a<r.length;a++)for(var i=n?null:r[a],o=n?r[a]:r[a].ele,s=o._private.rscratch,l=s.imgLayerCaches=s.imgLayerCaches||{},u=Jn;u<=za;u++){var f=l[u];f&&(i&&t.getEleLevelForLayerLevel(f.level)!==i.level||e(f,o,i))}},Ht.haveLayers=function(){for(var r=this,e=!1,t=Jn;t<=za;t++){var n=r.layersByLevel[t];if(n&&n.length>0){e=!0;break}}return e},Ht.invalidateElements=function(r){var e=this;r.length!==0&&(e.lastInvalidationTime=Er(),!(r.length===0||!e.haveLayers())&&e.updateElementsInLayers(r,function(n,a,i){e.invalidateLayer(n)}))},Ht.invalidateLayer=function(r){if(this.lastInvalidationTime=Er(),!r.invalid){var e=r.level,t=r.eles,n=this.layersByLevel[e];Br(n,r),r.elesQueue=[],r.invalid=!0,r.replacement&&(r.replacement.invalid=!0);for(var a=0;a<t.length;a++){var i=t[a]._private.rscratch.imgLayerCaches;i&&(i[e]=null)}}},Ht.refineElementTextures=function(r){var e=this;e.updateElementsInLayers(r,function(n,a,i){var o=n.replacement;if(o||(o=n.replacement=e.makeLayer(n.bb,n.level),o.replaces=n,o.eles=n.eles),!o.reqs)for(var s=0;s<o.eles.length;s++)e.queueLayer(o,o.eles[s])})},Ht.enqueueElementRefinement=function(r){this.eleTxrDeqs.merge(r),this.scheduleElementRefinement()},Ht.queueLayer=function(r,e){var t=this,n=t.layersQueue,a=r.elesQueue,i=a.hasId=a.hasId||{};if(!r.replacement){if(e){if(i[e.id()])return;a.push(e),i[e.id()]=!0}r.reqs?(r.reqs++,n.updateItem(r)):(r.reqs=1,n.push(r))}},Ht.dequeue=function(r){for(var e=this,t=e.layersQueue,n=[],a=0;a<ed&&t.size()!==0;){var i=t.peek();if(i.replacement){t.pop();continue}if(i.replaces&&i!==i.replaces.replacement){t.pop();continue}if(i.invalid){t.pop();continue}var o=i.elesQueue.shift();o&&(e.drawEleInLayer(i,o,i.level,r),a++),n.length===0&&n.push(!0),i.elesQueue.length===0&&(t.pop(),i.reqs=0,i.replaces&&e.applyLayerReplacement(i),e.requestRedraw())}return n},Ht.applyLayerReplacement=function(r){var e=this,t=e.layersByLevel[r.level],n=r.replaces,a=t.indexOf(n);if(!(a<0||n.invalid)){t[a]=r;for(var i=0;i<r.eles.length;i++){var o=r.eles[i]._private,s=o.imgLayerCaches=o.imgLayerCaches||{};s&&(s[r.level]=r)}e.requestRedraw()}},Ht.requestRedraw=S.default(function(){var r=this.renderer;r.redrawHint("eles",!0),r.redrawHint("drag",!0),r.redraw()},100),Ht.setupDequeueing=Ds.setupDequeueing({deqRedrawThreshold:Xv,deqCost:Jv,deqAvgCost:qv,deqNoDrawCost:jv,deqFastCost:_v,deq:function(e,t){return e.dequeue(t)},onDeqd:$a,shouldRedraw:Ni,priority:function(e){return e.renderer.beforeRenderPriorities.lyrTxrDeq}});var Ms={},Rs;function ad(r,e){for(var t=0;t<e.length;t++){var n=e[t];r.lineTo(n.x,n.y)}}function id(r,e,t){for(var n,a=0;a<e.length;a++){var i=e[a];a===0&&(n=i),r.lineTo(i.x,i.y)}r.quadraticCurveTo(t.x,t.y,n.x,n.y)}function As(r,e,t){r.beginPath&&r.beginPath();for(var n=e,a=0;a<n.length;a++){var i=n[a];r.lineTo(i.x,i.y)}var o=t,s=t[0];r.moveTo(s.x,s.y);for(var a=1;a<o.length;a++){var i=o[a];r.lineTo(i.x,i.y)}r.closePath&&r.closePath()}function od(r,e,t,n,a){r.beginPath&&r.beginPath(),r.arc(t,n,a,0,Math.PI*2,!1);var i=e,o=i[0];r.moveTo(o.x,o.y);for(var s=0;s<i.length;s++){var l=i[s];r.lineTo(l.x,l.y)}r.closePath&&r.closePath()}function sd(r,e,t,n){r.arc(e,t,n,0,Math.PI*2,!1)}Ms.arrowShapeImpl=function(r){return(Rs||(Rs={polygon:ad,"triangle-backcurve":id,"triangle-tee":As,"circle-triangle":od,"triangle-cross":As,circle:sd}))[r]};var br={};br.drawElement=function(r,e,t,n,a,i){var o=this;e.isNode()?o.drawNode(r,e,t,n,a,i):o.drawEdge(r,e,t,n,a,i)},br.drawElementOverlay=function(r,e){var t=this;e.isNode()?t.drawNodeOverlay(r,e):t.drawEdgeOverlay(r,e)},br.drawElementUnderlay=function(r,e){var t=this;e.isNode()?t.drawNodeUnderlay(r,e):t.drawEdgeUnderlay(r,e)},br.drawCachedElementPortion=function(r,e,t,n,a,i,o,s){var l=this,u=t.getBoundingBox(e);if(!(u.w===0||u.h===0)){var f=t.getElement(e,u,n,a,i);if(f!=null){var v=s(l,e);if(v===0)return;var d=o(l,e),h=u.x1,c=u.y1,p=u.w,y=u.h,b,x,w,P,F;if(d!==0){var G=t.getRotationPoint(e);w=G.x,P=G.y,r.translate(w,P),r.rotate(d),F=l.getImgSmoothing(r),F||l.setImgSmoothing(r,!0);var k=t.getRotationOffset(e);b=k.x,x=k.y}else b=h,x=c;var V;v!==1&&(V=r.globalAlpha,r.globalAlpha=V*v),r.drawImage(f.texture.canvas,f.x,0,f.width,f.height,b,x,p,y),v!==1&&(r.globalAlpha=V),d!==0&&(r.rotate(-d),r.translate(-w,-P),F||l.setImgSmoothing(r,!1))}else t.drawElement(r,e)}};var ud=function(){return 0},ld=function(e,t){return e.getTextAngle(t,null)},fd=function(e,t){return e.getTextAngle(t,"source")},vd=function(e,t){return e.getTextAngle(t,"target")},dd=function(e,t){return t.effectiveOpacity()},xi=function(e,t){return t.pstyle("text-opacity").pfValue*t.effectiveOpacity()};br.drawCachedElement=function(r,e,t,n,a,i){var o=this,s=o.data,l=s.eleTxrCache,u=s.lblTxrCache,f=s.slbTxrCache,v=s.tlbTxrCache,d=e.boundingBox(),h=i===!0?l.reasons.highQuality:null;if(!(d.w===0||d.h===0||!e.visible())&&(!n||Xa(d,n))){var c=e.isEdge(),p=e.element()._private.rscratch.badLine;o.drawElementUnderlay(r,e),o.drawCachedElementPortion(r,e,l,t,a,h,ud,dd),(!c||!p)&&o.drawCachedElementPortion(r,e,u,t,a,h,ld,xi),c&&!p&&(o.drawCachedElementPortion(r,e,f,t,a,h,fd,xi),o.drawCachedElementPortion(r,e,v,t,a,h,vd,xi)),o.drawElementOverlay(r,e)}},br.drawElements=function(r,e){for(var t=this,n=0;n<e.length;n++){var a=e[n];t.drawElement(r,a)}},br.drawCachedElements=function(r,e,t,n){for(var a=this,i=0;i<e.length;i++){var o=e[i];a.drawCachedElement(r,o,t,n)}},br.drawCachedNodes=function(r,e,t,n){for(var a=this,i=0;i<e.length;i++){var o=e[i];o.isNode()&&a.drawCachedElement(r,o,t,n)}},br.drawLayeredElements=function(r,e,t,n){var a=this,i=a.data.lyrTxrCache.getLayers(e,t);if(i)for(var o=0;o<i.length;o++){var s=i[o],l=s.bb;l.w===0||l.h===0||r.drawImage(s.canvas,l.x1,l.y1,l.w,l.h)}else a.drawCachedElements(r,e,t,n)};var Dr={};Dr.drawEdge=function(r,e,t){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,o=this,s=e._private.rscratch;if(!(i&&!e.visible())&&!(s.badLine||s.allpts==null||isNaN(s.allpts[0]))){var l;t&&(l=t,r.translate(-l.x1,-l.y1));var u=i?e.pstyle("opacity").value:1,f=i?e.pstyle("line-opacity").value:1,v=e.pstyle("curve-style").value,d=e.pstyle("line-style").value,h=e.pstyle("width").pfValue,c=e.pstyle("line-cap").value,p=u*f,y=u*f,b=function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:p;v==="straight-triangle"?(o.eleStrokeStyle(r,e,I),o.drawEdgeTrianglePath(e,r,s.allpts)):(r.lineWidth=h,r.lineCap=c,o.eleStrokeStyle(r,e,I),o.drawEdgePath(e,r,s.allpts,d),r.lineCap="butt")},x=function(){a&&o.drawEdgeOverlay(r,e)},w=function(){a&&o.drawEdgeUnderlay(r,e)},P=function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:y;o.drawArrowheads(r,e,I)},F=function(){o.drawElementText(r,e,null,n)};r.lineJoin="round";var G=e.pstyle("ghost").value==="yes";if(G){var k=e.pstyle("ghost-offset-x").pfValue,V=e.pstyle("ghost-offset-y").pfValue,M=e.pstyle("ghost-opacity").value,$=p*M;r.translate(k,V),b($),P($),r.translate(-k,-V)}w(),b(),P(),x(),F(),t&&r.translate(l.x1,l.y1)}};var Is=function(e){if(!["overlay","underlay"].includes(e))throw new Error("Invalid state");return function(t,n){if(n.visible()){var a=n.pstyle("".concat(e,"-opacity")).value;if(a!==0){var i=this,o=i.usePaths(),s=n._private.rscratch,l=n.pstyle("".concat(e,"-padding")).pfValue,u=2*l,f=n.pstyle("".concat(e,"-color")).value;t.lineWidth=u,s.edgeType==="self"&&!o?t.lineCap="butt":t.lineCap="round",i.colorStrokeStyle(t,f[0],f[1],f[2],a),i.drawEdgePath(n,t,s.allpts,"solid")}}}};Dr.drawEdgeOverlay=Is("overlay"),Dr.drawEdgeUnderlay=Is("underlay"),Dr.drawEdgePath=function(r,e,t,n){var a=r._private.rscratch,i=e,o,s=!1,l=this.usePaths(),u=r.pstyle("line-dash-pattern").pfValue,f=r.pstyle("line-dash-offset").pfValue;if(l){var v=t.join("$"),d=a.pathCacheKey&&a.pathCacheKey===v;d?(o=e=a.pathCache,s=!0):(o=e=new Path2D,a.pathCacheKey=v,a.pathCache=o)}if(i.setLineDash)switch(n){case"dotted":i.setLineDash([1,1]);break;case"dashed":i.setLineDash(u),i.lineDashOffset=f;break;case"solid":i.setLineDash([]);break}if(!s&&!a.badLine)switch(e.beginPath&&e.beginPath(),e.moveTo(t[0],t[1]),a.edgeType){case"bezier":case"self":case"compound":case"multibezier":for(var h=2;h+3<t.length;h+=4)e.quadraticCurveTo(t[h],t[h+1],t[h+2],t[h+3]);break;case"straight":case"segments":case"haystack":for(var c=2;c+1<t.length;c+=2)e.lineTo(t[c],t[c+1]);break}e=i,l?e.stroke(o):e.stroke(),e.setLineDash&&e.setLineDash([])},Dr.drawEdgeTrianglePath=function(r,e,t){e.fillStyle=e.strokeStyle;for(var n=r.pstyle("width").pfValue,a=0;a+1<t.length;a+=2){var i=[t[a+2]-t[a],t[a+3]-t[a+1]],o=Math.sqrt(i[0]*i[0]+i[1]*i[1]),s=[i[1]/o,-i[0]/o],l=[s[0]*n/2,s[1]*n/2];e.beginPath(),e.moveTo(t[a]-l[0],t[a+1]-l[1]),e.lineTo(t[a]+l[0],t[a+1]+l[1]),e.lineTo(t[a+2],t[a+3]),e.closePath(),e.fill()}},Dr.drawArrowheads=function(r,e,t){var n=e._private.rscratch,a=n.edgeType==="haystack";a||this.drawArrowhead(r,e,"source",n.arrowStartX,n.arrowStartY,n.srcArrowAngle,t),this.drawArrowhead(r,e,"mid-target",n.midX,n.midY,n.midtgtArrowAngle,t),this.drawArrowhead(r,e,"mid-source",n.midX,n.midY,n.midsrcArrowAngle,t),a||this.drawArrowhead(r,e,"target",n.arrowEndX,n.arrowEndY,n.tgtArrowAngle,t)},Dr.drawArrowhead=function(r,e,t,n,a,i,o){if(!(isNaN(n)||n==null||isNaN(a)||a==null||isNaN(i)||i==null)){var s=this,l=e.pstyle(t+"-arrow-shape").value;if(l!=="none"){var u=e.pstyle(t+"-arrow-fill").value==="hollow"?"both":"filled",f=e.pstyle(t+"-arrow-fill").value,v=e.pstyle("width").pfValue,d=e.pstyle("opacity").value;o===void 0&&(o=d);var h=r.globalCompositeOperation;(o!==1||f==="hollow")&&(r.globalCompositeOperation="destination-out",s.colorFillStyle(r,255,255,255,1),s.colorStrokeStyle(r,255,255,255,1),s.drawArrowShape(e,r,u,v,l,n,a,i),r.globalCompositeOperation=h);var c=e.pstyle(t+"-arrow-color").value;s.colorFillStyle(r,c[0],c[1],c[2],o),s.colorStrokeStyle(r,c[0],c[1],c[2],o),s.drawArrowShape(e,r,f,v,l,n,a,i)}}},Dr.drawArrowShape=function(r,e,t,n,a,i,o,s){var l=this,u=this.usePaths()&&a!=="triangle-cross",f=!1,v,d=e,h={x:i,y:o},c=r.pstyle("arrow-scale").value,p=this.getArrowWidth(n,c),y=l.arrowShapes[a];if(u){var b=l.arrowPathCache=l.arrowPathCache||[],x=Hr(a),w=b[x];w!=null?(v=e=w,f=!0):(v=e=new Path2D,b[x]=v)}f||(e.beginPath&&e.beginPath(),u?y.draw(e,1,0,{x:0,y:0},1):y.draw(e,p,s,h,n),e.closePath&&e.closePath()),e=d,u&&(e.translate(i,o),e.rotate(s),e.scale(p,p)),(t==="filled"||t==="both")&&(u?e.fill(v):e.fill()),(t==="hollow"||t==="both")&&(e.lineWidth=(y.matchEdgeWidth?n:1)/(u?p:1),e.lineJoin="miter",u?e.stroke(v):e.stroke()),u&&(e.scale(1/p,1/p),e.rotate(-s),e.translate(-i,-o))};var Ei={};Ei.safeDrawImage=function(r,e,t,n,a,i,o,s,l,u){if(!(a<=0||i<=0||l<=0||u<=0))try{r.drawImage(e,t,n,a,i,o,s,l,u)}catch(f){bt(f)}},Ei.drawInscribedImage=function(r,e,t,n,a){var i=this,o=t.position(),s=o.x,l=o.y,u=t.cy().style(),f=u.getIndexedStyle.bind(u),v=f(t,"background-fit","value",n),d=f(t,"background-repeat","value",n),h=t.width(),c=t.height(),p=t.padding()*2,y=h+(f(t,"background-width-relative-to","value",n)==="inner"?0:p),b=c+(f(t,"background-height-relative-to","value",n)==="inner"?0:p),x=t._private.rscratch,w=f(t,"background-clip","value",n),P=w==="node",F=f(t,"background-image-opacity","value",n)*a,G=f(t,"background-image-smoothing","value",n),k=e.width||e.cachedW,V=e.height||e.cachedH;(k==null||V==null)&&(document.body.appendChild(e),k=e.cachedW=e.width||e.offsetWidth,V=e.cachedH=e.height||e.offsetHeight,document.body.removeChild(e));var M=k,$=V;if(f(t,"background-width","value",n)!=="auto"&&(f(t,"background-width","units",n)==="%"?M=f(t,"background-width","pfValue",n)*y:M=f(t,"background-width","pfValue",n)),f(t,"background-height","value",n)!=="auto"&&(f(t,"background-height","units",n)==="%"?$=f(t,"background-height","pfValue",n)*b:$=f(t,"background-height","pfValue",n)),!(M===0||$===0)){if(v==="contain"){var K=Math.min(y/M,b/$);M*=K,$*=K}else if(v==="cover"){var K=Math.max(y/M,b/$);M*=K,$*=K}var I=s-y/2,Q=f(t,"background-position-x","units",n),H=f(t,"background-position-x","pfValue",n);Q==="%"?I+=(y-M)*H:I+=H;var ne=f(t,"background-offset-x","units",n),J=f(t,"background-offset-x","pfValue",n);ne==="%"?I+=(y-M)*J:I+=J;var q=l-b/2,se=f(t,"background-position-y","units",n),fe=f(t,"background-position-y","pfValue",n);se==="%"?q+=(b-$)*fe:q+=fe;var ye=f(t,"background-offset-y","units",n),le=f(t,"background-offset-y","pfValue",n);ye==="%"?q+=(b-$)*le:q+=le,x.pathCache&&(I-=s,q-=l,s=0,l=0);var me=r.globalAlpha;r.globalAlpha=F;var xe=i.getImgSmoothing(r),ke=!1;if(G==="no"&&xe?(i.setImgSmoothing(r,!1),ke=!0):G==="yes"&&!xe&&(i.setImgSmoothing(r,!0),ke=!0),d==="no-repeat")P&&(r.save(),x.pathCache?r.clip(x.pathCache):(i.nodeShapes[i.getNodeShape(t)].draw(r,s,l,y,b),r.clip())),i.safeDrawImage(r,e,0,0,k,V,I,q,M,$),P&&r.restore();else{var Ce=r.createPattern(e,d);r.fillStyle=Ce,i.nodeShapes[i.getNodeShape(t)].draw(r,s,l,y,b),r.translate(I,q),r.fill(),r.translate(-I,-q)}r.globalAlpha=me,ke&&i.setImgSmoothing(r,xe)}};var Qr={};Qr.eleTextBiggerThanMin=function(r,e){if(!e){var t=r.cy().zoom(),n=this.getPixelRatio(),a=Math.ceil(Ua(t*n));e=Math.pow(2,a)}var i=r.pstyle("font-size").pfValue*e,o=r.pstyle("min-zoomed-font-size").pfValue;return!(i<o)},Qr.drawElementText=function(r,e,t,n,a){var i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,o=this;if(n==null){if(i&&!o.eleTextBiggerThanMin(e))return}else if(n===!1)return;if(e.isNode()){var s=e.pstyle("label");if(!s||!s.value)return;var l=o.getLabelJustification(e);r.textAlign=l,r.textBaseline="bottom"}else{var u=e.element()._private.rscratch.badLine,f=e.pstyle("label"),v=e.pstyle("source-label"),d=e.pstyle("target-label");if(u||(!f||!f.value)&&(!v||!v.value)&&(!d||!d.value))return;r.textAlign="center",r.textBaseline="bottom"}var h=!t,c;t&&(c=t,r.translate(-c.x1,-c.y1)),a==null?(o.drawText(r,e,null,h,i),e.isEdge()&&(o.drawText(r,e,"source",h,i),o.drawText(r,e,"target",h,i))):o.drawText(r,e,a,h,i),t&&r.translate(c.x1,c.y1)},Qr.getFontCache=function(r){var e;this.fontCaches=this.fontCaches||[];for(var t=0;t<this.fontCaches.length;t++)if(e=this.fontCaches[t],e.context===r)return e;return e={context:r},this.fontCaches.push(e),e},Qr.setupTextStyle=function(r,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,n=e.pstyle("font-style").strValue,a=e.pstyle("font-size").pfValue+"px",i=e.pstyle("font-family").strValue,o=e.pstyle("font-weight").strValue,s=t?e.effectiveOpacity()*e.pstyle("text-opacity").value:1,l=e.pstyle("text-outline-opacity").value*s,u=e.pstyle("color").value,f=e.pstyle("text-outline-color").value;r.font=n+" "+o+" "+a+" "+i,r.lineJoin="round",this.colorFillStyle(r,u[0],u[1],u[2],s),this.colorStrokeStyle(r,f[0],f[1],f[2],l)};function cd(r,e,t,n,a){var i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:5;r.beginPath(),r.moveTo(e+i,t),r.lineTo(e+n-i,t),r.quadraticCurveTo(e+n,t,e+n,t+i),r.lineTo(e+n,t+a-i),r.quadraticCurveTo(e+n,t+a,e+n-i,t+a),r.lineTo(e+i,t+a),r.quadraticCurveTo(e,t+a,e,t+a-i),r.lineTo(e,t+i),r.quadraticCurveTo(e,t,e+i,t),r.closePath(),r.fill()}Qr.getTextAngle=function(r,e){var t,n=r._private,a=n.rscratch,i=e?e+"-":"",o=r.pstyle(i+"text-rotation"),s=ur(a,"labelAngle",e);return o.strValue==="autorotate"?t=r.isEdge()?s:0:o.strValue==="none"?t=0:t=o.pfValue,t},Qr.drawText=function(r,e,t){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,i=e._private,o=i.rscratch,s=a?e.effectiveOpacity():1;if(!(a&&(s===0||e.pstyle("text-opacity").value===0))){t==="main"&&(t=null);var l=ur(o,"labelX",t),u=ur(o,"labelY",t),f,v,d=this.getLabelText(e,t);if(d!=null&&d!==""&&!isNaN(l)&&!isNaN(u)){this.setupTextStyle(r,e,a);var h=t?t+"-":"",c=ur(o,"labelWidth",t),p=ur(o,"labelHeight",t),y=e.pstyle(h+"text-margin-x").pfValue,b=e.pstyle(h+"text-margin-y").pfValue,x=e.isEdge(),w=e.pstyle("text-halign").value,P=e.pstyle("text-valign").value;x&&(w="center",P="center"),l+=y,u+=b;var F;switch(n?F=this.getTextAngle(e,t):F=0,F!==0&&(f=l,v=u,r.translate(f,v),r.rotate(F),l=0,u=0),P){case"top":break;case"center":u+=p/2;break;case"bottom":u+=p;break}var G=e.pstyle("text-background-opacity").value,k=e.pstyle("text-border-opacity").value,V=e.pstyle("text-border-width").pfValue,M=e.pstyle("text-background-padding").pfValue;if(G>0||V>0&&k>0){var $=l-M;switch(w){case"left":$-=c;break;case"center":$-=c/2;break}var K=u-p-M,I=c+2*M,Q=p+2*M;if(G>0){var H=r.fillStyle,ne=e.pstyle("text-background-color").value;r.fillStyle="rgba("+ne[0]+","+ne[1]+","+ne[2]+","+G*s+")";var J=e.pstyle("text-background-shape").strValue;J.indexOf("round")===0?cd(r,$,K,I,Q,2):r.fillRect($,K,I,Q),r.fillStyle=H}if(V>0&&k>0){var q=r.strokeStyle,se=r.lineWidth,fe=e.pstyle("text-border-color").value,ye=e.pstyle("text-border-style").value;if(r.strokeStyle="rgba("+fe[0]+","+fe[1]+","+fe[2]+","+k*s+")",r.lineWidth=V,r.setLineDash)switch(ye){case"dotted":r.setLineDash([1,1]);break;case"dashed":r.setLineDash([4,2]);break;case"double":r.lineWidth=V/4,r.setLineDash([]);break;case"solid":r.setLineDash([]);break}if(r.strokeRect($,K,I,Q),ye==="double"){var le=V/2;r.strokeRect($+le,K+le,I-le*2,Q-le*2)}r.setLineDash&&r.setLineDash([]),r.lineWidth=se,r.strokeStyle=q}}var me=2*e.pstyle("text-outline-width").pfValue;if(me>0&&(r.lineWidth=me),e.pstyle("text-wrap").value==="wrap"){var xe=ur(o,"labelWrapCachedLines",t),ke=ur(o,"labelLineHeight",t),Ce=c/2,Ee=this.getLabelJustification(e);switch(Ee==="auto"||(w==="left"?Ee==="left"?l+=-c:Ee==="center"&&(l+=-Ce):w==="center"?Ee==="left"?l+=-Ce:Ee==="right"&&(l+=Ce):w==="right"&&(Ee==="center"?l+=Ce:Ee==="right"&&(l+=c))),P){case"top":u-=(xe.length-1)*ke;break;case"center":case"bottom":u-=(xe.length-1)*ke;break}for(var ie=0;ie<xe.length;ie++)me>0&&r.strokeText(xe[ie],l,u),r.fillText(xe[ie],l,u),u+=ke}else me>0&&r.strokeText(d,l,u),r.fillText(d,l,u);F!==0&&(r.rotate(-F),r.translate(-f,-v))}}};var En={};En.drawNode=function(r,e,t){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,o=this,s,l,u=e._private,f=u.rscratch,v=e.position();if(!(!ue(v.x)||!ue(v.y))&&!(i&&!e.visible())){var d=i?e.effectiveOpacity():1,h=o.usePaths(),c,p=!1,y=e.padding();s=e.width()+2*y,l=e.height()+2*y;var b;t&&(b=t,r.translate(-b.x1,-b.y1));for(var x=e.pstyle("background-image"),w=x.value,P=new Array(w.length),F=new Array(w.length),G=0,k=0;k<w.length;k++){var V=w[k],M=P[k]=V!=null&&V!=="none";if(M){var $=e.cy().style().getIndexedStyle(e,"background-image-crossorigin","value",k);G++,F[k]=o.getCachedImage(V,$,function(){u.backgroundTimestamp=Date.now(),e.emitAndNotify("background")})}}var K=e.pstyle("background-blacken").value,I=e.pstyle("border-width").pfValue,Q=e.pstyle("background-opacity").value*d,H=e.pstyle("border-color").value,ne=e.pstyle("border-style").value,J=e.pstyle("border-opacity").value*d;r.lineJoin="miter";var q=function(){var $e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Q;o.eleFillStyle(r,e,$e)},se=function(){var $e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:J;o.colorStrokeStyle(r,H[0],H[1],H[2],$e)},fe=e.pstyle("shape").strValue,ye=e.pstyle("shape-polygon-points").pfValue;if(h){r.translate(v.x,v.y);var le=o.nodePathCache=o.nodePathCache||[],me=Ii(fe==="polygon"?fe+","+ye.join(","):fe,""+l,""+s),xe=le[me];xe!=null?(c=xe,p=!0,f.pathCache=c):(c=new Path2D,le[me]=f.pathCache=c)}var ke=function(){if(!p){var $e=v;h&&($e={x:0,y:0}),o.nodeShapes[o.getNodeShape(e)].draw(c||r,$e.x,$e.y,s,l)}h?r.fill(c):r.fill()},Ce=function(){for(var $e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:d,je=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,dt=u.backgrounding,lt=0,nt=0;nt<F.length;nt++){var xt=e.cy().style().getIndexedStyle(e,"background-image-containment","value",nt);if(je&&xt==="over"||!je&&xt==="inside"){lt++;continue}P[nt]&&F[nt].complete&&!F[nt].error&&(lt++,o.drawInscribedImage(r,F[nt],e,nt,$e))}u.backgrounding=lt!==G,dt!==u.backgrounding&&e.updateStyle(!1)},Ee=function(){var $e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,je=arguments.length>1&&arguments[1]!==void 0?arguments[1]:d;o.hasPie(e)&&(o.drawPie(r,e,je),$e&&(h||o.nodeShapes[o.getNodeShape(e)].draw(r,v.x,v.y,s,l)))},ie=function(){var $e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:d,je=(K>0?K:-K)*$e,dt=K>0?0:255;K!==0&&(o.colorFillStyle(r,dt,dt,dt,je),h?r.fill(c):r.fill())},De=function(){if(I>0){if(r.lineWidth=I,r.lineCap="butt",r.setLineDash)switch(ne){case"dotted":r.setLineDash([1,1]);break;case"dashed":r.setLineDash([4,2]);break;case"solid":case"double":r.setLineDash([]);break}if(h?r.stroke(c):r.stroke(),ne==="double"){r.lineWidth=I/3;var $e=r.globalCompositeOperation;r.globalCompositeOperation="destination-out",h?r.stroke(c):r.stroke(),r.globalCompositeOperation=$e}r.setLineDash&&r.setLineDash([])}},Pe=function(){a&&o.drawNodeOverlay(r,e,v,s,l)},ze=function(){a&&o.drawNodeUnderlay(r,e,v,s,l)},Ve=function(){o.drawElementText(r,e,null,n)},at=e.pstyle("ghost").value==="yes";if(at){var it=e.pstyle("ghost-offset-x").pfValue,We=e.pstyle("ghost-offset-y").pfValue,Ge=e.pstyle("ghost-opacity").value,_e=Ge*d;r.translate(it,We),q(Ge*Q),ke(),Ce(_e,!0),se(Ge*J),De(),Ee(K!==0||I!==0),Ce(_e,!1),ie(_e),r.translate(-it,-We)}h&&r.translate(-v.x,-v.y),ze(),h&&r.translate(v.x,v.y),q(),ke(),Ce(d,!0),se(),De(),Ee(K!==0||I!==0),Ce(d,!1),ie(),h&&r.translate(-v.x,-v.y),Ve(),Pe(),t&&r.translate(b.x1,b.y1)}};var Os=function(e){if(!["overlay","underlay"].includes(e))throw new Error("Invalid state");return function(t,n,a,i,o){var s=this;if(n.visible()){var l=n.pstyle("".concat(e,"-padding")).pfValue,u=n.pstyle("".concat(e,"-opacity")).value,f=n.pstyle("".concat(e,"-color")).value,v=n.pstyle("".concat(e,"-shape")).value;if(u>0){if(a=a||n.position(),i==null||o==null){var d=n.padding();i=n.width()+2*d,o=n.height()+2*d}s.colorFillStyle(t,f[0],f[1],f[2],u),s.nodeShapes[v].draw(t,a.x,a.y,i+l*2,o+l*2),t.fill()}}}};En.drawNodeOverlay=Os("overlay"),En.drawNodeUnderlay=Os("underlay"),En.hasPie=function(r){return r=r[0],r._private.hasPie},En.drawPie=function(r,e,t,n){e=e[0],n=n||e.position();var a=e.cy().style(),i=e.pstyle("pie-size"),o=n.x,s=n.y,l=e.width(),u=e.height(),f=Math.min(l,u)/2,v=0,d=this.usePaths();d&&(o=0,s=0),i.units==="%"?f=f*i.pfValue:i.pfValue!==void 0&&(f=i.pfValue/2);for(var h=1;h<=a.pieBackgroundN;h++){var c=e.pstyle("pie-"+h+"-background-size").value,p=e.pstyle("pie-"+h+"-background-color").value,y=e.pstyle("pie-"+h+"-background-opacity").value*t,b=c/100;b+v>1&&(b=1-v);var x=1.5*Math.PI+2*Math.PI*v,w=2*Math.PI*b,P=x+w;c===0||v>=1||v+b>1||(r.beginPath(),r.moveTo(o,s),r.arc(o,s,f,x,P),r.closePath(),this.colorFillStyle(r,p[0],p[1],p[2],y),r.fill(),v+=b)}};var nr={},hd=100;nr.getPixelRatio=function(){var r=this.data.contexts[0];if(this.forcedPixelRatio!=null)return this.forcedPixelRatio;var e=r.backingStorePixelRatio||r.webkitBackingStorePixelRatio||r.mozBackingStorePixelRatio||r.msBackingStorePixelRatio||r.oBackingStorePixelRatio||r.backingStorePixelRatio||1;return(window.devicePixelRatio||1)/e},nr.paintCache=function(r){for(var e=this.paintCaches=this.paintCaches||[],t=!0,n,a=0;a<e.length;a++)if(n=e[a],n.context===r){t=!1;break}return t&&(n={context:r},e.push(n)),n},nr.createGradientStyleFor=function(r,e,t,n,a){var i,o=this.usePaths(),s=t.pstyle(e+"-gradient-stop-colors").value,l=t.pstyle(e+"-gradient-stop-positions").pfValue;if(n==="radial-gradient")if(t.isEdge()){var u=t.sourceEndpoint(),f=t.targetEndpoint(),v=t.midpoint(),d=Wr(u,v),h=Wr(f,v);i=r.createRadialGradient(v.x,v.y,0,v.x,v.y,Math.max(d,h))}else{var c=o?{x:0,y:0}:t.position(),p=t.paddedWidth(),y=t.paddedHeight();i=r.createRadialGradient(c.x,c.y,0,c.x,c.y,Math.max(p,y))}else if(t.isEdge()){var b=t.sourceEndpoint(),x=t.targetEndpoint();i=r.createLinearGradient(b.x,b.y,x.x,x.y)}else{var w=o?{x:0,y:0}:t.position(),P=t.paddedWidth(),F=t.paddedHeight(),G=P/2,k=F/2,V=t.pstyle("background-gradient-direction").value;switch(V){case"to-bottom":i=r.createLinearGradient(w.x,w.y-k,w.x,w.y+k);break;case"to-top":i=r.createLinearGradient(w.x,w.y+k,w.x,w.y-k);break;case"to-left":i=r.createLinearGradient(w.x+G,w.y,w.x-G,w.y);break;case"to-right":i=r.createLinearGradient(w.x-G,w.y,w.x+G,w.y);break;case"to-bottom-right":case"to-right-bottom":i=r.createLinearGradient(w.x-G,w.y-k,w.x+G,w.y+k);break;case"to-top-right":case"to-right-top":i=r.createLinearGradient(w.x-G,w.y+k,w.x+G,w.y-k);break;case"to-bottom-left":case"to-left-bottom":i=r.createLinearGradient(w.x+G,w.y-k,w.x-G,w.y+k);break;case"to-top-left":case"to-left-top":i=r.createLinearGradient(w.x+G,w.y+k,w.x-G,w.y-k);break}}if(!i)return null;for(var M=l.length===s.length,$=s.length,K=0;K<$;K++)i.addColorStop(M?l[K]:K/($-1),"rgba("+s[K][0]+","+s[K][1]+","+s[K][2]+","+a+")");return i},nr.gradientFillStyle=function(r,e,t,n){var a=this.createGradientStyleFor(r,"background",e,t,n);if(!a)return null;r.fillStyle=a},nr.colorFillStyle=function(r,e,t,n,a){r.fillStyle="rgba("+e+","+t+","+n+","+a+")"},nr.eleFillStyle=function(r,e,t){var n=e.pstyle("background-fill").value;if(n==="linear-gradient"||n==="radial-gradient")this.gradientFillStyle(r,e,n,t);else{var a=e.pstyle("background-color").value;this.colorFillStyle(r,a[0],a[1],a[2],t)}},nr.gradientStrokeStyle=function(r,e,t,n){var a=this.createGradientStyleFor(r,"line",e,t,n);if(!a)return null;r.strokeStyle=a},nr.colorStrokeStyle=function(r,e,t,n,a){r.strokeStyle="rgba("+e+","+t+","+n+","+a+")"},nr.eleStrokeStyle=function(r,e,t){var n=e.pstyle("line-fill").value;if(n==="linear-gradient"||n==="radial-gradient")this.gradientStrokeStyle(r,e,n,t);else{var a=e.pstyle("line-color").value;this.colorStrokeStyle(r,a[0],a[1],a[2],t)}},nr.matchCanvasSize=function(r){var e=this,t=e.data,n=e.findContainerClientCoords(),a=n[2],i=n[3],o=e.getPixelRatio(),s=e.motionBlurPxRatio;(r===e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_NODE]||r===e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_DRAG])&&(o=s);var l=a*o,u=i*o,f;if(!(l===e.canvasWidth&&u===e.canvasHeight)){e.fontCaches=null;var v=t.canvasContainer;v.style.width=a+"px",v.style.height=i+"px";for(var d=0;d<e.CANVAS_LAYERS;d++)f=t.canvases[d],f.width=l,f.height=u,f.style.width=a+"px",f.style.height=i+"px";for(var d=0;d<e.BUFFER_COUNT;d++)f=t.bufferCanvases[d],f.width=l,f.height=u,f.style.width=a+"px",f.style.height=i+"px";e.textureMult=1,o<=1&&(f=t.bufferCanvases[e.TEXTURE_BUFFER],e.textureMult=2,f.width=l*e.textureMult,f.height=u*e.textureMult),e.canvasWidth=l,e.canvasHeight=u}},nr.renderTo=function(r,e,t,n){this.render({forcedContext:r,forcedZoom:e,forcedPan:t,drawAllLayers:!0,forcedPxRatio:n})},nr.render=function(r){r=r||Gi();var e=r.forcedContext,t=r.drawAllLayers,n=r.drawOnlyNodeLayer,a=r.forcedZoom,i=r.forcedPan,o=this,s=r.forcedPxRatio===void 0?this.getPixelRatio():r.forcedPxRatio,l=o.cy,u=o.data,f=u.canvasNeedsRedraw,v=o.textureOnViewport&&!e&&(o.pinching||o.hoverData.dragging||o.swipePanning||o.data.wheelZooming),d=r.motionBlur!==void 0?r.motionBlur:o.motionBlur,h=o.motionBlurPxRatio,c=l.hasCompoundNodes(),p=o.hoverData.draggingEles,y=!!(o.hoverData.selecting||o.touchData.selecting);d=d&&!e&&o.motionBlurEnabled&&!y;var b=d;e||(o.prevPxRatio!==s&&(o.invalidateContainerClientCoordsCache(),o.matchCanvasSize(o.container),o.redrawHint("eles",!0),o.redrawHint("drag",!0)),o.prevPxRatio=s),!e&&o.motionBlurTimeout&&clearTimeout(o.motionBlurTimeout),d&&(o.mbFrames==null&&(o.mbFrames=0),o.mbFrames++,o.mbFrames<3&&(b=!1),o.mbFrames>o.minMbLowQualFrames&&(o.motionBlurPxRatio=o.mbPxRBlurry)),o.clearingMotionBlur&&(o.motionBlurPxRatio=1),o.textureDrawLastFrame&&!v&&(f[o.NODE]=!0,f[o.SELECT_BOX]=!0);var x=l.style(),w=l.zoom(),P=a!==void 0?a:w,F=l.pan(),G={x:F.x,y:F.y},k={zoom:w,pan:{x:F.x,y:F.y}},V=o.prevViewport,M=V===void 0||k.zoom!==V.zoom||k.pan.x!==V.pan.x||k.pan.y!==V.pan.y;!M&&!(p&&!c)&&(o.motionBlurPxRatio=1),i&&(G=i),P*=s,G.x*=s,G.y*=s;var $=o.getCachedZSortedEles();function K(We,Ge,_e,Qe,$e){var je=We.globalCompositeOperation;We.globalCompositeOperation="destination-out",o.colorFillStyle(We,255,255,255,o.motionBlurTransparency),We.fillRect(Ge,_e,Qe,$e),We.globalCompositeOperation=je}function I(We,Ge){var _e,Qe,$e,je;!o.clearingMotionBlur&&(We===u.bufferContexts[o.MOTIONBLUR_BUFFER_NODE]||We===u.bufferContexts[o.MOTIONBLUR_BUFFER_DRAG])?(_e={x:F.x*h,y:F.y*h},Qe=w*h,$e=o.canvasWidth*h,je=o.canvasHeight*h):(_e=G,Qe=P,$e=o.canvasWidth,je=o.canvasHeight),We.setTransform(1,0,0,1,0,0),Ge==="motionBlur"?K(We,0,0,$e,je):!e&&(Ge===void 0||Ge)&&We.clearRect(0,0,$e,je),t||(We.translate(_e.x,_e.y),We.scale(Qe,Qe)),i&&We.translate(i.x,i.y),a&&We.scale(a,a)}if(v||(o.textureDrawLastFrame=!1),v){if(o.textureDrawLastFrame=!0,!o.textureCache){o.textureCache={},o.textureCache.bb=l.mutableElements().boundingBox(),o.textureCache.texture=o.data.bufferCanvases[o.TEXTURE_BUFFER];var Q=o.data.bufferContexts[o.TEXTURE_BUFFER];Q.setTransform(1,0,0,1,0,0),Q.clearRect(0,0,o.canvasWidth*o.textureMult,o.canvasHeight*o.textureMult),o.render({forcedContext:Q,drawOnlyNodeLayer:!0,forcedPxRatio:s*o.textureMult});var k=o.textureCache.viewport={zoom:l.zoom(),pan:l.pan(),width:o.canvasWidth,height:o.canvasHeight};k.mpan={x:(0-k.pan.x)/k.zoom,y:(0-k.pan.y)/k.zoom}}f[o.DRAG]=!1,f[o.NODE]=!1;var H=u.contexts[o.NODE],ne=o.textureCache.texture,k=o.textureCache.viewport;H.setTransform(1,0,0,1,0,0),d?K(H,0,0,k.width,k.height):H.clearRect(0,0,k.width,k.height);var J=x.core("outside-texture-bg-color").value,q=x.core("outside-texture-bg-opacity").value;o.colorFillStyle(H,J[0],J[1],J[2],q),H.fillRect(0,0,k.width,k.height);var w=l.zoom();I(H,!1),H.clearRect(k.mpan.x,k.mpan.y,k.width/k.zoom/s,k.height/k.zoom/s),H.drawImage(ne,k.mpan.x,k.mpan.y,k.width/k.zoom/s,k.height/k.zoom/s)}else o.textureOnViewport&&!e&&(o.textureCache=null);var se=l.extent(),fe=o.pinching||o.hoverData.dragging||o.swipePanning||o.data.wheelZooming||o.hoverData.draggingEles||o.cy.animated(),ye=o.hideEdgesOnViewport&&fe,le=[];if(le[o.NODE]=!f[o.NODE]&&d&&!o.clearedForMotionBlur[o.NODE]||o.clearingMotionBlur,le[o.NODE]&&(o.clearedForMotionBlur[o.NODE]=!0),le[o.DRAG]=!f[o.DRAG]&&d&&!o.clearedForMotionBlur[o.DRAG]||o.clearingMotionBlur,le[o.DRAG]&&(o.clearedForMotionBlur[o.DRAG]=!0),f[o.NODE]||t||n||le[o.NODE]){var me=d&&!le[o.NODE]&&h!==1,H=e||(me?o.data.bufferContexts[o.MOTIONBLUR_BUFFER_NODE]:u.contexts[o.NODE]),xe=d&&!me?"motionBlur":void 0;I(H,xe),ye?o.drawCachedNodes(H,$.nondrag,s,se):o.drawLayeredElements(H,$.nondrag,s,se),o.debug&&o.drawDebugPoints(H,$.nondrag),!t&&!d&&(f[o.NODE]=!1)}if(!n&&(f[o.DRAG]||t||le[o.DRAG])){var me=d&&!le[o.DRAG]&&h!==1,H=e||(me?o.data.bufferContexts[o.MOTIONBLUR_BUFFER_DRAG]:u.contexts[o.DRAG]);I(H,d&&!me?"motionBlur":void 0),ye?o.drawCachedNodes(H,$.drag,s,se):o.drawCachedElements(H,$.drag,s,se),o.debug&&o.drawDebugPoints(H,$.drag),!t&&!d&&(f[o.DRAG]=!1)}if(o.showFps||!n&&f[o.SELECT_BOX]&&!t){var H=e||u.contexts[o.SELECT_BOX];if(I(H),o.selection[4]==1&&(o.hoverData.selecting||o.touchData.selecting)){var w=o.cy.zoom(),ke=x.core("selection-box-border-width").value/w;H.lineWidth=ke,H.fillStyle="rgba("+x.core("selection-box-color").value[0]+","+x.core("selection-box-color").value[1]+","+x.core("selection-box-color").value[2]+","+x.core("selection-box-opacity").value+")",H.fillRect(o.selection[0],o.selection[1],o.selection[2]-o.selection[0],o.selection[3]-o.selection[1]),ke>0&&(H.strokeStyle="rgba("+x.core("selection-box-border-color").value[0]+","+x.core("selection-box-border-color").value[1]+","+x.core("selection-box-border-color").value[2]+","+x.core("selection-box-opacity").value+")",H.strokeRect(o.selection[0],o.selection[1],o.selection[2]-o.selection[0],o.selection[3]-o.selection[1]))}if(u.bgActivePosistion&&!o.hoverData.selecting){var w=o.cy.zoom(),Ce=u.bgActivePosistion;H.fillStyle="rgba("+x.core("active-bg-color").value[0]+","+x.core("active-bg-color").value[1]+","+x.core("active-bg-color").value[2]+","+x.core("active-bg-opacity").value+")",H.beginPath(),H.arc(Ce.x,Ce.y,x.core("active-bg-size").pfValue/w,0,2*Math.PI),H.fill()}var Ee=o.lastRedrawTime;if(o.showFps&&Ee){Ee=Math.round(Ee);var ie=Math.round(1e3/Ee);H.setTransform(1,0,0,1,0,0),H.fillStyle="rgba(255, 0, 0, 0.75)",H.strokeStyle="rgba(255, 0, 0, 0.75)",H.lineWidth=1,H.fillText("1 frame = "+Ee+" ms = "+ie+" fps",0,20);var De=60;H.strokeRect(0,30,250,20),H.fillRect(0,30,250*Math.min(ie/De,1),20)}t||(f[o.SELECT_BOX]=!1)}if(d&&h!==1){var Pe=u.contexts[o.NODE],ze=o.data.bufferCanvases[o.MOTIONBLUR_BUFFER_NODE],Ve=u.contexts[o.DRAG],at=o.data.bufferCanvases[o.MOTIONBLUR_BUFFER_DRAG],it=function(Ge,_e,Qe){Ge.setTransform(1,0,0,1,0,0),Qe||!b?Ge.clearRect(0,0,o.canvasWidth,o.canvasHeight):K(Ge,0,0,o.canvasWidth,o.canvasHeight);var $e=h;Ge.drawImage(_e,0,0,o.canvasWidth*$e,o.canvasHeight*$e,0,0,o.canvasWidth,o.canvasHeight)};(f[o.NODE]||le[o.NODE])&&(it(Pe,ze,le[o.NODE]),f[o.NODE]=!1),(f[o.DRAG]||le[o.DRAG])&&(it(Ve,at,le[o.DRAG]),f[o.DRAG]=!1)}o.prevViewport=k,o.clearingMotionBlur&&(o.clearingMotionBlur=!1,o.motionBlurCleared=!0,o.motionBlur=!0),d&&(o.motionBlurTimeout=setTimeout(function(){o.motionBlurTimeout=null,o.clearedForMotionBlur[o.NODE]=!1,o.clearedForMotionBlur[o.DRAG]=!1,o.motionBlur=!1,o.clearingMotionBlur=!v,o.mbFrames=0,f[o.NODE]=!0,f[o.DRAG]=!0,o.redraw()},hd)),e||l.emit("render")};var Vr={};Vr.drawPolygonPath=function(r,e,t,n,a,i){var o=n/2,s=a/2;r.beginPath&&r.beginPath(),r.moveTo(e+o*i[0],t+s*i[1]);for(var l=1;l<i.length/2;l++)r.lineTo(e+o*i[l*2],t+s*i[l*2+1]);r.closePath()},Vr.drawRoundPolygonPath=function(r,e,t,n,a,i){var o=n/2,s=a/2,l=qa(n,a);r.beginPath&&r.beginPath();for(var u=0;u<i.length/4;u++){var f=void 0,v=void 0;u===0?f=i.length-2:f=u*4-2,v=u*4+2;var d=e+o*i[u*4],h=t+s*i[u*4+1],c=-i[f]*i[v]-i[f+1]*i[v+1],p=l/Math.tan(Math.acos(c)/2),y=d-p*i[f],b=h-p*i[f+1],x=d+p*i[v],w=h+p*i[v+1];u===0?r.moveTo(y,b):r.lineTo(y,b),r.arcTo(d,h,x,w,l)}r.closePath()},Vr.drawRoundRectanglePath=function(r,e,t,n,a){var i=n/2,o=a/2,s=In(n,a);r.beginPath&&r.beginPath(),r.moveTo(e,t-o),r.arcTo(e+i,t-o,e+i,t,s),r.arcTo(e+i,t+o,e,t+o,s),r.arcTo(e-i,t+o,e-i,t,s),r.arcTo(e-i,t-o,e,t-o,s),r.lineTo(e,t-o),r.closePath()},Vr.drawBottomRoundRectanglePath=function(r,e,t,n,a){var i=n/2,o=a/2,s=In(n,a);r.beginPath&&r.beginPath(),r.moveTo(e,t-o),r.lineTo(e+i,t-o),r.lineTo(e+i,t),r.arcTo(e+i,t+o,e,t+o,s),r.arcTo(e-i,t+o,e-i,t,s),r.lineTo(e-i,t-o),r.lineTo(e,t-o),r.closePath()},Vr.drawCutRectanglePath=function(r,e,t,n,a){var i=n/2,o=a/2,s=Ji();r.beginPath&&r.beginPath(),r.moveTo(e-i+s,t-o),r.lineTo(e+i-s,t-o),r.lineTo(e+i,t-o+s),r.lineTo(e+i,t+o-s),r.lineTo(e+i-s,t+o),r.lineTo(e-i+s,t+o),r.lineTo(e-i,t+o-s),r.lineTo(e-i,t-o+s),r.closePath()},Vr.drawBarrelPath=function(r,e,t,n,a){var i=n/2,o=a/2,s=e-i,l=e+i,u=t-o,f=t+o,v=ja(n,a),d=v.widthOffset,h=v.heightOffset,c=v.ctrlPtOffsetPct*d;r.beginPath&&r.beginPath(),r.moveTo(s,u+h),r.lineTo(s,f-h),r.quadraticCurveTo(s+c,f,s+d,f),r.lineTo(l-d,f),r.quadraticCurveTo(l-c,f,l,f-h),r.lineTo(l,u+h),r.quadraticCurveTo(l-c,u,l-d,u),r.lineTo(s+d,u),r.quadraticCurveTo(s+c,u,s,u+h),r.closePath()};for(var Ns=Math.sin(0),zs=Math.cos(0),Ci={},Si={},Fs=Math.PI/40,Cn=0*Math.PI;Cn<2*Math.PI;Cn+=Fs)Ci[Cn]=Math.sin(Cn),Si[Cn]=Math.cos(Cn);Vr.drawEllipsePath=function(r,e,t,n,a){if(r.beginPath&&r.beginPath(),r.ellipse)r.ellipse(e,t,n/2,a/2,0,0,2*Math.PI);else for(var i,o,s=n/2,l=a/2,u=0*Math.PI;u<2*Math.PI;u+=Fs)i=e-s*Ci[u]*Ns+s*Si[u]*zs,o=t+l*Si[u]*Ns+l*Ci[u]*zs,u===0?r.moveTo(i,o):r.lineTo(i,o);r.closePath()};var qn={};qn.createBuffer=function(r,e){var t=document.createElement("canvas");return t.width=r,t.height=e,[t,t.getContext("2d")]},qn.bufferCanvasImage=function(r){var e=this.cy,t=e.mutableElements(),n=t.boundingBox(),a=this.findContainerClientCoords(),i=r.full?Math.ceil(n.w):a[2],o=r.full?Math.ceil(n.h):a[3],s=ue(r.maxWidth)||ue(r.maxHeight),l=this.getPixelRatio(),u=1;if(r.scale!==void 0)i*=r.scale,o*=r.scale,u=r.scale;else if(s){var f=1/0,v=1/0;ue(r.maxWidth)&&(f=u*r.maxWidth/i),ue(r.maxHeight)&&(v=u*r.maxHeight/o),u=Math.min(f,v),i*=u,o*=u}s||(i*=l,o*=l,u*=l);var d=document.createElement("canvas");d.width=i,d.height=o,d.style.width=i+"px",d.style.height=o+"px";var h=d.getContext("2d");if(i>0&&o>0){h.clearRect(0,0,i,o),h.globalCompositeOperation="source-over";var c=this.getCachedZSortedEles();if(r.full)h.translate(-n.x1*u,-n.y1*u),h.scale(u,u),this.drawElements(h,c),h.scale(1/u,1/u),h.translate(n.x1*u,n.y1*u);else{var p=e.pan(),y={x:p.x*u,y:p.y*u};u*=e.zoom(),h.translate(y.x,y.y),h.scale(u,u),this.drawElements(h,c),h.scale(1/u,1/u),h.translate(-y.x,-y.y)}r.bg&&(h.globalCompositeOperation="destination-over",h.fillStyle=r.bg,h.rect(0,0,i,o),h.fill())}return d};function gd(r,e){for(var t=atob(r),n=new ArrayBuffer(t.length),a=new Uint8Array(n),i=0;i<t.length;i++)a[i]=t.charCodeAt(i);return new Blob([n],{type:e})}function Vs(r){var e=r.indexOf(",");return r.substr(e+1)}function Gs(r,e,t){var n=function(){return e.toDataURL(t,r.quality)};switch(r.output){case"blob-promise":return new fn(function(a,i){try{e.toBlob(function(o){o!=null?a(o):i(new Error("`canvas.toBlob()` sent a null value in its callback"))},t,r.quality)}catch(o){i(o)}});case"blob":return gd(Vs(n()),t);case"base64":return Vs(n());case"base64uri":default:return n()}}qn.png=function(r){return Gs(r,this.bufferCanvasImage(r),"image/png")},qn.jpg=function(r){return Gs(r,this.bufferCanvasImage(r),"image/jpeg")};var Hs={};Hs.nodeShapeImpl=function(r,e,t,n,a,i,o){switch(r){case"ellipse":return this.drawEllipsePath(e,t,n,a,i);case"polygon":return this.drawPolygonPath(e,t,n,a,i,o);case"round-polygon":return this.drawRoundPolygonPath(e,t,n,a,i,o);case"roundrectangle":case"round-rectangle":return this.drawRoundRectanglePath(e,t,n,a,i);case"cutrectangle":case"cut-rectangle":return this.drawCutRectanglePath(e,t,n,a,i);case"bottomroundrectangle":case"bottom-round-rectangle":return this.drawBottomRoundRectanglePath(e,t,n,a,i);case"barrel":return this.drawBarrelPath(e,t,n,a,i)}};var pd=Ws,pt=Ws.prototype;pt.CANVAS_LAYERS=3,pt.SELECT_BOX=0,pt.DRAG=1,pt.NODE=2,pt.BUFFER_COUNT=3,pt.TEXTURE_BUFFER=0,pt.MOTIONBLUR_BUFFER_NODE=1,pt.MOTIONBLUR_BUFFER_DRAG=2;function Ws(r){var e=this;e.data={canvases:new Array(pt.CANVAS_LAYERS),contexts:new Array(pt.CANVAS_LAYERS),canvasNeedsRedraw:new Array(pt.CANVAS_LAYERS),bufferCanvases:new Array(pt.BUFFER_COUNT),bufferContexts:new Array(pt.CANVAS_LAYERS)};var t="-webkit-tap-highlight-color",n="rgba(0,0,0,0)";e.data.canvasContainer=document.createElement("div");var a=e.data.canvasContainer.style;e.data.canvasContainer.style[t]=n,a.position="relative",a.zIndex="0",a.overflow="hidden";var i=r.cy.container();i.appendChild(e.data.canvasContainer),i.style[t]=n;var o={"-webkit-user-select":"none","-moz-user-select":"-moz-none","user-select":"none","-webkit-tap-highlight-color":"rgba(0,0,0,0)","outline-style":"none"};en()&&(o["-ms-touch-action"]="none",o["touch-action"]="none");for(var s=0;s<pt.CANVAS_LAYERS;s++){var l=e.data.canvases[s]=document.createElement("canvas");e.data.contexts[s]=l.getContext("2d"),Object.keys(o).forEach(function(Ee){l.style[Ee]=o[Ee]}),l.style.position="absolute",l.setAttribute("data-id","layer"+s),l.style.zIndex=String(pt.CANVAS_LAYERS-s),e.data.canvasContainer.appendChild(l),e.data.canvasNeedsRedraw[s]=!1}e.data.topCanvas=e.data.canvases[0],e.data.canvases[pt.NODE].setAttribute("data-id","layer"+pt.NODE+"-node"),e.data.canvases[pt.SELECT_BOX].setAttribute("data-id","layer"+pt.SELECT_BOX+"-selectbox"),e.data.canvases[pt.DRAG].setAttribute("data-id","layer"+pt.DRAG+"-drag");for(var s=0;s<pt.BUFFER_COUNT;s++)e.data.bufferCanvases[s]=document.createElement("canvas"),e.data.bufferContexts[s]=e.data.bufferCanvases[s].getContext("2d"),e.data.bufferCanvases[s].style.position="absolute",e.data.bufferCanvases[s].setAttribute("data-id","buffer"+s),e.data.bufferCanvases[s].style.zIndex=String(-s-1),e.data.bufferCanvases[s].style.visibility="hidden";e.pathsEnabled=!0;var u=jt(),f=function(ie){return{x:(ie.x1+ie.x2)/2,y:(ie.y1+ie.y2)/2}},v=function(ie){return{x:-ie.w/2,y:-ie.h/2}},d=function(ie){var De=ie[0]._private,Pe=De.oldBackgroundTimestamp===De.backgroundTimestamp;return!Pe},h=function(ie){return ie[0]._private.nodeKey},c=function(ie){return ie[0]._private.labelStyleKey},p=function(ie){return ie[0]._private.sourceLabelStyleKey},y=function(ie){return ie[0]._private.targetLabelStyleKey},b=function(ie,De,Pe,ze,Ve){return e.drawElement(ie,De,Pe,!1,!1,Ve)},x=function(ie,De,Pe,ze,Ve){return e.drawElementText(ie,De,Pe,ze,"main",Ve)},w=function(ie,De,Pe,ze,Ve){return e.drawElementText(ie,De,Pe,ze,"source",Ve)},P=function(ie,De,Pe,ze,Ve){return e.drawElementText(ie,De,Pe,ze,"target",Ve)},F=function(ie){return ie.boundingBox(),ie[0]._private.bodyBounds},G=function(ie){return ie.boundingBox(),ie[0]._private.labelBounds.main||u},k=function(ie){return ie.boundingBox(),ie[0]._private.labelBounds.source||u},V=function(ie){return ie.boundingBox(),ie[0]._private.labelBounds.target||u},M=function(ie,De){return De},$=function(ie){return f(F(ie))},K=function(ie,De,Pe){var ze=ie?ie+"-":"";return{x:De.x+Pe.pstyle(ze+"text-margin-x").pfValue,y:De.y+Pe.pstyle(ze+"text-margin-y").pfValue}},I=function(ie,De,Pe){var ze=ie[0]._private.rscratch;return{x:ze[De],y:ze[Pe]}},Q=function(ie){return K("",I(ie,"labelX","labelY"),ie)},H=function(ie){return K("source",I(ie,"sourceLabelX","sourceLabelY"),ie)},ne=function(ie){return K("target",I(ie,"targetLabelX","targetLabelY"),ie)},J=function(ie){return v(F(ie))},q=function(ie){return v(k(ie))},se=function(ie){return v(V(ie))},fe=function(ie){var De=G(ie),Pe=v(G(ie));if(ie.isNode()){switch(ie.pstyle("text-halign").value){case"left":Pe.x=-De.w;break;case"right":Pe.x=0;break}switch(ie.pstyle("text-valign").value){case"top":Pe.y=-De.h;break;case"bottom":Pe.y=0;break}}return Pe},ye=e.data.eleTxrCache=new Qn(e,{getKey:h,doesEleInvalidateKey:d,drawElement:b,getBoundingBox:F,getRotationPoint:$,getRotationOffset:J,allowEdgeTxrCaching:!1,allowParentTxrCaching:!1}),le=e.data.lblTxrCache=new Qn(e,{getKey:c,drawElement:x,getBoundingBox:G,getRotationPoint:Q,getRotationOffset:fe,isVisible:M}),me=e.data.slbTxrCache=new Qn(e,{getKey:p,drawElement:w,getBoundingBox:k,getRotationPoint:H,getRotationOffset:q,isVisible:M}),xe=e.data.tlbTxrCache=new Qn(e,{getKey:y,drawElement:P,getBoundingBox:V,getRotationPoint:ne,getRotationOffset:se,isVisible:M}),ke=e.data.lyrTxrCache=new Bs(e);e.onUpdateEleCalcs(function(ie,De){ye.invalidateElements(De),le.invalidateElements(De),me.invalidateElements(De),xe.invalidateElements(De),ke.invalidateElements(De);for(var Pe=0;Pe<De.length;Pe++){var ze=De[Pe]._private;ze.oldBackgroundTimestamp=ze.backgroundTimestamp}});var Ce=function(ie){for(var De=0;De<ie.length;De++)ke.enqueueElementRefinement(ie[De].ele)};ye.onDequeue(Ce),le.onDequeue(Ce),me.onDequeue(Ce),xe.onDequeue(Ce)}pt.redrawHint=function(r,e){var t=this;switch(r){case"eles":t.data.canvasNeedsRedraw[pt.NODE]=e;break;case"drag":t.data.canvasNeedsRedraw[pt.DRAG]=e;break;case"select":t.data.canvasNeedsRedraw[pt.SELECT_BOX]=e;break}};var md=typeof Path2D<"u";pt.path2dEnabled=function(r){if(r===void 0)return this.pathsEnabled;this.pathsEnabled=!!r},pt.usePaths=function(){return md&&this.pathsEnabled},pt.setImgSmoothing=function(r,e){r.imageSmoothingEnabled!=null?r.imageSmoothingEnabled=e:(r.webkitImageSmoothingEnabled=e,r.mozImageSmoothingEnabled=e,r.msImageSmoothingEnabled=e)},pt.getImgSmoothing=function(r){return r.imageSmoothingEnabled!=null?r.imageSmoothingEnabled:r.webkitImageSmoothingEnabled||r.mozImageSmoothingEnabled||r.msImageSmoothingEnabled},pt.makeOffscreenCanvas=function(r,e){var t;return(typeof OffscreenCanvas>"u"?"undefined":W(OffscreenCanvas))!=="undefined"?t=new OffscreenCanvas(r,e):(t=document.createElement("canvas"),t.width=r,t.height=e),t},[Ms,br,Dr,Ei,Qr,En,nr,Vr,qn,Hs].forEach(function(r){rt(pt,r)});var yd=[{name:"null",impl:cs},{name:"base",impl:Ts},{name:"canvas",impl:pd}],bd=[{type:"layout",extensions:Dv},{type:"renderer",extensions:yd}],$s={},Ks={};function Ys(r,e,t){var n=t,a=function(V){bt("Can not register `"+e+"` for `"+r+"` since `"+V+"` already exists in the prototype and can not be overridden")};if(r==="core"){if(Un.prototype[e])return a(e);Un.prototype[e]=t}else if(r==="collection"){if(Vt.prototype[e])return a(e);Vt.prototype[e]=t}else if(r==="layout"){for(var i=function(V){this.options=V,t.call(this,V),Ne(this._private)||(this._private={}),this._private.cy=V.cy,this._private.listeners=[],this.createEmitter()},o=i.prototype=Object.create(t.prototype),s=[],l=0;l<s.length;l++){var u=s[l];o[u]=o[u]||function(){return this}}o.start&&!o.run?o.run=function(){return this.start(),this}:!o.start&&o.run&&(o.start=function(){return this.run(),this});var f=t.prototype.stop;o.stop=function(){var k=this.options;if(k&&k.animate){var V=this.animations;if(V)for(var M=0;M<V.length;M++)V[M].stop()}return f?f.call(this):this.emit("layoutstop"),this},o.destroy||(o.destroy=function(){return this}),o.cy=function(){return this._private.cy};var v=function(V){return V._private.cy},d={addEventFields:function(V,M){M.layout=V,M.cy=v(V),M.target=V},bubble:function(){return!0},parent:function(V){return v(V)}};rt(o,{createEmitter:function(){return this._private.emitter=new ma(d,this),this},emitter:function(){return this._private.emitter},on:function(V,M){return this.emitter().on(V,M),this},one:function(V,M){return this.emitter().one(V,M),this},once:function(V,M){return this.emitter().one(V,M),this},removeListener:function(V,M){return this.emitter().removeListener(V,M),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},emit:function(V,M){return this.emitter().emit(V,M),this}}),wt.eventAliasesOn(o),n=i}else if(r==="renderer"&&e!=="null"&&e!=="base"){var h=Us("renderer","base"),c=h.prototype,p=t,y=t.prototype,b=function(){h.apply(this,arguments),p.apply(this,arguments)},x=b.prototype;for(var w in c){var P=c[w],F=y[w]!=null;if(F)return a(w);x[w]=P}for(var G in y)x[G]=y[G];c.clientFunctions.forEach(function(k){x[k]=x[k]||function(){Pt("Renderer does not implement `renderer."+k+"()` on its prototype")}}),n=b}else if(r==="__proto__"||r==="constructor"||r==="prototype")return Pt(r+" is an illegal type to be registered, possibly lead to prototype pollutions");return Bi({map:$s,keys:[r,e],value:n})}function Us(r,e){return Li({map:$s,keys:[r,e]})}function wd(r,e,t,n,a){return Bi({map:Ks,keys:[r,e,t,n],value:a})}function xd(r,e,t,n){return Li({map:Ks,keys:[r,e,t,n]})}var Ti=function(){if(arguments.length===2)return Us.apply(null,arguments);if(arguments.length===3)return Ys.apply(null,arguments);if(arguments.length===4)return xd.apply(null,arguments);if(arguments.length===5)return wd.apply(null,arguments);Pt("Invalid extension access syntax")};Un.prototype.extension=Ti,bd.forEach(function(r){r.extensions.forEach(function(e){Ys(r.type,e.name,e.impl)})});var Zs=function r(){if(!(this instanceof r))return new r;this.length=0},Jr=Zs.prototype;Jr.instanceString=function(){return"stylesheet"},Jr.selector=function(r){var e=this.length++;return this[e]={selector:r,properties:[]},this},Jr.css=function(r,e){var t=this.length-1;if(_(r))this[t].properties.push({name:r,value:e});else if(Ne(r))for(var n=r,a=Object.keys(n),i=0;i<a.length;i++){var o=a[i],s=n[o];if(s!=null){var l=Ut.properties[o]||Ut.properties[rr(o)];if(l!=null){var u=l.name,f=s;this[t].properties.push({name:u,value:f})}}}return this},Jr.style=Jr.css,Jr.generateStyle=function(r){var e=new Ut(r);return this.appendToStyle(e)},Jr.appendToStyle=function(r){for(var e=0;e<this.length;e++){var t=this[e],n=t.selector,a=t.properties;r.selector(n);for(var i=0;i<a.length;i++){var o=a[i];r.css(o.name,o.value)}}return r};var Ed="3.26.0",qr=function(e){if(e===void 0&&(e={}),Ne(e))return new Un(e);if(_(e))return Ti.apply(Ti,arguments)};qr.use=function(r){var e=Array.prototype.slice.call(arguments,1);return e.unshift(qr),r.apply(null,e),this},qr.warnings=function(r){return Fi(r)},qr.version=Ed,qr.stylesheet=qr.Stylesheet=Zs,U.exports=qr},46506:(U,ve,m)=>{U.exports={graphlib:m(71310),layout:m(42529),debug:m(5512),util:{time:m(8783).time,notime:m(8783).notime},version:m(57589)}},85247:(U,ve,m)=>{"use strict";var g=m(43294),N=m(38757);U.exports={run:R,undo:E};function R(T){var B=T.graph().acyclicer==="greedy"?N(T,S(T)):A(T);g.forEach(B,function(D){var L=T.edge(D);T.removeEdge(D),L.forwardName=D.name,L.reversed=!0,T.setEdge(D.w,D.v,L,g.uniqueId("rev"))});function S(D){return function(L){return D.edge(L).weight}}}function A(T){var B=[],S={},D={};function L(C){g.has(D,C)||(D[C]=!0,S[C]=!0,g.forEach(T.outEdges(C),function(z){g.has(S,z.w)?B.push(z):L(z.w)}),delete S[C])}return g.forEach(T.nodes(),L),B}function E(T){g.forEach(T.edges(),function(B){var S=T.edge(B);if(S.reversed){T.removeEdge(B);var D=S.forwardName;delete S.reversed,delete S.forwardName,T.setEdge(B.w,B.v,S,D)}})}},49654:(U,ve,m)=>{var g=m(43294),N=m(8783);U.exports=R;function R(E){function T(B){var S=E.children(B),D=E.node(B);if(S.length&&g.forEach(S,T),g.has(D,"minRank")){D.borderLeft=[],D.borderRight=[];for(var L=D.minRank,C=D.maxRank+1;L<C;++L)A(E,"borderLeft","_bl",B,D,L),A(E,"borderRight","_br",B,D,L)}}g.forEach(E.children(),T)}function A(E,T,B,S,D,L){var C={width:0,height:0,rank:L,borderType:T},z=D[T][L-1],W=N.addDummyNode(E,"border",C,B);D[T][L]=W,E.setParent(W,S),z&&E.setEdge(z,W,{weight:1})}},25128:(U,ve,m)=>{"use strict";var g=m(43294);U.exports={adjust:N,undo:R};function N(L){var C=L.graph().rankdir.toLowerCase();(C==="lr"||C==="rl")&&A(L)}function R(L){var C=L.graph().rankdir.toLowerCase();(C==="bt"||C==="rl")&&T(L),(C==="lr"||C==="rl")&&(S(L),A(L))}function A(L){g.forEach(L.nodes(),function(C){E(L.node(C))}),g.forEach(L.edges(),function(C){E(L.edge(C))})}function E(L){var C=L.width;L.width=L.height,L.height=C}function T(L){g.forEach(L.nodes(),function(C){B(L.node(C))}),g.forEach(L.edges(),function(C){var z=L.edge(C);g.forEach(z.points,B),g.has(z,"y")&&B(z)})}function B(L){L.y=-L.y}function S(L){g.forEach(L.nodes(),function(C){D(L.node(C))}),g.forEach(L.edges(),function(C){var z=L.edge(C);g.forEach(z.points,D),g.has(z,"x")&&D(z)})}function D(L){var C=L.x;L.x=L.y,L.y=C}},65199:U=>{U.exports=ve;function ve(){var N={};N._next=N._prev=N,this._sentinel=N}ve.prototype.dequeue=function(){var N=this._sentinel,R=N._prev;if(R!==N)return m(R),R},ve.prototype.enqueue=function(N){var R=this._sentinel;N._prev&&N._next&&m(N),N._next=R._next,R._next._prev=N,R._next=N,N._prev=R},ve.prototype.toString=function(){for(var N=[],R=this._sentinel,A=R._prev;A!==R;)N.push(JSON.stringify(A,g)),A=A._prev;return"["+N.join(", ")+"]"};function m(N){N._prev._next=N._next,N._next._prev=N._prev,delete N._next,delete N._prev}function g(N,R){if(N!=="_next"&&N!=="_prev")return R}},5512:(U,ve,m)=>{var g=m(43294),N=m(8783),R=m(71310).Graph;U.exports={debugOrdering:A};function A(E){var T=N.buildLayerMatrix(E),B=new R({compound:!0,multigraph:!0}).setGraph({});return g.forEach(E.nodes(),function(S){B.setNode(S,{label:S}),B.setParent(S,"layer"+E.node(S).rank)}),g.forEach(E.edges(),function(S){B.setEdge(S.v,S.w,{},S.name)}),g.forEach(T,function(S,D){var L="layer"+D;B.setNode(L,{rank:"same"}),g.reduce(S,function(C,z){return B.setEdge(C,z,{style:"invis"}),z})}),B}},71310:(U,ve,m)=>{var g;try{g=m(87377)}catch{}g||(g=window.graphlib),U.exports=g},38757:(U,ve,m)=>{var g=m(43294),N=m(71310).Graph,R=m(65199);U.exports=E;var A=g.constant(1);function E(L,C){if(L.nodeCount()<=1)return[];var z=S(L,C||A),W=T(z.graph,z.buckets,z.zeroIdx);return g.flatten(g.map(W,function(ee){return L.outEdges(ee.v,ee.w)}),!0)}function T(L,C,z){for(var W=[],ee=C[C.length-1],he=C[0],re;L.nodeCount();){for(;re=he.dequeue();)B(L,C,z,re);for(;re=ee.dequeue();)B(L,C,z,re);if(L.nodeCount()){for(var j=C.length-2;j>0;--j)if(re=C[j].dequeue(),re){W=W.concat(B(L,C,z,re,!0));break}}}return W}function B(L,C,z,W,ee){var he=ee?[]:void 0;return g.forEach(L.inEdges(W.v),function(re){var j=L.edge(re),Y=L.node(re.v);ee&&he.push({v:re.v,w:re.w}),Y.out-=j,D(C,z,Y)}),g.forEach(L.outEdges(W.v),function(re){var j=L.edge(re),Y=re.w,Z=L.node(Y);Z.in-=j,D(C,z,Z)}),L.removeNode(W.v),he}function S(L,C){var z=new N,W=0,ee=0;g.forEach(L.nodes(),function(j){z.setNode(j,{v:j,in:0,out:0})}),g.forEach(L.edges(),function(j){var Y=z.edge(j.v,j.w)||0,Z=C(j),X=Y+Z;z.setEdge(j.v,j.w,X),ee=Math.max(ee,z.node(j.v).out+=Z),W=Math.max(W,z.node(j.w).in+=Z)});var he=g.range(ee+W+3).map(function(){return new R}),re=W+1;return g.forEach(z.nodes(),function(j){D(he,re,z.node(j))}),{graph:z,buckets:he,zeroIdx:re}}function D(L,C,z){z.out?z.in?L[z.out-z.in+C].enqueue(z):L[L.length-1].enqueue(z):L[0].enqueue(z)}},42529:(U,ve,m)=>{"use strict";var g=m(43294),N=m(85247),R=m(20450),A=m(64618),E=m(8783).normalizeRanks,T=m(77908),B=m(8783).removeEmptyRanks,S=m(96820),D=m(49654),L=m(25128),C=m(73641),z=m(65784),W=m(8783),ee=m(71310).Graph;U.exports=he;function he(oe,we){var Re=we&&we.debugTiming?W.time:W.notime;Re("layout",function(){var Ie=Re("  buildLayoutGraph",function(){return Fe(oe)});Re("  runLayout",function(){re(Ie,Re)}),Re("  updateInputGraph",function(){j(oe,Ie)})})}function re(oe,we){we("    makeSpaceForEdgeLabels",function(){Oe(oe)}),we("    removeSelfEdges",function(){ue(oe)}),we("    acyclic",function(){N.run(oe)}),we("    nestingGraph.run",function(){S.run(oe)}),we("    rank",function(){A(W.asNonCompoundGraph(oe))}),we("    injectEdgeLabelProxies",function(){He(oe)}),we("    removeEmptyRanks",function(){B(oe)}),we("    nestingGraph.cleanup",function(){S.cleanup(oe)}),we("    normalizeRanks",function(){E(oe)}),we("    assignRankMinMax",function(){Ke(oe)}),we("    removeEdgeLabelProxies",function(){Je(oe)}),we("    normalize.run",function(){R.run(oe)}),we("    parentDummyChains",function(){T(oe)}),we("    addBorderSegments",function(){D(oe)}),we("    order",function(){C(oe)}),we("    insertSelfEdges",function(){Ze(oe)}),we("    adjustCoordinateSystem",function(){L.adjust(oe)}),we("    position",function(){z(oe)}),we("    positionSelfEdges",function(){Ue(oe)}),we("    removeBorderNodes",function(){qe(oe)}),we("    normalize.undo",function(){R.undo(oe)}),we("    fixupEdgeLabelCoords",function(){ge(oe)}),we("    undoCoordinateSystem",function(){L.undo(oe)}),we("    translateGraph",function(){_(oe)}),we("    assignNodeIntersects",function(){ce(oe)}),we("    reversePoints",function(){Ne(oe)}),we("    acyclic.undo",function(){N.undo(oe)})}function j(oe,we){g.forEach(oe.nodes(),function(Re){var Ie=oe.node(Re),tt=we.node(Re);Ie&&(Ie.x=tt.x,Ie.y=tt.y,we.children(Re).length&&(Ie.width=tt.width,Ie.height=tt.height))}),g.forEach(oe.edges(),function(Re){var Ie=oe.edge(Re),tt=we.edge(Re);Ie.points=tt.points,g.has(tt,"x")&&(Ie.x=tt.x,Ie.y=tt.y)}),oe.graph().width=we.graph().width,oe.graph().height=we.graph().height}var Y=["nodesep","edgesep","ranksep","marginx","marginy"],Z={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},X=["acyclicer","ranker","rankdir","align"],te=["width","height"],ae={width:0,height:0},be=["minlen","weight","width","height","labeloffset"],de={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},Ae=["labelpos"];function Fe(oe){var we=new ee({multigraph:!0,compound:!0}),Re=ct(oe.graph());return we.setGraph(g.merge({},Z,Ye(Re,Y),g.pick(Re,X))),g.forEach(oe.nodes(),function(Ie){var tt=ct(oe.node(Ie));we.setNode(Ie,g.defaults(Ye(tt,te),ae)),we.setParent(Ie,oe.parent(Ie))}),g.forEach(oe.edges(),function(Ie){var tt=ct(oe.edge(Ie));we.setEdge(Ie,g.merge({},de,Ye(tt,be),g.pick(tt,Ae)))}),we}function Oe(oe){var we=oe.graph();we.ranksep/=2,g.forEach(oe.edges(),function(Re){var Ie=oe.edge(Re);Ie.minlen*=2,Ie.labelpos.toLowerCase()!=="c"&&(we.rankdir==="TB"||we.rankdir==="BT"?Ie.width+=Ie.labeloffset:Ie.height+=Ie.labeloffset)})}function He(oe){g.forEach(oe.edges(),function(we){var Re=oe.edge(we);if(Re.width&&Re.height){var Ie=oe.node(we.v),tt=oe.node(we.w),ut={rank:(tt.rank-Ie.rank)/2+Ie.rank,e:we};W.addDummyNode(oe,"edge-proxy",ut,"_ep")}})}function Ke(oe){var we=0;g.forEach(oe.nodes(),function(Re){var Ie=oe.node(Re);Ie.borderTop&&(Ie.minRank=oe.node(Ie.borderTop).rank,Ie.maxRank=oe.node(Ie.borderBottom).rank,we=g.max(we,Ie.maxRank))}),oe.graph().maxRank=we}function Je(oe){g.forEach(oe.nodes(),function(we){var Re=oe.node(we);Re.dummy==="edge-proxy"&&(oe.edge(Re.e).labelRank=Re.rank,oe.removeNode(we))})}function _(oe){var we=Number.POSITIVE_INFINITY,Re=0,Ie=Number.POSITIVE_INFINITY,tt=0,ut=oe.graph(),Dt=ut.marginx||0,Ot=ut.marginy||0;function en(At){var Mt=At.x,rr=At.y,sr=At.width,xr=At.height;we=Math.min(we,Mt-sr/2),Re=Math.max(Re,Mt+sr/2),Ie=Math.min(Ie,rr-xr/2),tt=Math.max(tt,rr+xr/2)}g.forEach(oe.nodes(),function(At){en(oe.node(At))}),g.forEach(oe.edges(),function(At){var Mt=oe.edge(At);g.has(Mt,"x")&&en(Mt)}),we-=Dt,Ie-=Ot,g.forEach(oe.nodes(),function(At){var Mt=oe.node(At);Mt.x-=we,Mt.y-=Ie}),g.forEach(oe.edges(),function(At){var Mt=oe.edge(At);g.forEach(Mt.points,function(rr){rr.x-=we,rr.y-=Ie}),g.has(Mt,"x")&&(Mt.x-=we),g.has(Mt,"y")&&(Mt.y-=Ie)}),ut.width=Re-we+Dt,ut.height=tt-Ie+Ot}function ce(oe){g.forEach(oe.edges(),function(we){var Re=oe.edge(we),Ie=oe.node(we.v),tt=oe.node(we.w),ut,Dt;Re.points?(ut=Re.points[0],Dt=Re.points[Re.points.length-1]):(Re.points=[],ut=tt,Dt=Ie),Re.points.unshift(W.intersectRect(Ie,ut)),Re.points.push(W.intersectRect(tt,Dt))})}function ge(oe){g.forEach(oe.edges(),function(we){var Re=oe.edge(we);if(g.has(Re,"x"))switch((Re.labelpos==="l"||Re.labelpos==="r")&&(Re.width-=Re.labeloffset),Re.labelpos){case"l":Re.x-=Re.width/2+Re.labeloffset;break;case"r":Re.x+=Re.width/2+Re.labeloffset;break}})}function Ne(oe){g.forEach(oe.edges(),function(we){var Re=oe.edge(we);Re.reversed&&Re.points.reverse()})}function qe(oe){g.forEach(oe.nodes(),function(we){if(oe.children(we).length){var Re=oe.node(we),Ie=oe.node(Re.borderTop),tt=oe.node(Re.borderBottom),ut=oe.node(g.last(Re.borderLeft)),Dt=oe.node(g.last(Re.borderRight));Re.width=Math.abs(Dt.x-ut.x),Re.height=Math.abs(tt.y-Ie.y),Re.x=ut.x+Re.width/2,Re.y=Ie.y+Re.height/2}}),g.forEach(oe.nodes(),function(we){oe.node(we).dummy==="border"&&oe.removeNode(we)})}function ue(oe){g.forEach(oe.edges(),function(we){if(we.v===we.w){var Re=oe.node(we.v);Re.selfEdges||(Re.selfEdges=[]),Re.selfEdges.push({e:we,label:oe.edge(we)}),oe.removeEdge(we)}})}function Ze(oe){var we=W.buildLayerMatrix(oe);g.forEach(we,function(Re){var Ie=0;g.forEach(Re,function(tt,ut){var Dt=oe.node(tt);Dt.order=ut+Ie,g.forEach(Dt.selfEdges,function(Ot){W.addDummyNode(oe,"selfedge",{width:Ot.label.width,height:Ot.label.height,rank:Dt.rank,order:ut+ ++Ie,e:Ot.e,label:Ot.label},"_se")}),delete Dt.selfEdges})})}function Ue(oe){g.forEach(oe.nodes(),function(we){var Re=oe.node(we);if(Re.dummy==="selfedge"){var Ie=oe.node(Re.e.v),tt=Ie.x+Ie.width/2,ut=Ie.y,Dt=Re.x-tt,Ot=Ie.height/2;oe.setEdge(Re.e,Re.label),oe.removeNode(we),Re.label.points=[{x:tt+2*Dt/3,y:ut-Ot},{x:tt+5*Dt/6,y:ut-Ot},{x:tt+Dt,y:ut},{x:tt+5*Dt/6,y:ut+Ot},{x:tt+2*Dt/3,y:ut+Ot}],Re.label.x=Re.x,Re.label.y=Re.y}})}function Ye(oe,we){return g.mapValues(g.pick(oe,we),Number)}function ct(oe){var we={};return g.forEach(oe,function(Re,Ie){we[Ie.toLowerCase()]=Re}),we}},43294:(U,ve,m)=>{var g;try{g={cloneDeep:m(9850),constant:m(86874),defaults:m(84573),each:m(79421),filter:m(90882),find:m(55281),flatten:m(35676),forEach:m(99628),forIn:m(20792),has:m(93352),isUndefined:m(84336),last:m(56974),map:m(16760),mapValues:m(34519),max:m(71644),merge:m(98537),min:m(65680),minBy:m(10937),now:m(61100),pick:m(13888),range:m(2689),reduce:m(58215),sortBy:m(829),uniqueId:m(74930),values:m(98346),zipObject:m(46150)}}catch{}g||(g=window._),U.exports=g},96820:(U,ve,m)=>{var g=m(43294),N=m(8783);U.exports={run:R,cleanup:B};function R(S){var D=N.addDummyNode(S,"root",{},"_root"),L=E(S),C=g.max(g.values(L))-1,z=2*C+1;S.graph().nestingRoot=D,g.forEach(S.edges(),function(ee){S.edge(ee).minlen*=z});var W=T(S)+1;g.forEach(S.children(),function(ee){A(S,D,z,W,C,L,ee)}),S.graph().nodeRankFactor=z}function A(S,D,L,C,z,W,ee){var he=S.children(ee);if(!he.length){ee!==D&&S.setEdge(D,ee,{weight:0,minlen:L});return}var re=N.addBorderNode(S,"_bt"),j=N.addBorderNode(S,"_bb"),Y=S.node(ee);S.setParent(re,ee),Y.borderTop=re,S.setParent(j,ee),Y.borderBottom=j,g.forEach(he,function(Z){A(S,D,L,C,z,W,Z);var X=S.node(Z),te=X.borderTop?X.borderTop:Z,ae=X.borderBottom?X.borderBottom:Z,be=X.borderTop?C:2*C,de=te!==ae?1:z-W[ee]+1;S.setEdge(re,te,{weight:be,minlen:de,nestingEdge:!0}),S.setEdge(ae,j,{weight:be,minlen:de,nestingEdge:!0})}),S.parent(ee)||S.setEdge(D,re,{weight:0,minlen:z+W[ee]})}function E(S){var D={};function L(C,z){var W=S.children(C);W&&W.length&&g.forEach(W,function(ee){L(ee,z+1)}),D[C]=z}return g.forEach(S.children(),function(C){L(C,1)}),D}function T(S){return g.reduce(S.edges(),function(D,L){return D+S.edge(L).weight},0)}function B(S){var D=S.graph();S.removeNode(D.nestingRoot),delete D.nestingRoot,g.forEach(S.edges(),function(L){var C=S.edge(L);C.nestingEdge&&S.removeEdge(L)})}},20450:(U,ve,m)=>{"use strict";var g=m(43294),N=m(8783);U.exports={run:R,undo:E};function R(T){T.graph().dummyChains=[],g.forEach(T.edges(),function(B){A(T,B)})}function A(T,B){var S=B.v,D=T.node(S).rank,L=B.w,C=T.node(L).rank,z=B.name,W=T.edge(B),ee=W.labelRank;if(C!==D+1){T.removeEdge(B);var he,re,j;for(j=0,++D;D<C;++j,++D)W.points=[],re={width:0,height:0,edgeLabel:W,edgeObj:B,rank:D},he=N.addDummyNode(T,"edge",re,"_d"),D===ee&&(re.width=W.width,re.height=W.height,re.dummy="edge-label",re.labelpos=W.labelpos),T.setEdge(S,he,{weight:W.weight},z),j===0&&T.graph().dummyChains.push(he),S=he;T.setEdge(S,L,{weight:W.weight},z)}}function E(T){g.forEach(T.graph().dummyChains,function(B){var S=T.node(B),D=S.edgeLabel,L;for(T.setEdge(S.edgeObj,D);S.dummy;)L=T.successors(B)[0],T.removeNode(B),D.points.push({x:S.x,y:S.y}),S.dummy==="edge-label"&&(D.x=S.x,D.y=S.y,D.width=S.width,D.height=S.height),B=L,S=T.node(B)})}},47897:(U,ve,m)=>{var g=m(43294);U.exports=N;function N(R,A,E){var T={},B;g.forEach(E,function(S){for(var D=R.parent(S),L,C;D;){if(L=R.parent(D),L?(C=T[L],T[L]=D):(C=B,B=D),C&&C!==D){A.setEdge(C,D);return}D=L}})}},29533:(U,ve,m)=>{var g=m(43294);U.exports=N;function N(R,A){return g.map(A,function(E){var T=R.inEdges(E);if(T.length){var B=g.reduce(T,function(S,D){var L=R.edge(D),C=R.node(D.v);return{sum:S.sum+L.weight*C.order,weight:S.weight+L.weight}},{sum:0,weight:0});return{v:E,barycenter:B.sum/B.weight,weight:B.weight}}else return{v:E}})}},64622:(U,ve,m)=>{var g=m(43294),N=m(71310).Graph;U.exports=R;function R(E,T,B){var S=A(E),D=new N({compound:!0}).setGraph({root:S}).setDefaultNodeLabel(function(L){return E.node(L)});return g.forEach(E.nodes(),function(L){var C=E.node(L),z=E.parent(L);(C.rank===T||C.minRank<=T&&T<=C.maxRank)&&(D.setNode(L),D.setParent(L,z||S),g.forEach(E[B](L),function(W){var ee=W.v===L?W.w:W.v,he=D.edge(ee,L),re=g.isUndefined(he)?0:he.weight;D.setEdge(ee,L,{weight:E.edge(W).weight+re})}),g.has(C,"minRank")&&D.setNode(L,{borderLeft:C.borderLeft[T],borderRight:C.borderRight[T]}))}),D}function A(E){for(var T;E.hasNode(T=g.uniqueId("_root")););return T}},6254:(U,ve,m)=>{"use strict";var g=m(43294);U.exports=N;function N(A,E){for(var T=0,B=1;B<E.length;++B)T+=R(A,E[B-1],E[B]);return T}function R(A,E,T){for(var B=g.zipObject(T,g.map(T,function(W,ee){return ee})),S=g.flatten(g.map(E,function(W){return g.sortBy(g.map(A.outEdges(W),function(ee){return{pos:B[ee.w],weight:A.edge(ee).weight}}),"pos")}),!0),D=1;D<T.length;)D<<=1;var L=2*D-1;D-=1;var C=g.map(new Array(L),function(){return 0}),z=0;return g.forEach(S.forEach(function(W){var ee=W.pos+D;C[ee]+=W.weight;for(var he=0;ee>0;)ee%2&&(he+=C[ee+1]),ee=ee-1>>1,C[ee]+=W.weight;z+=W.weight*he})),z}},73641:(U,ve,m)=>{"use strict";var g=m(43294),N=m(65036),R=m(6254),A=m(83956),E=m(64622),T=m(47897),B=m(71310).Graph,S=m(8783);U.exports=D;function D(W){var ee=S.maxRank(W),he=L(W,g.range(1,ee+1),"inEdges"),re=L(W,g.range(ee-1,-1,-1),"outEdges"),j=N(W);z(W,j);for(var Y=Number.POSITIVE_INFINITY,Z,X=0,te=0;te<4;++X,++te){C(X%2?he:re,X%4>=2),j=S.buildLayerMatrix(W);var ae=R(W,j);ae<Y&&(te=0,Z=g.cloneDeep(j),Y=ae)}z(W,Z)}function L(W,ee,he){return g.map(ee,function(re){return E(W,re,he)})}function C(W,ee){var he=new B;g.forEach(W,function(re){var j=re.graph().root,Y=A(re,j,he,ee);g.forEach(Y.vs,function(Z,X){re.node(Z).order=X}),T(re,he,Y.vs)})}function z(W,ee){g.forEach(ee,function(he){g.forEach(he,function(re,j){W.node(re).order=j})})}},65036:(U,ve,m)=>{"use strict";var g=m(43294);U.exports=N;function N(R){var A={},E=g.filter(R.nodes(),function(L){return!R.children(L).length}),T=g.max(g.map(E,function(L){return R.node(L).rank})),B=g.map(g.range(T+1),function(){return[]});function S(L){if(!g.has(A,L)){A[L]=!0;var C=R.node(L);B[C.rank].push(L),g.forEach(R.successors(L),S)}}var D=g.sortBy(E,function(L){return R.node(L).rank});return g.forEach(D,S),B}},39953:(U,ve,m)=>{"use strict";var g=m(43294);U.exports=N;function N(E,T){var B={};g.forEach(E,function(D,L){var C=B[D.v]={indegree:0,in:[],out:[],vs:[D.v],i:L};g.isUndefined(D.barycenter)||(C.barycenter=D.barycenter,C.weight=D.weight)}),g.forEach(T.edges(),function(D){var L=B[D.v],C=B[D.w];!g.isUndefined(L)&&!g.isUndefined(C)&&(C.indegree++,L.out.push(B[D.w]))});var S=g.filter(B,function(D){return!D.indegree});return R(S)}function R(E){var T=[];function B(L){return function(C){C.merged||(g.isUndefined(C.barycenter)||g.isUndefined(L.barycenter)||C.barycenter>=L.barycenter)&&A(L,C)}}function S(L){return function(C){C.in.push(L),--C.indegree===0&&E.push(C)}}for(;E.length;){var D=E.pop();T.push(D),g.forEach(D.in.reverse(),B(D)),g.forEach(D.out,S(D))}return g.map(g.filter(T,function(L){return!L.merged}),function(L){return g.pick(L,["vs","i","barycenter","weight"])})}function A(E,T){var B=0,S=0;E.weight&&(B+=E.barycenter*E.weight,S+=E.weight),T.weight&&(B+=T.barycenter*T.weight,S+=T.weight),E.vs=T.vs.concat(E.vs),E.barycenter=B/S,E.weight=S,E.i=Math.min(T.i,E.i),T.merged=!0}},83956:(U,ve,m)=>{var g=m(43294),N=m(29533),R=m(39953),A=m(11957);U.exports=E;function E(S,D,L,C){var z=S.children(D),W=S.node(D),ee=W?W.borderLeft:void 0,he=W?W.borderRight:void 0,re={};ee&&(z=g.filter(z,function(ae){return ae!==ee&&ae!==he}));var j=N(S,z);g.forEach(j,function(ae){if(S.children(ae.v).length){var be=E(S,ae.v,L,C);re[ae.v]=be,g.has(be,"barycenter")&&B(ae,be)}});var Y=R(j,L);T(Y,re);var Z=A(Y,C);if(ee&&(Z.vs=g.flatten([ee,Z.vs,he],!0),S.predecessors(ee).length)){var X=S.node(S.predecessors(ee)[0]),te=S.node(S.predecessors(he)[0]);g.has(Z,"barycenter")||(Z.barycenter=0,Z.weight=0),Z.barycenter=(Z.barycenter*Z.weight+X.order+te.order)/(Z.weight+2),Z.weight+=2}return Z}function T(S,D){g.forEach(S,function(L){L.vs=g.flatten(L.vs.map(function(C){return D[C]?D[C].vs:C}),!0)})}function B(S,D){g.isUndefined(S.barycenter)?(S.barycenter=D.barycenter,S.weight=D.weight):(S.barycenter=(S.barycenter*S.weight+D.barycenter*D.weight)/(S.weight+D.weight),S.weight+=D.weight)}},11957:(U,ve,m)=>{var g=m(43294),N=m(8783);U.exports=R;function R(T,B){var S=N.partition(T,function(re){return g.has(re,"barycenter")}),D=S.lhs,L=g.sortBy(S.rhs,function(re){return-re.i}),C=[],z=0,W=0,ee=0;D.sort(E(!!B)),ee=A(C,L,ee),g.forEach(D,function(re){ee+=re.vs.length,C.push(re.vs),z+=re.barycenter*re.weight,W+=re.weight,ee=A(C,L,ee)});var he={vs:g.flatten(C,!0)};return W&&(he.barycenter=z/W,he.weight=W),he}function A(T,B,S){for(var D;B.length&&(D=g.last(B)).i<=S;)B.pop(),T.push(D.vs),S++;return S}function E(T){return function(B,S){return B.barycenter<S.barycenter?-1:B.barycenter>S.barycenter?1:T?S.i-B.i:B.i-S.i}}},77908:(U,ve,m)=>{var g=m(43294);U.exports=N;function N(E){var T=A(E);g.forEach(E.graph().dummyChains,function(B){for(var S=E.node(B),D=S.edgeObj,L=R(E,T,D.v,D.w),C=L.path,z=L.lca,W=0,ee=C[W],he=!0;B!==D.w;){if(S=E.node(B),he){for(;(ee=C[W])!==z&&E.node(ee).maxRank<S.rank;)W++;ee===z&&(he=!1)}if(!he){for(;W<C.length-1&&E.node(ee=C[W+1]).minRank<=S.rank;)W++;ee=C[W]}E.setParent(B,ee),B=E.successors(B)[0]}})}function R(E,T,B,S){var D=[],L=[],C=Math.min(T[B].low,T[S].low),z=Math.max(T[B].lim,T[S].lim),W,ee;W=B;do W=E.parent(W),D.push(W);while(W&&(T[W].low>C||z>T[W].lim));for(ee=W,W=S;(W=E.parent(W))!==ee;)L.push(W);return{path:D.concat(L.reverse()),lca:ee}}function A(E){var T={},B=0;function S(D){var L=B;g.forEach(E.children(D),S),T[D]={low:L,lim:B++}}return g.forEach(E.children(),S),T}},91753:(U,ve,m)=>{"use strict";var g=m(43294),N=m(71310).Graph,R=m(8783);U.exports={positionX:he,findType1Conflicts:A,findType2Conflicts:E,addConflict:B,hasConflict:S,verticalAlignment:D,horizontalCompaction:L,alignCoordinates:W,findSmallestWidthAlignment:z,balance:ee};function A(Y,Z){var X={};function te(ae,be){var de=0,Ae=0,Fe=ae.length,Oe=g.last(be);return g.forEach(be,function(He,Ke){var Je=T(Y,He),_=Je?Y.node(Je).order:Fe;(Je||He===Oe)&&(g.forEach(be.slice(Ae,Ke+1),function(ce){g.forEach(Y.predecessors(ce),function(ge){var Ne=Y.node(ge),qe=Ne.order;(qe<de||_<qe)&&!(Ne.dummy&&Y.node(ce).dummy)&&B(X,ge,ce)})}),Ae=Ke+1,de=_)}),be}return g.reduce(Z,te),X}function E(Y,Z){var X={};function te(be,de,Ae,Fe,Oe){var He;g.forEach(g.range(de,Ae),function(Ke){He=be[Ke],Y.node(He).dummy&&g.forEach(Y.predecessors(He),function(Je){var _=Y.node(Je);_.dummy&&(_.order<Fe||_.order>Oe)&&B(X,Je,He)})})}function ae(be,de){var Ae=-1,Fe,Oe=0;return g.forEach(de,function(He,Ke){if(Y.node(He).dummy==="border"){var Je=Y.predecessors(He);Je.length&&(Fe=Y.node(Je[0]).order,te(de,Oe,Ke,Ae,Fe),Oe=Ke,Ae=Fe)}te(de,Oe,de.length,Fe,be.length)}),de}return g.reduce(Z,ae),X}function T(Y,Z){if(Y.node(Z).dummy)return g.find(Y.predecessors(Z),function(X){return Y.node(X).dummy})}function B(Y,Z,X){if(Z>X){var te=Z;Z=X,X=te}var ae=Y[Z];ae||(Y[Z]=ae={}),ae[X]=!0}function S(Y,Z,X){if(Z>X){var te=Z;Z=X,X=te}return g.has(Y[Z],X)}function D(Y,Z,X,te){var ae={},be={},de={};return g.forEach(Z,function(Ae){g.forEach(Ae,function(Fe,Oe){ae[Fe]=Fe,be[Fe]=Fe,de[Fe]=Oe})}),g.forEach(Z,function(Ae){var Fe=-1;g.forEach(Ae,function(Oe){var He=te(Oe);if(He.length){He=g.sortBy(He,function(ge){return de[ge]});for(var Ke=(He.length-1)/2,Je=Math.floor(Ke),_=Math.ceil(Ke);Je<=_;++Je){var ce=He[Je];be[Oe]===Oe&&Fe<de[ce]&&!S(X,Oe,ce)&&(be[ce]=Oe,be[Oe]=ae[Oe]=ae[ce],Fe=de[ce])}}})}),{root:ae,align:be}}function L(Y,Z,X,te,ae){var be={},de=C(Y,Z,X,ae),Ae=ae?"borderLeft":"borderRight";function Fe(Ke,Je){for(var _=de.nodes(),ce=_.pop(),ge={};ce;)ge[ce]?Ke(ce):(ge[ce]=!0,_.push(ce),_=_.concat(Je(ce))),ce=_.pop()}function Oe(Ke){be[Ke]=de.inEdges(Ke).reduce(function(Je,_){return Math.max(Je,be[_.v]+de.edge(_))},0)}function He(Ke){var Je=de.outEdges(Ke).reduce(function(ce,ge){return Math.min(ce,be[ge.w]-de.edge(ge))},Number.POSITIVE_INFINITY),_=Y.node(Ke);Je!==Number.POSITIVE_INFINITY&&_.borderType!==Ae&&(be[Ke]=Math.max(be[Ke],Je))}return Fe(Oe,de.predecessors.bind(de)),Fe(He,de.successors.bind(de)),g.forEach(te,function(Ke){be[Ke]=be[X[Ke]]}),be}function C(Y,Z,X,te){var ae=new N,be=Y.graph(),de=re(be.nodesep,be.edgesep,te);return g.forEach(Z,function(Ae){var Fe;g.forEach(Ae,function(Oe){var He=X[Oe];if(ae.setNode(He),Fe){var Ke=X[Fe],Je=ae.edge(Ke,He);ae.setEdge(Ke,He,Math.max(de(Y,Oe,Fe),Je||0))}Fe=Oe})}),ae}function z(Y,Z){return g.minBy(g.values(Z),function(X){var te=Number.NEGATIVE_INFINITY,ae=Number.POSITIVE_INFINITY;return g.forIn(X,function(be,de){var Ae=j(Y,de)/2;te=Math.max(be+Ae,te),ae=Math.min(be-Ae,ae)}),te-ae})}function W(Y,Z){var X=g.values(Z),te=g.min(X),ae=g.max(X);g.forEach(["u","d"],function(be){g.forEach(["l","r"],function(de){var Ae=be+de,Fe=Y[Ae],Oe;if(Fe!==Z){var He=g.values(Fe);Oe=de==="l"?te-g.min(He):ae-g.max(He),Oe&&(Y[Ae]=g.mapValues(Fe,function(Ke){return Ke+Oe}))}})})}function ee(Y,Z){return g.mapValues(Y.ul,function(X,te){if(Z)return Y[Z.toLowerCase()][te];var ae=g.sortBy(g.map(Y,te));return(ae[1]+ae[2])/2})}function he(Y){var Z=R.buildLayerMatrix(Y),X=g.merge(A(Y,Z),E(Y,Z)),te={},ae;g.forEach(["u","d"],function(de){ae=de==="u"?Z:g.values(Z).reverse(),g.forEach(["l","r"],function(Ae){Ae==="r"&&(ae=g.map(ae,function(Ke){return g.values(Ke).reverse()}));var Fe=(de==="u"?Y.predecessors:Y.successors).bind(Y),Oe=D(Y,ae,X,Fe),He=L(Y,ae,Oe.root,Oe.align,Ae==="r");Ae==="r"&&(He=g.mapValues(He,function(Ke){return-Ke})),te[de+Ae]=He})});var be=z(Y,te);return W(te,be),ee(te,Y.graph().align)}function re(Y,Z,X){return function(te,ae,be){var de=te.node(ae),Ae=te.node(be),Fe=0,Oe;if(Fe+=de.width/2,g.has(de,"labelpos"))switch(de.labelpos.toLowerCase()){case"l":Oe=-de.width/2;break;case"r":Oe=de.width/2;break}if(Oe&&(Fe+=X?Oe:-Oe),Oe=0,Fe+=(de.dummy?Z:Y)/2,Fe+=(Ae.dummy?Z:Y)/2,Fe+=Ae.width/2,g.has(Ae,"labelpos"))switch(Ae.labelpos.toLowerCase()){case"l":Oe=Ae.width/2;break;case"r":Oe=-Ae.width/2;break}return Oe&&(Fe+=X?Oe:-Oe),Oe=0,Fe}}function j(Y,Z){return Y.node(Z).width}},65784:(U,ve,m)=>{"use strict";var g=m(43294),N=m(8783),R=m(91753).positionX;U.exports=A;function A(T){T=N.asNonCompoundGraph(T),E(T),g.forEach(R(T),function(B,S){T.node(S).x=B})}function E(T){var B=N.buildLayerMatrix(T),S=T.graph().ranksep,D=0;g.forEach(B,function(L){var C=g.max(g.map(L,function(z){return T.node(z).height}));g.forEach(L,function(z){T.node(z).y=D+C/2}),D+=C+S})}},49154:(U,ve,m)=>{"use strict";var g=m(43294),N=m(71310).Graph,R=m(85986).slack;U.exports=A;function A(S){var D=new N({directed:!1}),L=S.nodes()[0],C=S.nodeCount();D.setNode(L,{});for(var z,W;E(D,S)<C;)z=T(D,S),W=D.hasNode(z.v)?R(S,z):-R(S,z),B(D,S,W);return D}function E(S,D){function L(C){g.forEach(D.nodeEdges(C),function(z){var W=z.v,ee=C===W?z.w:W;!S.hasNode(ee)&&!R(D,z)&&(S.setNode(ee,{}),S.setEdge(C,ee,{}),L(ee))})}return g.forEach(S.nodes(),L),S.nodeCount()}function T(S,D){return g.minBy(D.edges(),function(L){if(S.hasNode(L.v)!==S.hasNode(L.w))return R(D,L)})}function B(S,D,L){g.forEach(S.nodes(),function(C){D.node(C).rank+=L})}},64618:(U,ve,m)=>{"use strict";var g=m(85986),N=g.longestPath,R=m(49154),A=m(57310);U.exports=E;function E(D){switch(D.graph().ranker){case"network-simplex":S(D);break;case"tight-tree":B(D);break;case"longest-path":T(D);break;default:S(D)}}var T=N;function B(D){N(D),R(D)}function S(D){A(D)}},57310:(U,ve,m)=>{"use strict";var g=m(43294),N=m(49154),R=m(85986).slack,A=m(85986).longestPath,E=m(71310).alg.preorder,T=m(71310).alg.postorder,B=m(8783).simplify;U.exports=S,S.initLowLimValues=z,S.initCutValues=D,S.calcCutValue=C,S.leaveEdge=ee,S.enterEdge=he,S.exchangeEdges=re;function S(X){X=B(X),A(X);var te=N(X);z(te),D(te,X);for(var ae,be;ae=ee(te);)be=he(te,X,ae),re(te,X,ae,be)}function D(X,te){var ae=T(X,X.nodes());ae=ae.slice(0,ae.length-1),g.forEach(ae,function(be){L(X,te,be)})}function L(X,te,ae){var be=X.node(ae),de=be.parent;X.edge(ae,de).cutvalue=C(X,te,ae)}function C(X,te,ae){var be=X.node(ae),de=be.parent,Ae=!0,Fe=te.edge(ae,de),Oe=0;return Fe||(Ae=!1,Fe=te.edge(de,ae)),Oe=Fe.weight,g.forEach(te.nodeEdges(ae),function(He){var Ke=He.v===ae,Je=Ke?He.w:He.v;if(Je!==de){var _=Ke===Ae,ce=te.edge(He).weight;if(Oe+=_?ce:-ce,Y(X,ae,Je)){var ge=X.edge(ae,Je).cutvalue;Oe+=_?-ge:ge}}}),Oe}function z(X,te){arguments.length<2&&(te=X.nodes()[0]),W(X,{},1,te)}function W(X,te,ae,be,de){var Ae=ae,Fe=X.node(be);return te[be]=!0,g.forEach(X.neighbors(be),function(Oe){g.has(te,Oe)||(ae=W(X,te,ae,Oe,be))}),Fe.low=Ae,Fe.lim=ae++,de?Fe.parent=de:delete Fe.parent,ae}function ee(X){return g.find(X.edges(),function(te){return X.edge(te).cutvalue<0})}function he(X,te,ae){var be=ae.v,de=ae.w;te.hasEdge(be,de)||(be=ae.w,de=ae.v);var Ae=X.node(be),Fe=X.node(de),Oe=Ae,He=!1;Ae.lim>Fe.lim&&(Oe=Fe,He=!0);var Ke=g.filter(te.edges(),function(Je){return He===Z(X,X.node(Je.v),Oe)&&He!==Z(X,X.node(Je.w),Oe)});return g.minBy(Ke,function(Je){return R(te,Je)})}function re(X,te,ae,be){var de=ae.v,Ae=ae.w;X.removeEdge(de,Ae),X.setEdge(be.v,be.w,{}),z(X),D(X,te),j(X,te)}function j(X,te){var ae=g.find(X.nodes(),function(de){return!te.node(de).parent}),be=E(X,ae);be=be.slice(1),g.forEach(be,function(de){var Ae=X.node(de).parent,Fe=te.edge(de,Ae),Oe=!1;Fe||(Fe=te.edge(Ae,de),Oe=!0),te.node(de).rank=te.node(Ae).rank+(Oe?Fe.minlen:-Fe.minlen)})}function Y(X,te,ae){return X.hasEdge(te,ae)}function Z(X,te,ae){return ae.low<=te.lim&&te.lim<=ae.lim}},85986:(U,ve,m)=>{"use strict";var g=m(43294);U.exports={longestPath:N,slack:R};function N(A){var E={};function T(B){var S=A.node(B);if(g.has(E,B))return S.rank;E[B]=!0;var D=g.min(g.map(A.outEdges(B),function(L){return T(L.w)-A.edge(L).minlen}));return(D===Number.POSITIVE_INFINITY||D===void 0||D===null)&&(D=0),S.rank=D}g.forEach(A.sources(),T)}function R(A,E){return A.node(E.w).rank-A.node(E.v).rank-A.edge(E).minlen}},8783:(U,ve,m)=>{"use strict";var g=m(43294),N=m(71310).Graph;U.exports={addDummyNode:R,simplify:A,asNonCompoundGraph:E,successorWeights:T,predecessorWeights:B,intersectRect:S,buildLayerMatrix:D,normalizeRanks:L,removeEmptyRanks:C,addBorderNode:z,maxRank:W,partition:ee,time:he,notime:re};function R(j,Y,Z,X){var te;do te=g.uniqueId(X);while(j.hasNode(te));return Z.dummy=Y,j.setNode(te,Z),te}function A(j){var Y=new N().setGraph(j.graph());return g.forEach(j.nodes(),function(Z){Y.setNode(Z,j.node(Z))}),g.forEach(j.edges(),function(Z){var X=Y.edge(Z.v,Z.w)||{weight:0,minlen:1},te=j.edge(Z);Y.setEdge(Z.v,Z.w,{weight:X.weight+te.weight,minlen:Math.max(X.minlen,te.minlen)})}),Y}function E(j){var Y=new N({multigraph:j.isMultigraph()}).setGraph(j.graph());return g.forEach(j.nodes(),function(Z){j.children(Z).length||Y.setNode(Z,j.node(Z))}),g.forEach(j.edges(),function(Z){Y.setEdge(Z,j.edge(Z))}),Y}function T(j){var Y=g.map(j.nodes(),function(Z){var X={};return g.forEach(j.outEdges(Z),function(te){X[te.w]=(X[te.w]||0)+j.edge(te).weight}),X});return g.zipObject(j.nodes(),Y)}function B(j){var Y=g.map(j.nodes(),function(Z){var X={};return g.forEach(j.inEdges(Z),function(te){X[te.v]=(X[te.v]||0)+j.edge(te).weight}),X});return g.zipObject(j.nodes(),Y)}function S(j,Y){var Z=j.x,X=j.y,te=Y.x-Z,ae=Y.y-X,be=j.width/2,de=j.height/2;if(!te&&!ae)throw new Error("Not possible to find intersection inside of the rectangle");var Ae,Fe;return Math.abs(ae)*be>Math.abs(te)*de?(ae<0&&(de=-de),Ae=de*te/ae,Fe=de):(te<0&&(be=-be),Ae=be,Fe=be*ae/te),{x:Z+Ae,y:X+Fe}}function D(j){var Y=g.map(g.range(W(j)+1),function(){return[]});return g.forEach(j.nodes(),function(Z){var X=j.node(Z),te=X.rank;g.isUndefined(te)||(Y[te][X.order]=Z)}),Y}function L(j){var Y=g.min(g.map(j.nodes(),function(Z){return j.node(Z).rank}));g.forEach(j.nodes(),function(Z){var X=j.node(Z);g.has(X,"rank")&&(X.rank-=Y)})}function C(j){var Y=g.min(g.map(j.nodes(),function(ae){return j.node(ae).rank})),Z=[];g.forEach(j.nodes(),function(ae){var be=j.node(ae).rank-Y;Z[be]||(Z[be]=[]),Z[be].push(ae)});var X=0,te=j.graph().nodeRankFactor;g.forEach(Z,function(ae,be){g.isUndefined(ae)&&be%te!==0?--X:X&&g.forEach(ae,function(de){j.node(de).rank+=X})})}function z(j,Y,Z,X){var te={width:0,height:0};return arguments.length>=4&&(te.rank=Z,te.order=X),R(j,"border",te,Y)}function W(j){return g.max(g.map(j.nodes(),function(Y){var Z=j.node(Y).rank;if(!g.isUndefined(Z))return Z}))}function ee(j,Y){var Z={lhs:[],rhs:[]};return g.forEach(j,function(X){Y(X)?Z.lhs.push(X):Z.rhs.push(X)}),Z}function he(j,Y){var Z=g.now();try{return Y()}finally{console.log(j+" time: "+(g.now()-Z)+"ms")}}function re(j,Y){return Y()}},57589:U=>{U.exports="0.8.5"},87377:(U,ve,m)=>{var g=m(89);U.exports={Graph:g.Graph,json:m(80109),alg:m(577),version:g.version}},95189:(U,ve,m)=>{var g=m(60274);U.exports=N;function N(R){var A={},E=[],T;function B(S){g.has(A,S)||(A[S]=!0,T.push(S),g.each(R.successors(S),B),g.each(R.predecessors(S),B))}return g.each(R.nodes(),function(S){T=[],B(S),T.length&&E.push(T)}),E}},70223:(U,ve,m)=>{var g=m(60274);U.exports=N;function N(A,E,T){g.isArray(E)||(E=[E]);var B=(A.isDirected()?A.successors:A.neighbors).bind(A),S=[],D={};return g.each(E,function(L){if(!A.hasNode(L))throw new Error("Graph does not have node: "+L);R(A,L,T==="post",D,B,S)}),S}function R(A,E,T,B,S,D){g.has(B,E)||(B[E]=!0,T||D.push(E),g.each(S(E),function(L){R(A,L,T,B,S,D)}),T&&D.push(E))}},19487:(U,ve,m)=>{var g=m(16493),N=m(60274);U.exports=R;function R(A,E,T){return N.transform(A.nodes(),function(B,S){B[S]=g(A,S,E,T)},{})}},16493:(U,ve,m)=>{var g=m(60274),N=m(70905);U.exports=A;var R=g.constant(1);function A(T,B,S,D){return E(T,String(B),S||R,D||function(L){return T.outEdges(L)})}function E(T,B,S,D){var L={},C=new N,z,W,ee=function(he){var re=he.v!==z?he.v:he.w,j=L[re],Y=S(he),Z=W.distance+Y;if(Y<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+he+" Weight: "+Y);Z<j.distance&&(j.distance=Z,j.predecessor=z,C.decrease(re,Z))};for(T.nodes().forEach(function(he){var re=he===B?0:Number.POSITIVE_INFINITY;L[he]={distance:re},C.add(he,re)});C.size()>0&&(z=C.removeMin(),W=L[z],W.distance!==Number.POSITIVE_INFINITY);)D(z).forEach(ee);return L}},24395:(U,ve,m)=>{var g=m(60274),N=m(99289);U.exports=R;function R(A){return g.filter(N(A),function(E){return E.length>1||E.length===1&&A.hasEdge(E[0],E[0])})}},92077:(U,ve,m)=>{var g=m(60274);U.exports=R;var N=g.constant(1);function R(E,T,B){return A(E,T||N,B||function(S){return E.outEdges(S)})}function A(E,T,B){var S={},D=E.nodes();return D.forEach(function(L){S[L]={},S[L][L]={distance:0},D.forEach(function(C){L!==C&&(S[L][C]={distance:Number.POSITIVE_INFINITY})}),B(L).forEach(function(C){var z=C.v===L?C.w:C.v,W=T(C);S[L][z]={distance:W,predecessor:L}})}),D.forEach(function(L){var C=S[L];D.forEach(function(z){var W=S[z];D.forEach(function(ee){var he=W[L],re=C[ee],j=W[ee],Y=he.distance+re.distance;Y<j.distance&&(j.distance=Y,j.predecessor=re.predecessor)})})}),S}},577:(U,ve,m)=>{U.exports={components:m(95189),dijkstra:m(16493),dijkstraAll:m(19487),findCycles:m(24395),floydWarshall:m(92077),isAcyclic:m(67141),postorder:m(34825),preorder:m(78852),prim:m(78492),tarjan:m(99289),topsort:m(69176)}},67141:(U,ve,m)=>{var g=m(69176);U.exports=N;function N(R){try{g(R)}catch(A){if(A instanceof g.CycleException)return!1;throw A}return!0}},34825:(U,ve,m)=>{var g=m(70223);U.exports=N;function N(R,A){return g(R,A,"post")}},78852:(U,ve,m)=>{var g=m(70223);U.exports=N;function N(R,A){return g(R,A,"pre")}},78492:(U,ve,m)=>{var g=m(60274),N=m(53099),R=m(70905);U.exports=A;function A(E,T){var B=new N,S={},D=new R,L;function C(W){var ee=W.v===L?W.w:W.v,he=D.priority(ee);if(he!==void 0){var re=T(W);re<he&&(S[ee]=L,D.decrease(ee,re))}}if(E.nodeCount()===0)return B;g.each(E.nodes(),function(W){D.add(W,Number.POSITIVE_INFINITY),B.setNode(W)}),D.decrease(E.nodes()[0],0);for(var z=!1;D.size()>0;){if(L=D.removeMin(),g.has(S,L))B.setEdge(L,S[L]);else{if(z)throw new Error("Input graph is not connected: "+E);z=!0}E.nodeEdges(L).forEach(C)}return B}},99289:(U,ve,m)=>{var g=m(60274);U.exports=N;function N(R){var A=0,E=[],T={},B=[];function S(D){var L=T[D]={onStack:!0,lowlink:A,index:A++};if(E.push(D),R.successors(D).forEach(function(W){g.has(T,W)?T[W].onStack&&(L.lowlink=Math.min(L.lowlink,T[W].index)):(S(W),L.lowlink=Math.min(L.lowlink,T[W].lowlink))}),L.lowlink===L.index){var C=[],z;do z=E.pop(),T[z].onStack=!1,C.push(z);while(D!==z);B.push(C)}}return R.nodes().forEach(function(D){g.has(T,D)||S(D)}),B}},69176:(U,ve,m)=>{var g=m(60274);U.exports=N,N.CycleException=R;function N(A){var E={},T={},B=[];function S(D){if(g.has(T,D))throw new R;g.has(E,D)||(T[D]=!0,E[D]=!0,g.each(A.predecessors(D),S),delete T[D],B.push(D))}if(g.each(A.sinks(),S),g.size(E)!==A.nodeCount())throw new R;return B}function R(){}R.prototype=new Error},70905:(U,ve,m)=>{var g=m(60274);U.exports=N;function N(){this._arr=[],this._keyIndices={}}N.prototype.size=function(){return this._arr.length},N.prototype.keys=function(){return this._arr.map(function(R){return R.key})},N.prototype.has=function(R){return g.has(this._keyIndices,R)},N.prototype.priority=function(R){var A=this._keyIndices[R];if(A!==void 0)return this._arr[A].priority},N.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key},N.prototype.add=function(R,A){var E=this._keyIndices;if(R=String(R),!g.has(E,R)){var T=this._arr,B=T.length;return E[R]=B,T.push({key:R,priority:A}),this._decrease(B),!0}return!1},N.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var R=this._arr.pop();return delete this._keyIndices[R.key],this._heapify(0),R.key},N.prototype.decrease=function(R,A){var E=this._keyIndices[R];if(A>this._arr[E].priority)throw new Error("New priority is greater than current priority. Key: "+R+" Old: "+this._arr[E].priority+" New: "+A);this._arr[E].priority=A,this._decrease(E)},N.prototype._heapify=function(R){var A=this._arr,E=2*R,T=E+1,B=R;E<A.length&&(B=A[E].priority<A[B].priority?E:B,T<A.length&&(B=A[T].priority<A[B].priority?T:B),B!==R&&(this._swap(R,B),this._heapify(B)))},N.prototype._decrease=function(R){for(var A=this._arr,E=A[R].priority,T;R!==0&&(T=R>>1,!(A[T].priority<E));)this._swap(R,T),R=T},N.prototype._swap=function(R,A){var E=this._arr,T=this._keyIndices,B=E[R],S=E[A];E[R]=S,E[A]=B,T[S.key]=R,T[B.key]=A}},53099:(U,ve,m)=>{"use strict";var g=m(60274);U.exports=E;var N="\0",R="\0",A="";function E(C){this._isDirected=g.has(C,"directed")?C.directed:!0,this._isMultigraph=g.has(C,"multigraph")?C.multigraph:!1,this._isCompound=g.has(C,"compound")?C.compound:!1,this._label=void 0,this._defaultNodeLabelFn=g.constant(void 0),this._defaultEdgeLabelFn=g.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[R]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}E.prototype._nodeCount=0,E.prototype._edgeCount=0,E.prototype.isDirected=function(){return this._isDirected},E.prototype.isMultigraph=function(){return this._isMultigraph},E.prototype.isCompound=function(){return this._isCompound},E.prototype.setGraph=function(C){return this._label=C,this},E.prototype.graph=function(){return this._label},E.prototype.setDefaultNodeLabel=function(C){return g.isFunction(C)||(C=g.constant(C)),this._defaultNodeLabelFn=C,this},E.prototype.nodeCount=function(){return this._nodeCount},E.prototype.nodes=function(){return g.keys(this._nodes)},E.prototype.sources=function(){var C=this;return g.filter(this.nodes(),function(z){return g.isEmpty(C._in[z])})},E.prototype.sinks=function(){var C=this;return g.filter(this.nodes(),function(z){return g.isEmpty(C._out[z])})},E.prototype.setNodes=function(C,z){var W=arguments,ee=this;return g.each(C,function(he){W.length>1?ee.setNode(he,z):ee.setNode(he)}),this},E.prototype.setNode=function(C,z){return g.has(this._nodes,C)?(arguments.length>1&&(this._nodes[C]=z),this):(this._nodes[C]=arguments.length>1?z:this._defaultNodeLabelFn(C),this._isCompound&&(this._parent[C]=R,this._children[C]={},this._children[R][C]=!0),this._in[C]={},this._preds[C]={},this._out[C]={},this._sucs[C]={},++this._nodeCount,this)},E.prototype.node=function(C){return this._nodes[C]},E.prototype.hasNode=function(C){return g.has(this._nodes,C)},E.prototype.removeNode=function(C){var z=this;if(g.has(this._nodes,C)){var W=function(ee){z.removeEdge(z._edgeObjs[ee])};delete this._nodes[C],this._isCompound&&(this._removeFromParentsChildList(C),delete this._parent[C],g.each(this.children(C),function(ee){z.setParent(ee)}),delete this._children[C]),g.each(g.keys(this._in[C]),W),delete this._in[C],delete this._preds[C],g.each(g.keys(this._out[C]),W),delete this._out[C],delete this._sucs[C],--this._nodeCount}return this},E.prototype.setParent=function(C,z){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(g.isUndefined(z))z=R;else{z+="";for(var W=z;!g.isUndefined(W);W=this.parent(W))if(W===C)throw new Error("Setting "+z+" as parent of "+C+" would create a cycle");this.setNode(z)}return this.setNode(C),this._removeFromParentsChildList(C),this._parent[C]=z,this._children[z][C]=!0,this},E.prototype._removeFromParentsChildList=function(C){delete this._children[this._parent[C]][C]},E.prototype.parent=function(C){if(this._isCompound){var z=this._parent[C];if(z!==R)return z}},E.prototype.children=function(C){if(g.isUndefined(C)&&(C=R),this._isCompound){var z=this._children[C];if(z)return g.keys(z)}else{if(C===R)return this.nodes();if(this.hasNode(C))return[]}},E.prototype.predecessors=function(C){var z=this._preds[C];if(z)return g.keys(z)},E.prototype.successors=function(C){var z=this._sucs[C];if(z)return g.keys(z)},E.prototype.neighbors=function(C){var z=this.predecessors(C);if(z)return g.union(z,this.successors(C))},E.prototype.isLeaf=function(C){var z;return this.isDirected()?z=this.successors(C):z=this.neighbors(C),z.length===0},E.prototype.filterNodes=function(C){var z=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});z.setGraph(this.graph());var W=this;g.each(this._nodes,function(re,j){C(j)&&z.setNode(j,re)}),g.each(this._edgeObjs,function(re){z.hasNode(re.v)&&z.hasNode(re.w)&&z.setEdge(re,W.edge(re))});var ee={};function he(re){var j=W.parent(re);return j===void 0||z.hasNode(j)?(ee[re]=j,j):j in ee?ee[j]:he(j)}return this._isCompound&&g.each(z.nodes(),function(re){z.setParent(re,he(re))}),z},E.prototype.setDefaultEdgeLabel=function(C){return g.isFunction(C)||(C=g.constant(C)),this._defaultEdgeLabelFn=C,this},E.prototype.edgeCount=function(){return this._edgeCount},E.prototype.edges=function(){return g.values(this._edgeObjs)},E.prototype.setPath=function(C,z){var W=this,ee=arguments;return g.reduce(C,function(he,re){return ee.length>1?W.setEdge(he,re,z):W.setEdge(he,re),re}),this},E.prototype.setEdge=function(){var C,z,W,ee,he=!1,re=arguments[0];typeof re=="object"&&re!==null&&"v"in re?(C=re.v,z=re.w,W=re.name,arguments.length===2&&(ee=arguments[1],he=!0)):(C=re,z=arguments[1],W=arguments[3],arguments.length>2&&(ee=arguments[2],he=!0)),C=""+C,z=""+z,g.isUndefined(W)||(W=""+W);var j=S(this._isDirected,C,z,W);if(g.has(this._edgeLabels,j))return he&&(this._edgeLabels[j]=ee),this;if(!g.isUndefined(W)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(C),this.setNode(z),this._edgeLabels[j]=he?ee:this._defaultEdgeLabelFn(C,z,W);var Y=D(this._isDirected,C,z,W);return C=Y.v,z=Y.w,Object.freeze(Y),this._edgeObjs[j]=Y,T(this._preds[z],C),T(this._sucs[C],z),this._in[z][j]=Y,this._out[C][j]=Y,this._edgeCount++,this},E.prototype.edge=function(C,z,W){var ee=arguments.length===1?L(this._isDirected,arguments[0]):S(this._isDirected,C,z,W);return this._edgeLabels[ee]},E.prototype.hasEdge=function(C,z,W){var ee=arguments.length===1?L(this._isDirected,arguments[0]):S(this._isDirected,C,z,W);return g.has(this._edgeLabels,ee)},E.prototype.removeEdge=function(C,z,W){var ee=arguments.length===1?L(this._isDirected,arguments[0]):S(this._isDirected,C,z,W),he=this._edgeObjs[ee];return he&&(C=he.v,z=he.w,delete this._edgeLabels[ee],delete this._edgeObjs[ee],B(this._preds[z],C),B(this._sucs[C],z),delete this._in[z][ee],delete this._out[C][ee],this._edgeCount--),this},E.prototype.inEdges=function(C,z){var W=this._in[C];if(W){var ee=g.values(W);return z?g.filter(ee,function(he){return he.v===z}):ee}},E.prototype.outEdges=function(C,z){var W=this._out[C];if(W){var ee=g.values(W);return z?g.filter(ee,function(he){return he.w===z}):ee}},E.prototype.nodeEdges=function(C,z){var W=this.inEdges(C,z);if(W)return W.concat(this.outEdges(C,z))};function T(C,z){C[z]?C[z]++:C[z]=1}function B(C,z){--C[z]||delete C[z]}function S(C,z,W,ee){var he=""+z,re=""+W;if(!C&&he>re){var j=he;he=re,re=j}return he+A+re+A+(g.isUndefined(ee)?N:ee)}function D(C,z,W,ee){var he=""+z,re=""+W;if(!C&&he>re){var j=he;he=re,re=j}var Y={v:he,w:re};return ee&&(Y.name=ee),Y}function L(C,z){return S(C,z.v,z.w,z.name)}},89:(U,ve,m)=>{U.exports={Graph:m(53099),version:m(90702)}},80109:(U,ve,m)=>{var g=m(60274),N=m(53099);U.exports={write:R,read:T};function R(B){var S={options:{directed:B.isDirected(),multigraph:B.isMultigraph(),compound:B.isCompound()},nodes:A(B),edges:E(B)};return g.isUndefined(B.graph())||(S.value=g.clone(B.graph())),S}function A(B){return g.map(B.nodes(),function(S){var D=B.node(S),L=B.parent(S),C={v:S};return g.isUndefined(D)||(C.value=D),g.isUndefined(L)||(C.parent=L),C})}function E(B){return g.map(B.edges(),function(S){var D=B.edge(S),L={v:S.v,w:S.w};return g.isUndefined(S.name)||(L.name=S.name),g.isUndefined(D)||(L.value=D),L})}function T(B){var S=new N(B.options).setGraph(B.value);return g.each(B.nodes,function(D){S.setNode(D.v,D.value),D.parent&&S.setParent(D.v,D.parent)}),g.each(B.edges,function(D){S.setEdge({v:D.v,w:D.w,name:D.name},D.value)}),S}},60274:(U,ve,m)=>{var g;try{g={clone:m(54004),constant:m(86874),each:m(79421),filter:m(90882),has:m(93352),isArray:m(86152),isEmpty:m(45455),isFunction:m(61049),isUndefined:m(84336),keys:m(90249),map:m(16760),reduce:m(58215),size:m(36402),transform:m(89466),union:m(26139),values:m(98346)}}catch{}g||(g=window._),U.exports=g},90702:U=>{U.exports="2.1.8"},71254:(U,ve,m)=>{U.exports=m(38397)},38397:function(U,ve){var m,g,N;(function(){var R,A,E,T,B,S,D,L,C,z,W,ee,he,re,j;E=Math.floor,z=Math.min,A=function(Y,Z){return Y<Z?-1:Y>Z?1:0},C=function(Y,Z,X,te,ae){var be;if(X==null&&(X=0),ae==null&&(ae=A),X<0)throw new Error("lo must be non-negative");for(te==null&&(te=Y.length);X<te;)be=E((X+te)/2),ae(Z,Y[be])<0?te=be:X=be+1;return[].splice.apply(Y,[X,X-X].concat(Z)),Z},S=function(Y,Z,X){return X==null&&(X=A),Y.push(Z),re(Y,0,Y.length-1,X)},B=function(Y,Z){var X,te;return Z==null&&(Z=A),X=Y.pop(),Y.length?(te=Y[0],Y[0]=X,j(Y,0,Z)):te=X,te},L=function(Y,Z,X){var te;return X==null&&(X=A),te=Y[0],Y[0]=Z,j(Y,0,X),te},D=function(Y,Z,X){var te;return X==null&&(X=A),Y.length&&X(Y[0],Z)<0&&(te=[Y[0],Z],Z=te[0],Y[0]=te[1],j(Y,0,X)),Z},T=function(Y,Z){var X,te,ae,be,de,Ae,Fe,Oe;for(Z==null&&(Z=A),Ae=function(){Oe=[];for(var He=0,Ke=E(Y.length/2);0<=Ke?He<Ke:He>Ke;0<=Ke?He++:He--)Oe.push(He);return Oe}.apply(this).reverse(),Fe=[],te=0,be=Ae.length;te<be;te++)X=Ae[te],Fe.push(j(Y,X,Z));return Fe},he=function(Y,Z,X){var te;if(X==null&&(X=A),te=Y.indexOf(Z),te!==-1)return re(Y,0,te,X),j(Y,te,X)},W=function(Y,Z,X){var te,ae,be,de,Ae;if(X==null&&(X=A),ae=Y.slice(0,Z),!ae.length)return ae;for(T(ae,X),Ae=Y.slice(Z),be=0,de=Ae.length;be<de;be++)te=Ae[be],D(ae,te,X);return ae.sort(X).reverse()},ee=function(Y,Z,X){var te,ae,be,de,Ae,Fe,Oe,He,Ke,Je;if(X==null&&(X=A),Z*10<=Y.length){if(de=Y.slice(0,Z).sort(X),!de.length)return de;for(be=de[de.length-1],He=Y.slice(Z),Ae=0,Oe=He.length;Ae<Oe;Ae++)te=He[Ae],X(te,be)<0&&(C(de,te,0,null,X),de.pop(),be=de[de.length-1]);return de}for(T(Y,X),Je=[],ae=Fe=0,Ke=z(Z,Y.length);0<=Ke?Fe<Ke:Fe>Ke;ae=0<=Ke?++Fe:--Fe)Je.push(B(Y,X));return Je},re=function(Y,Z,X,te){var ae,be,de;for(te==null&&(te=A),ae=Y[X];X>Z;){if(de=X-1>>1,be=Y[de],te(ae,be)<0){Y[X]=be,X=de;continue}break}return Y[X]=ae},j=function(Y,Z,X){var te,ae,be,de,Ae;for(X==null&&(X=A),ae=Y.length,Ae=Z,be=Y[Z],te=2*Z+1;te<ae;)de=te+1,de<ae&&!(X(Y[te],Y[de])<0)&&(te=de),Y[Z]=Y[te],Z=te,te=2*Z+1;return Y[Z]=be,re(Y,Ae,Z,X)},R=function(){Y.push=S,Y.pop=B,Y.replace=L,Y.pushpop=D,Y.heapify=T,Y.updateItem=he,Y.nlargest=W,Y.nsmallest=ee;function Y(Z){this.cmp=Z??A,this.nodes=[]}return Y.prototype.push=function(Z){return S(this.nodes,Z,this.cmp)},Y.prototype.pop=function(){return B(this.nodes,this.cmp)},Y.prototype.peek=function(){return this.nodes[0]},Y.prototype.contains=function(Z){return this.nodes.indexOf(Z)!==-1},Y.prototype.replace=function(Z){return L(this.nodes,Z,this.cmp)},Y.prototype.pushpop=function(Z){return D(this.nodes,Z,this.cmp)},Y.prototype.heapify=function(){return T(this.nodes,this.cmp)},Y.prototype.updateItem=function(Z){return he(this.nodes,Z,this.cmp)},Y.prototype.clear=function(){return this.nodes=[]},Y.prototype.empty=function(){return this.nodes.length===0},Y.prototype.size=function(){return this.nodes.length},Y.prototype.clone=function(){var Z;return Z=new Y,Z.nodes=this.nodes.slice(0),Z},Y.prototype.toArray=function(){return this.nodes.slice(0)},Y.prototype.insert=Y.prototype.push,Y.prototype.top=Y.prototype.peek,Y.prototype.front=Y.prototype.peek,Y.prototype.has=Y.prototype.contains,Y.prototype.copy=Y.prototype.clone,Y}(),function(Y,Z){return g=[],m=Z,N=typeof m=="function"?m.apply(ve,g):m,!(N!==void 0&&(U.exports=N))}(this,function(){return R})}).call(this)},38333:(U,ve,m)=>{var g=m(77832);function N(R,A){var E=R==null?0:R.length;return!!E&&g(R,A,0)>-1}U.exports=N},34893:U=>{function ve(m,g,N){for(var R=-1,A=m==null?0:m.length;++R<A;)if(N(g,m[R]))return!0;return!1}U.exports=ve},8589:(U,ve,m)=>{var g=m(20256),N=g("length");U.exports=N},28582:(U,ve,m)=>{var g=m(13940),N=m(41225);function R(A,E,T){(T!==void 0&&!N(A[E],T)||T===void 0&&!(E in A))&&g(A,E,T)}U.exports=R},2229:(U,ve,m)=>{var g=m(4795);function N(R,A,E){for(var T=-1,B=R.length;++T<B;){var S=R[T],D=A(S);if(D!=null&&(L===void 0?D===D&&!g(D):E(D,L)))var L=D,C=S}return C}U.exports=N},53117:(U,ve,m)=>{var g=m(24303);function N(R,A){var E=[];return g(R,function(T,B,S){A(T,B,S)&&E.push(T)}),E}U.exports=N},21359:U=>{function ve(m,g,N,R){for(var A=m.length,E=N+(R?1:-1);R?E--:++E<A;)if(g(m[E],E,m))return E;return-1}U.exports=ve},84134:U=>{function ve(m,g){return m>g}U.exports=ve},32726:U=>{var ve=Object.prototype,m=ve.hasOwnProperty;function g(N,R){return N!=null&&m.call(N,R)}U.exports=g},77832:(U,ve,m)=>{var g=m(21359),N=m(22195),R=m(66024);function A(E,T,B){return T===T?R(E,T,B):g(E,N,B)}U.exports=A},22195:U=>{function ve(m){return m!==m}U.exports=ve},17606:U=>{function ve(m,g){return m<g}U.exports=ve},93401:(U,ve,m)=>{var g=m(24303),N=m(67878);function R(A,E){var T=-1,B=N(A)?Array(A.length):[];return g(A,function(S,D,L){B[++T]=E(S,D,L)}),B}U.exports=R},84565:(U,ve,m)=>{var g=m(86571),N=m(28582),R=m(15308),A=m(25561),E=m(29259),T=m(18582),B=m(52434);function S(D,L,C,z,W){D!==L&&R(L,function(ee,he){if(W||(W=new g),E(ee))A(D,L,he,C,S,z,W);else{var re=z?z(B(D,he),ee,he+"",D,L,W):void 0;re===void 0&&(re=ee),N(D,he,re)}},T)}U.exports=S},25561:(U,ve,m)=>{var g=m(28582),N=m(92175),R=m(6190),A=m(51522),E=m(78725),T=m(79631),B=m(86152),S=m(93746),D=m(73226),L=m(61049),C=m(29259),z=m(97030),W=m(77598),ee=m(52434),he=m(63329);function re(j,Y,Z,X,te,ae,be){var de=ee(j,Z),Ae=ee(Y,Z),Fe=be.get(Ae);if(Fe){g(j,Z,Fe);return}var Oe=ae?ae(de,Ae,Z+"",j,Y,be):void 0,He=Oe===void 0;if(He){var Ke=B(Ae),Je=!Ke&&D(Ae),_=!Ke&&!Je&&W(Ae);Oe=Ae,Ke||Je||_?B(de)?Oe=de:S(de)?Oe=A(de):Je?(He=!1,Oe=N(Ae,!0)):_?(He=!1,Oe=R(Ae,!0)):Oe=[]:z(Ae)||T(Ae)?(Oe=de,T(de)?Oe=he(de):(!C(de)||L(de))&&(Oe=E(Ae))):He=!1}He&&(be.set(Ae,Oe),te(Oe,Ae,X,ae,be),be.delete(Ae)),g(j,Z,Oe)}U.exports=re},23813:(U,ve,m)=>{var g=m(50343),N=m(13324),R=m(68286),A=m(93401),E=m(27095),T=m(47826),B=m(18477),S=m(23059),D=m(86152);function L(C,z,W){z.length?z=g(z,function(re){return D(re)?function(j){return N(j,re.length===1?re[0]:re)}:re}):z=[S];var ee=-1;z=g(z,T(R));var he=A(C,function(re,j,Y){var Z=g(z,function(X){return X(re)});return{criteria:Z,index:++ee,value:re}});return E(he,function(re,j){return B(re,j,W)})}U.exports=L},92602:(U,ve,m)=>{var g=m(93759),N=m(95041);function R(A,E){return g(A,E,function(T,B){return N(A,B)})}U.exports=R},93228:U=>{var ve=Math.ceil,m=Math.max;function g(N,R,A,E){for(var T=-1,B=m(ve((R-N)/(A||1)),0),S=Array(B);B--;)S[E?B:++T]=N,N+=A;return S}U.exports=g},5877:U=>{function ve(m,g,N,R,A){return A(m,function(E,T,B){N=R?(R=!1,E):g(N,E,T,B)}),N}U.exports=ve},27095:U=>{function ve(m,g){var N=m.length;for(m.sort(g);N--;)m[N]=m[N].value;return m}U.exports=ve},67326:(U,ve,m)=>{var g=m(45386),N=m(38333),R=m(34893),A=m(59950),E=m(78803),T=m(16909),B=200;function S(D,L,C){var z=-1,W=N,ee=D.length,he=!0,re=[],j=re;if(C)he=!1,W=R;else if(ee>=B){var Y=L?null:E(D);if(Y)return T(Y);he=!1,W=A,j=new g}else j=L?[]:re;e:for(;++z<ee;){var Z=D[z],X=L?L(Z):Z;if(Z=C||Z!==0?Z:0,he&&X===X){for(var te=j.length;te--;)if(j[te]===X)continue e;L&&j.push(X),re.push(Z)}else W(j,X,C)||(j!==re&&j.push(X),re.push(Z))}return re}U.exports=S},40509:U=>{function ve(m,g,N){for(var R=-1,A=m.length,E=g.length,T={};++R<A;){var B=R<E?g[R]:void 0;N(T,m[R],B)}return T}U.exports=ve},89419:(U,ve,m)=>{var g=m(23059);function N(R){return typeof R=="function"?R:g}U.exports=N},27520:(U,ve,m)=>{var g=m(4795);function N(R,A){if(R!==A){var E=R!==void 0,T=R===null,B=R===R,S=g(R),D=A!==void 0,L=A===null,C=A===A,z=g(A);if(!L&&!z&&!S&&R>A||S&&D&&C&&!L&&!z||T&&D&&C||!E&&C||!B)return 1;if(!T&&!S&&!z&&R<A||z&&E&&B&&!T&&!S||L&&E&&B||!D&&B||!C)return-1}return 0}U.exports=N},18477:(U,ve,m)=>{var g=m(27520);function N(R,A,E){for(var T=-1,B=R.criteria,S=A.criteria,D=B.length,L=E.length;++T<D;){var C=g(B[T],S[T]);if(C){if(T>=L)return C;var z=E[T];return C*(z=="desc"?-1:1)}}return R.index-A.index}U.exports=N},97263:(U,ve,m)=>{var g=m(36060),N=m(82406);function R(A){return g(function(E,T){var B=-1,S=T.length,D=S>1?T[S-1]:void 0,L=S>2?T[2]:void 0;for(D=A.length>3&&typeof D=="function"?(S--,D):void 0,L&&N(T[0],T[1],L)&&(D=S<3?void 0:D,S=1),E=Object(E);++B<S;){var C=T[B];C&&A(E,C,B,D)}return E})}U.exports=R},98776:(U,ve,m)=>{var g=m(68286),N=m(67878),R=m(90249);function A(E){return function(T,B,S){var D=Object(T);if(!N(T)){var L=g(B,3);T=R(T),B=function(z){return L(D[z],z,D)}}var C=E(T,B,S);return C>-1?D[L?T[C]:C]:void 0}}U.exports=A},82941:(U,ve,m)=>{var g=m(93228),N=m(82406),R=m(5707);function A(E){return function(T,B,S){return S&&typeof S!="number"&&N(T,B,S)&&(B=S=void 0),T=R(T),B===void 0?(B=T,T=0):B=R(B),S=S===void 0?T<B?1:-1:R(S),g(T,B,S,E)}}U.exports=A},78803:(U,ve,m)=>{var g=m(2143),N=m(34291),R=m(16909),A=1/0,E=g&&1/R(new g([,-0]))[1]==A?function(T){return new g(T)}:N;U.exports=E},29097:(U,ve,m)=>{var g=m(35676),N=m(43114),R=m(75251);function A(E){return R(N(E,void 0,g),E+"")}U.exports=A},99836:U=>{var ve="\\ud800-\\udfff",m="\\u0300-\\u036f",g="\\ufe20-\\ufe2f",N="\\u20d0-\\u20ff",R=m+g+N,A="\\ufe0e\\ufe0f",E="\\u200d",T=RegExp("["+E+ve+R+A+"]");function B(S){return T.test(S)}U.exports=B},82406:(U,ve,m)=>{var g=m(41225),N=m(67878),R=m(39045),A=m(29259);function E(T,B,S){if(!A(S))return!1;var D=typeof B;return(D=="number"?N(S)&&R(B,S.length):D=="string"&&B in S)?g(S[B],T):!1}U.exports=E},52434:U=>{function ve(m,g){if(!(g==="constructor"&&typeof m[g]=="function")&&g!="__proto__")return m[g]}U.exports=ve},66024:U=>{function ve(m,g,N){for(var R=N-1,A=m.length;++R<A;)if(m[R]===g)return R;return-1}U.exports=ve},82302:(U,ve,m)=>{var g=m(8589),N=m(99836),R=m(35555);function A(E){return N(E)?R(E):g(E)}U.exports=A},35555:U=>{var ve="\\ud800-\\udfff",m="\\u0300-\\u036f",g="\\ufe20-\\ufe2f",N="\\u20d0-\\u20ff",R=m+g+N,A="\\ufe0e\\ufe0f",E="["+ve+"]",T="["+R+"]",B="\\ud83c[\\udffb-\\udfff]",S="(?:"+T+"|"+B+")",D="[^"+ve+"]",L="(?:\\ud83c[\\udde6-\\uddff]){2}",C="[\\ud800-\\udbff][\\udc00-\\udfff]",z="\\u200d",W=S+"?",ee="["+A+"]?",he="(?:"+z+"(?:"+[D,L,C].join("|")+")"+ee+W+")*",re=ee+W+he,j="(?:"+[D+T+"?",T,L,C,E].join("|")+")",Y=RegExp(B+"(?="+B+")|"+j+re,"g");function Z(X){for(var te=Y.lastIndex=0;Y.test(X);)++te;return te}U.exports=Z},9850:(U,ve,m)=>{var g=m(18874),N=1,R=4;function A(E){return g(E,N|R)}U.exports=A},84573:(U,ve,m)=>{var g=m(36060),N=m(41225),R=m(82406),A=m(18582),E=Object.prototype,T=E.hasOwnProperty,B=g(function(S,D){S=Object(S);var L=-1,C=D.length,z=C>2?D[2]:void 0;for(z&&R(D[0],D[1],z)&&(C=1);++L<C;)for(var W=D[L],ee=A(W),he=-1,re=ee.length;++he<re;){var j=ee[he],Y=S[j];(Y===void 0||N(Y,E[j])&&!T.call(S,j))&&(S[j]=W[j])}return S});U.exports=B},79421:(U,ve,m)=>{U.exports=m(99628)},90882:(U,ve,m)=>{var g=m(67552),N=m(53117),R=m(68286),A=m(86152);function E(T,B){var S=A(T)?g:N;return S(T,R(B,3))}U.exports=E},55281:(U,ve,m)=>{var g=m(98776),N=m(12982),R=g(N);U.exports=R},12982:(U,ve,m)=>{var g=m(21359),N=m(68286),R=m(38101),A=Math.max;function E(T,B,S){var D=T==null?0:T.length;if(!D)return-1;var L=S==null?0:R(S);return L<0&&(L=A(D+L,0)),g(T,N(B,3),L)}U.exports=E},99628:(U,ve,m)=>{var g=m(72517),N=m(24303),R=m(89419),A=m(86152);function E(T,B){var S=A(T)?g:N;return S(T,R(B))}U.exports=E},20792:(U,ve,m)=>{var g=m(15308),N=m(89419),R=m(18582);function A(E,T){return E==null?E:g(E,N(T),R)}U.exports=A},93352:(U,ve,m)=>{var g=m(32726),N=m(1369);function R(A,E){return A!=null&&N(A,E,g)}U.exports=R},93746:(U,ve,m)=>{var g=m(67878),N=m(15125);function R(A){return N(A)&&g(A)}U.exports=R},97030:(U,ve,m)=>{var g=m(53366),N=m(47353),R=m(15125),A="[object Object]",E=Function.prototype,T=Object.prototype,B=E.toString,S=T.hasOwnProperty,D=B.call(Object);function L(C){if(!R(C)||g(C)!=A)return!1;var z=N(C);if(z===null)return!0;var W=S.call(z,"constructor")&&z.constructor;return typeof W=="function"&&W instanceof W&&B.call(W)==D}U.exports=L},85505:(U,ve,m)=>{var g=m(53366),N=m(86152),R=m(15125),A="[object String]";function E(T){return typeof T=="string"||!N(T)&&R(T)&&g(T)==A}U.exports=E},84336:U=>{function ve(m){return m===void 0}U.exports=ve},16760:(U,ve,m)=>{var g=m(50343),N=m(68286),R=m(93401),A=m(86152);function E(T,B){var S=A(T)?g:R;return S(T,N(B,3))}U.exports=E},34519:(U,ve,m)=>{var g=m(13940),N=m(26548),R=m(68286);function A(E,T){var B={};return T=R(T,3),N(E,function(S,D,L){g(B,D,T(S,D,L))}),B}U.exports=A},71644:(U,ve,m)=>{var g=m(2229),N=m(84134),R=m(23059);function A(E){return E&&E.length?g(E,R,N):void 0}U.exports=A},98537:(U,ve,m)=>{var g=m(84565),N=m(97263),R=N(function(A,E,T){g(A,E,T)});U.exports=R},65680:(U,ve,m)=>{var g=m(2229),N=m(17606),R=m(23059);function A(E){return E&&E.length?g(E,R,N):void 0}U.exports=A},10937:(U,ve,m)=>{var g=m(2229),N=m(68286),R=m(17606);function A(E,T){return E&&E.length?g(E,N(T,2),R):void 0}U.exports=A},13888:(U,ve,m)=>{var g=m(92602),N=m(29097),R=N(function(A,E){return A==null?{}:g(A,E)});U.exports=R},2689:(U,ve,m)=>{var g=m(82941),N=g();U.exports=N},58215:(U,ve,m)=>{var g=m(81207),N=m(24303),R=m(68286),A=m(5877),E=m(86152);function T(B,S,D){var L=E(B)?g:A,C=arguments.length<3;return L(B,R(S,4),D,C,N)}U.exports=T},36402:(U,ve,m)=>{var g=m(86411),N=m(70940),R=m(67878),A=m(85505),E=m(82302),T="[object Map]",B="[object Set]";function S(D){if(D==null)return 0;if(R(D))return A(D)?E(D):D.length;var L=N(D);return L==T||L==B?D.size:g(D).length}U.exports=S},829:(U,ve,m)=>{var g=m(62034),N=m(23813),R=m(36060),A=m(82406),E=R(function(T,B){if(T==null)return[];var S=B.length;return S>1&&A(T,B[0],B[1])?B=[]:S>2&&A(B[0],B[1],B[2])&&(B=[B[0]]),N(T,g(B,1),[])});U.exports=E},25497:(U,ve,m)=>{var g=m(50343),N=m(51522),R=m(86152),A=m(4795),E=m(54452),T=m(33812),B=m(66188);function S(D){return R(D)?g(D,T):A(D)?[D]:N(E(B(D)))}U.exports=S},63329:(U,ve,m)=>{var g=m(752),N=m(18582);function R(A){return g(A,N(A))}U.exports=R},89466:(U,ve,m)=>{var g=m(72517),N=m(39413),R=m(26548),A=m(68286),E=m(47353),T=m(86152),B=m(73226),S=m(61049),D=m(29259),L=m(77598);function C(z,W,ee){var he=T(z),re=he||B(z)||L(z);if(W=A(W,4),ee==null){var j=z&&z.constructor;re?ee=he?new j:[]:D(z)?ee=S(j)?N(E(z)):{}:ee={}}return(re?g:R)(z,function(Y,Z,X){return W(ee,Y,Z,X)}),ee}U.exports=C},26139:(U,ve,m)=>{var g=m(62034),N=m(36060),R=m(67326),A=m(93746),E=N(function(T){return R(g(T,1,A,!0))});U.exports=E},74930:(U,ve,m)=>{var g=m(66188),N=0;function R(A){var E=++N;return g(A)+E}U.exports=R},46150:(U,ve,m)=>{var g=m(60091),N=m(40509);function R(A,E){return N(A||[],E||[],g)}U.exports=R},14786:function(U,ve){(function(m,g){g(ve)})(this,function(m){function g(_,ce){var ge=Object.keys(_);if(Object.getOwnPropertySymbols){var Ne=Object.getOwnPropertySymbols(_);ce&&(Ne=Ne.filter(function(qe){return Object.getOwnPropertyDescriptor(_,qe).enumerable})),ge.push.apply(ge,Ne)}return ge}function N(_){for(var ce=1;ce<arguments.length;ce++){var ge=arguments[ce]!=null?arguments[ce]:{};ce%2?g(Object(ge),!0).forEach(function(Ne){R(_,Ne,ge[Ne])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_,Object.getOwnPropertyDescriptors(ge)):g(Object(ge)).forEach(function(Ne){Object.defineProperty(_,Ne,Object.getOwnPropertyDescriptor(ge,Ne))})}return _}function R(_,ce,ge){return ce in _?Object.defineProperty(_,ce,{value:ge,enumerable:!0,configurable:!0,writable:!0}):_[ce]=ge,_}const A=new Set(["\u2014"]),E=new Set(["\xAD"]),T=new Set([" ","\u1680","\u2000","\u2001","\u2002","\u2003","\u2004","\u2005","\u2006","\u2008","\u2009","\u200A","\u205F","\u3000","	","\u200B","\u2028","\u2029"]),B=new Set(["\u058A","\u2010","\u2012","\u2013","\u05BE","\u0F0B","\u1361","\u17D8","\u17DA","\u2027","|","\u16EB","\u16EC","\u16ED","\u2056","\u2058","\u2059","\u205A","\u205B","\u205D","\u205E","\u2E19","\u2E2A","\u2E2B","\u2E2C","\u2E2D","\u2E30","\u10100","\u10101","\u10102","\u1039F","\u103D0","\u1091F","\u12470"]),S=new Set(["\xB4","\u1FFD"]),D=new Set([`
`]);function L(_,ce){ce||(ce={});const ge=Number.parseInt(ae(ce,"base-font-size",16),10),Ne=Number.parseFloat(_),qe=_.replace(Ne,"");switch(qe){case"rem":case"em":return Ne*ge;case"pt":return Ne*(96/72);case"px":return Ne}throw new Error("The unit "+qe+" is not supported")}function C(_,ce){const ge=new Set(["inherit","initial","unset","normal"]);let Ne=0;_&&!ge.has(_)&&(Ne=L(_));let qe=0;return ce&&!ge.has(ce)&&(qe=L(ce)),ue=>(ue.trim().replace(/\s+/gi," ").split(" ").length-1)*Ne+ue.length*qe}function z(_,ce){const ge=[],Ne=ae(ce,"font-weight",_.getPropertyValue("font-weight"))||"400";["normal","bold","bolder","lighter","100","200","300","400","500","600","700","800","900"].includes(Ne.toString())&&ge.push(Ne);const qe=ae(ce,"font-style",_.getPropertyValue("font-style"));["normal","italic","oblique"].includes(qe)&&ge.push(qe);const ue=ae(ce,"font-variant",_.getPropertyValue("font-variant"));["normal","small-caps"].includes(ue)&&ge.push(ue);const Ze=L(ae(ce,"font-size",_.getPropertyValue("font-size"))||"16px");ge.push(Ze+"px");const Ue=ae(ce,"font-family",_.getPropertyValue("font-family"))||"Helvetica, Arial, sans-serif";return ge.push(Ue),ge.join(" ")}function W(_){return _&&typeof _.getPropertyValue=="function"}function ee(_){return he(_)&&_.style&&typeof window<"u"&&typeof window.getComputedStyle=="function"}function he(_){return typeof HTMLElement=="object"?_ instanceof HTMLElement:Boolean(_&&typeof _=="object"&&_!==null&&_.nodeType===1&&typeof _.nodeName=="string")}function re(_){return typeof _=="object"&&_!==null&&!Array.isArray(_)}function j(_,ce){const ge=N({},ce),{style:Ne}=ge;return ce||(ce={}),W(Ne)?Ne:ee(_)?window.getComputedStyle(_,ae(ce,"pseudoElt",null)):{getPropertyValue:qe=>ae(ce,qe)}}function Y(_,ce){switch(ce){case"pre":case"pre-wrap":return _;case"pre-line":return(_||"").replace(/\s+/gm," ").trim();default:return(_||"").replace(/[\r\n]/gm," ").replace(/\s+/gm," ").trim()}}function Z(_,ce){switch(ce.getPropertyValue("text-transform")){case"uppercase":return _.toUpperCase();case"lowercase":return _.toLowerCase();default:return _}}function X(_){return _=(_||"").replace(/<wbr>/gi,"\u200B").replace(/<br\s*\/?>/gi,`
`).replace(/&shy;/gi,"\xAD").replace(/&mdash;/gi,"\u2014"),/&#(\d+)(;?)|&#[xX]([a-fA-F\d]+)(;?)|&([\da-zA-Z]+);/g.test(_)&&console&&console.error("text-metrics: Found encoded htmlenties. You may want to use https://mths.be/he to decode your text first."),_}function te(_){return _&&(_.textContent||_.textContent)||""}function ae(_,ce,ge){return _&&_[ce]!==void 0&&_[ce]||ge}function be(_){const ce={};for(const ge of Object.keys(_||{}))ce[ge.replace(/([A-Z])/g,Ne=>"-"+Ne.toLowerCase())]=_[ge];return ce}function de(_){try{const ce=document.createElement("canvas").getContext("2d"),ge=window.devicePixelRatio||1,Ne=ce.webkitBackingStorePixelRatio||ce.mozBackingStorePixelRatio||ce.msBackingStorePixelRatio||ce.oBackingStorePixelRatio||ce.backingStorePixelRatio||1;return ce.font=_,ce.setTransform(ge/Ne,0,0,ge/Ne,0,0),ce}catch(ce){throw new Error("Canvas support required"+ce.message)}}function Ae(_){return(A.has(_)?"B2":T.has(_)&&"BAI")||E.has(_)&&"SHY"||B.has(_)&&"BA"||S.has(_)&&"BB"||D.has(_)&&"BK"}function Fe(_){let{ctx:ce,text:ge,max:Ne,wordSpacing:qe,letterSpacing:ue}=_;const Ze=C(qe,ue),Ue=[],Ye=[],ct=[];let oe="",we="";if(!ge)return[];for(const Re of ge){const Ie=Ae(Re);we===""&&Ie==="BAI"||(Ie?(ct.push({chr:Re,type:Ie}),Ye.push(we),we=""):we+=Re)}we&&Ye.push(we);for(const[Re,Ie]of Ye.entries()){if(Re===0){oe=Ie;continue}const tt=ct[Re-1],ut=tt.type==="SHY"?"":tt.chr;if(tt.type==="BK"){Ue.push(oe),oe=Ie;continue}const Dt=ce.measureText(oe+ut+Ie).width+Ze(oe+ut+Ie);if(Math.round(Dt)<=Ne)oe+=ut+Ie;else switch(tt.type){case"SHY":Ue.push(oe+"-"),oe=Ie;break;case"BA":Ue.push(oe+ut),oe=Ie;break;case"BAI":Ue.push(oe),oe=Ie;break;case"BB":Ue.push(oe),oe=ut+Ie;break;case"B2":Number.parseInt(ce.measureText(oe+ut).width+Ze(oe+ut),10)<=Ne?(Ue.push(oe+ut),oe=Ie):Number.parseInt(ce.measureText(ut+Ie).width+Ze(ut+Ie),10)<=Ne?(Ue.push(oe),oe=ut+Ie):(Ue.push(oe,ut),oe=Ie);break;default:throw new Error("Undefoined break")}}return[...oe].length>0&&Ue.push(oe),Ue}function Oe(_){let{ctx:ce,text:ge,max:Ne,wordSpacing:qe,letterSpacing:ue}=_;const Ze=C(qe,ue),Ue=[];let Ye="",ct=0;if(!ge)return[];for(const oe of ge){const we=Ae(oe);if(we==="BK"){Ue.push(Ye),Ye="";continue}const Re=Ye.length;if(T.has(oe)&&(Re===0||T.has(Ye[Re-1])))continue;let Ie=ce.measureText(Ye+oe).width+Ze(Ye+oe),tt=Math.ceil(Ie);if(we==="SHY"){const ut=ge[ct+1]||"";Ie=ce.measureText(Ye+oe+ut).width+Ze(Ye+oe+ut),tt=Math.ceil(Ie)}if(tt>Ne&&[...Ye].length>0)switch(we){case"SHY":Ue.push(Ye+"-"),Ye="";break;case"BA":Ue.push(Ye+oe),Ye="";break;case"BAI":Ue.push(Ye),Ye="";break;default:Ue.push(Ye),Ye=oe}else oe!=="\xAD"&&(Ye+=oe);ct++}return[...Ye].length>0&&Ue.push(Ye),Ue}var He={__proto__:null,addWordAndLetterSpacing:C,getFont:z,isCSSStyleDeclaration:W,canGetComputedStyle:ee,isElement:he,isObject:re,getStyle:j,normalizeWhitespace:Y,getStyledText:Z,prepareText:X,getText:te,prop:ae,normalizeOptions:be,getContext2d:de,computeLinesDefault:Fe,computeLinesBreakAll:Oe};class Ke{constructor(ce,ge){ge===void 0&&(ge={}),!he(ce)&&re(ce)?(this.el=void 0,this.overwrites=be(ce)):(this.el=ce,this.overwrites=be(ge)),this.style=j(this.el,this.overwrites),this.font=ae(ge,"font",null)||z(this.style,this.overwrites)}padding(){return this.el?Number.parseInt(this.style.paddingLeft||0,10)+Number.parseInt(this.style.paddingRight||0,10):0}parseArgs(ce,ge,Ne){ge===void 0&&(ge={}),Ne===void 0&&(Ne={}),typeof ce=="object"&&ce&&(Ne=ge,ge=ce||{},ce=void 0);const qe=N(N({},this.overwrites),be(Ne)),ue=ae(qe,"white-space")||this.style.getPropertyValue("white-space");return ge||(ge={}),Ne||(ge={}),{text:ce=!ce&&this.el?Y(te(this.el),ue):X(Y(ce,ue)),options:ge,overwrites:Ne,styles:qe}}width(){const{text:ce,options:ge,overwrites:Ne,styles:qe}=this.parseArgs(...[].slice.call(arguments));if(!ce)return 0;const ue=z(this.style,qe),Ze=ae(qe,"letter-spacing")||this.style.getPropertyValue("letter-spacing"),Ue=C(ae(qe,"word-spacing")||this.style.getPropertyValue("word-spacing"),Ze),Ye=de(ue),ct=Z(ce,this.style);return ge.multiline?this.lines(ct,ge,Ne).reduce((oe,we)=>{const Re=Ye.measureText(we).width+Ue(we);return Math.max(oe,Re)},0):Ye.measureText(ct).width+Ue(ct)}height(){const{text:ce,options:ge,styles:Ne}=this.parseArgs(...[].slice.call(arguments)),qe=Number.parseFloat(ae(Ne,"line-height")||this.style.getPropertyValue("line-height"));return Math.ceil(this.lines(ce,ge,Ne).length*qe||0)}lines(){const{text:ce,options:ge,overwrites:Ne,styles:qe}=this.parseArgs(...[].slice.call(arguments)),ue=z(this.style,qe);let Ze=Number.parseInt(ae(ge,"width")||ae(Ne,"width"),10)||ae(this.el,"offsetWidth",0)||Number.parseInt(ae(qe,"width",0),10)||Number.parseInt(this.style.width,10);Ze-=this.padding();const Ue=ae(qe,"word-break")||this.style.getPropertyValue("word-break"),Ye=ae(qe,"letter-spacing")||this.style.getPropertyValue("letter-spacing"),ct=ae(qe,"word-spacing")||this.style.getPropertyValue("word-spacing"),oe=de(ue),we=Z(ce,this.style);return Ue==="break-all"?Oe({ctx:oe,text:we,max:Ze,wordSpacing:ct,letterSpacing:Ye}):Fe({ctx:oe,text:we,max:Ze,wordSpacing:ct,letterSpacing:Ye})}maxFontSize(){const{text:ce,options:ge,overwrites:Ne,styles:qe}=this.parseArgs(...[].slice.call(arguments)),ue=oe=>Math.ceil(this.width(ce,ge,N(N({},qe),{},{"font-size":oe+"px"})));let Ze=Number.parseInt(ae(ge,"width")||ae(Ne,"width"),10)||ae(this.el,"offsetWidth",0)||Number.parseInt(ae(qe,"width",0),10)||Number.parseInt(this.style.width,10);Ze-=this.padding();let Ue=Math.floor(Ze/2),Ye=ue(Ue);if(Ue=Math.floor(Ue/Ye*Ze),Ye=ue(Ue),Math.ceil(Ye)===Ze)return Ue?Ue+"px":void 0;const ct=Ye>Ze&&Ue>0;for(;Ye>Ze&&Ue>0;)Ue-=1,Ye=ue(Ue);if(!ct)for(;Ye<Ze;){if(Ye=ue(Ue+1),Ye>Ze)return Ue?Ue+"px":void 0;Ue+=1}return Ue?Ue+"px":void 0}}const Je=N({},He);m.init=(_,ce)=>new Ke(_,ce),m.utils=Je})}}]);

//# sourceMappingURL=1961.7c66b5359a389dc38089.js.map
"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[610],{9771:(H,g,e)=>{var s,C=e(71600);s={value:!0},g.Z=void 0;var r=C(e(68671)),a=e(52322),l=(0,r.default)((0,a.jsx)("path",{fillRule:"evenodd",d:"M16 9V4h1c.55 0 1-.45 1-1s-.45-1-1-1H7c-.55 0-1 .45-1 1s.45 1 1 1h1v5c0 1.66-1.34 3-3 3v2h5.97v7l1 1 1-1v-7H19v-2c-1.66 0-3-1.34-3-3z"}),"PushPin");g.Z=l},60610:(H,g,e)=>{e.r(g),e.d(g,{default:()=>Re});var s=e(52322),C=e(9771),r=e(27728),a=e(38066),l=e(1309),d=e(14218),o=e(15400),E=e(14117),m=e(87037),R=e(82056),x=e(29800),S=e(80078),p=e(68434),n=e(8640),t=e(67067),f=e(4e4),h=e(28245),i=e(25513),v=e(2784),P=e(68181),M=e(8301),T=e(72970),z=e(8220),y=e(75785),L=e(29268),$=e(75017),D=e(82044),u=e(76479),j=e(93812),F=e(99549),b=e(39367),B=e(32300),Y=e(16709);function se(N,O){var Z=[];return(0,Y.Z)(N,function(I,V,K){O(I,V,K)&&Z.push(I)}),Z}const Q=se;var w=e(47426),ge=e(97885),me=e(86371);function he(N,O){var Z=(0,ge.Z)(N)?B.Z:Q;return Z(N,(0,me.Z)((0,w.Z)(O,3)))}const ye=he;function Ze(N,O,Z=I=>I===O){const I=ye(N,Z);return I.length===N.length&&I.push(O),I}var Ce=e(30165),G=e(39192),Ee=e(2784);const ie={ok:"success.main",warn:"warning.main",error:"error.main",stale:"text.secondary"},re=(0,T.ZL)()(N=>({listItemButton:{padding:0,[`.${r.Z.root}`]:{visibility:"hidden","&:hover":{backgroundColor:"transparent"}},[`.${a.Z.root}`]:{gap:N.spacing(1),display:"flex"},[`&:hover .${r.Z.root}`]:{visibility:"visible"}},select:{[`.${l.Z.input}.${d.Z.select}.${l.Z.inputSizeSmall}`]:{paddingTop:0,paddingBottom:0,minWidth:40},[`.${a.Z.root}`]:{marginTop:0,marginBottom:0}}})),xe=Ee.memo(function(O){const{info:Z,isPinned:I,onClick:V,onClickPin:K}=O,{classes:U}=re(),W=(0,v.useCallback)(()=>{V(Z)},[V,Z]),X=(0,v.useCallback)(()=>{K(Z)},[K,Z]),k=G.KD[Z.status.level];return(0,s.jsx)(o.ZP,{dense:!0,disablePadding:!0,"data-testid-diagnostic-row":!0,children:(0,s.jsxs)(E.Z,{className:U.listItemButton,disableGutters:!0,onClick:W,children:[(0,s.jsx)(m.Z,{size:"small",onClick:q=>{X(),q.stopPropagation()},style:I?{visibility:"visible"}:void 0,children:(0,s.jsx)(C.Z,{fontSize:"small",color:I?"inherit":"disabled"})}),(0,s.jsx)(R.Z,{primary:Z.displayName,secondary:Z.status.message,secondaryTypographyProps:{color:ie[k??"stale"]},style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}})]})})}),Se=["diagnostic_msgs/DiagnosticArray","diagnostic_msgs/msg/DiagnosticArray","ros.diagnostic_msgs.DiagnosticArray"];function pe(N){const{config:O,saveConfig:Z}=N,{classes:I}=re(),{topics:V}=(0,y.Ui)(),{minLevel:K,topicToRender:U,pinnedIds:W,hardwareIdFilter:X,sortByLevel:k=!0}=O,{openSiblingPanel:q}=(0,D.R)(),le=(0,b.W0)(),de=(0,v.useCallback)(c=>{Z({pinnedIds:Ze(W,c.id)})},[W,Z]),ue=(0,v.useCallback)(c=>{q({panelType:"DiagnosticStatusPanel",siblingConfigCreator:()=>({selectedHardwareId:c.status.hardware_id,selectedName:c.status.name,topicToRender:U,collapsedSections:[]}),updateIfExists:!0})},[U,q]),ce=(0,v.useCallback)(c=>{const A=c.data[c.index];return(0,s.jsx)("div",{style:{...c.style},children:(0,s.jsx)(xe,{info:A,isPinned:W.includes(A.id),onClick:ue,onClickPin:de},A.id)})},[W,ue,de]),_=(0,v.useMemo)(()=>{const c=V.filter(A=>A.schemaName!=null&&Se.includes(A.schemaName)).map(A=>A.name);return f.Z([...c])},[V]),Ae=(0,v.useMemo)(()=>_.includes(U)?U:void 0,[_,U]),ee=(0,F.Z)(Ae),Te=(0,v.useMemo)(()=>{if(ee.size===0)return(0,s.jsxs)(L.Z,{children:["Waiting for ",(0,s.jsx)("code",{children:U})," messages"]});const c=(0,z.Z)(W,J=>{const[,ne,ve]=J.split("|");return ve==null||ne==null?void 0:ee.get(ne)?.get(ve)}),A=(0,G.ep)(ee),te=Array.from(A.keys()).sort().reverse(),ae=k?[].concat(...te.map(J=>(0,G.uE)(A.get(J)??[],X,W))):(0,G.uE)([].concat(...A.values()),X,W),oe=[...h.Z(c),...ae].filter(({status:J})=>J.level>=K);return oe.length===0?null:(0,s.jsx)(P.qj,{children:({height:J,width:ne})=>(0,s.jsx)(M.t7,{width:ne,height:J,style:{outline:"none"},itemSize:30,itemData:oe,itemCount:oe.length,overscanCount:10,children:ce})})},[ee,X,W,ce,k,K,U]),fe=(0,v.useCallback)(c=>{if(c.action!=="update")return;const{path:A,value:te}=c.payload;Z((0,t.Uy)(ae=>i.Z(ae,A.slice(1),te)))},[Z]);return(0,v.useEffect)(()=>{le({actionHandler:fe,nodes:(0,Ce.Y)(O,U,_)})},[fe,_,O,U,le]),(0,s.jsxs)(j.Z,{flex:"auto",children:[(0,s.jsx)(u.Z,{children:(0,s.jsxs)(j.Z,{flex:"auto",direction:"row",gap:1,children:[(0,s.jsx)(x.Z,{className:I.select,value:K,id:"status-filter-menu",color:"secondary",size:"small",onChange:c=>{Z({minLevel:c.target.value})},MenuProps:{MenuListProps:{dense:!0}},children:G.ON.map(c=>(0,s.jsx)(S.Z,{value:c,children:(0,s.jsx)(p.Z,{variant:"inherit",color:ie[G.KD[c]??"stale"],children:G.KD[c]?.toUpperCase()})},c))}),(0,s.jsx)(n.ZP,{value:X,placeholder:"Filter",onChange:c=>{Z({hardwareIdFilter:c.target.value})},style:{flex:"auto",font:"inherit"}})]})}),(0,s.jsx)(j.Z,{flex:"auto",children:Te})]})}const Pe={minLevel:0,pinnedIds:[],hardwareIdFilter:"",topicToRender:"/diagnostics",sortByLevel:!0},Re=(0,$.Z)(Object.assign(pe,{panelType:"DiagnosticSummary",defaultConfig:Pe}))},30165:(H,g,e)=>{e.d(g,{N:()=>C,Y:()=>s});function s(r,a,l){const d=l.map(m=>({label:m,value:m})),o=l.includes(a);o||d.unshift({value:a,label:a});const E=o?void 0:`Topic ${a} is not available`;return{general:{label:"General",fields:{topicToRender:{label:"Topic",input:"select",value:a,error:E,options:d},sortByLevel:{label:"Sort by level",input:"boolean",value:r.sortByLevel}}}}}function C(r,a,l){const d=l.map(m=>({label:m,value:m})),o=l.includes(r);o||d.unshift({value:r,label:r});const E=o?void 0:`Topic ${r} is not available`;return{general:{label:"General",fields:{topicToRender:{label:"Topic",input:"select",value:r,error:E,options:d},numericPrecision:{label:"Numeric precision",input:"number",min:0,max:17,precision:0,step:1,placeholder:"auto",value:a}}}}}},99549:(H,g,e)=>{e.d(g,{Z:()=>d});var s=e(2784),C=e(75785),r=e(39192);function a(o,E){let m=!1;for(const R of E){const{header:x,status:S}=R.message;for(const p of S){const n=(0,r.HE)(p,x.stamp),t=p.hardware_id,f=o.get(t);f==null?(m=!0,o.set(t,new Map([[p.name,n]]))):(m=!0,f.set(p.name,n))}}return m?new Map(o):o}const l=()=>new Map;function d(o){const E=(0,s.useMemo)(()=>o?[o]:[],[o]);return(0,C.CC)({topics:E,restore:l,addMessages:a})}},39192:(H,g,e)=>{e.d(g,{ON:()=>o,zq:()=>l,KD:()=>d,HE:()=>x,uE:()=>p,ep:()=>S,Gf:()=>R});var s=e(31119),C=e(28239);function r({options:n,filter:t,getText:f,sort:h=!0}){if(t==null||t==="")return n;const i=t.toLowerCase().replace(/[^a-z0-9]/g,"");if(i.length===0)return n;const v=[];for(const P of n){const M=f(P).toLowerCase();let T=-1,z=0;for(const y of i){if(T=M.indexOf(y,T+1),T===-1)break;z+=T}T!==-1&&v.push({option:P,score:z*M.length})}return h&&v.sort((P,M)=>P.score-M.score),v.map(P=>P.option)}const a=5e3,l={OK:0,WARN:1,ERROR:2,STALE:3},d={0:"ok",1:"warn",2:"error",3:"stale"},o=[0,1,2,3];function E(n){return n.startsWith("/")?n.slice(1):n}function m(n,t){const f=E(n);return t!=null?`|${f}|${t}|`:`|${f}|`}function R(n,t){return t.length>0?n.length>0?`${n}: ${t}`:`${t}`:n.length>0?`${n}`:"(empty)"}function x(n,t){const f=R(n.hardware_id,n.name);let h=n;return n.values.some(({value:i})=>i.length>a)&&(h={...n,values:n.values.map(i=>i.value.length>a?{key:i.key,value:s.Z(i.value,{length:a})}:i)}),{status:h,stamp:t,id:m(n.hardware_id,n.name),displayName:f}}function S(n){const t=new Map;for(const f of n.values())for(const h of f.values()){const i=t.get(h.status.level);i?i.push(h):t.set(h.status.level,[h])}return t}const p=(n,t,f)=>{const h=n.filter(({id:i})=>!f.includes(i));return t.length===0?C.Z(h,i=>i.displayName.replace(/^\//,"")):r({options:h,filter:t,getText:({displayName:i})=>i})}},81441:(H,g,e)=>{e.d(g,{Z:()=>r});var s=e(82472);function C(a,l,d){var o=a.length;return d=d===void 0?o:d,!l&&d>=o?a:(0,s.Z)(a,l,d)}const r=C},32690:(H,g,e)=>{e.d(g,{Z:()=>R});var s="\\ud800-\\udfff",C="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",a="\\u20d0-\\u20ff",l=C+r+a,d="\\ufe0e\\ufe0f",o="\\u200d",E=RegExp("["+o+s+l+d+"]");function m(x){return E.test(x)}const R=m},90241:(H,g,e)=>{e.d(g,{Z:()=>u});var s=e(95523),C=(0,s.Z)("length");const r=C;var a=e(32690),l="\\ud800-\\udfff",d="\\u0300-\\u036f",o="\\ufe20-\\ufe2f",E="\\u20d0-\\u20ff",m=d+o+E,R="\\ufe0e\\ufe0f",x="["+l+"]",S="["+m+"]",p="\\ud83c[\\udffb-\\udfff]",n="(?:"+S+"|"+p+")",t="[^"+l+"]",f="(?:\\ud83c[\\udde6-\\uddff]){2}",h="[\\ud800-\\udbff][\\udc00-\\udfff]",i="\\u200d",v=n+"?",P="["+R+"]?",M="(?:"+i+"(?:"+[t,f,h].join("|")+")"+P+v+")*",T=P+v+M,z="(?:"+[t+S+"?",S,f,h,x].join("|")+")",y=RegExp(p+"(?="+p+")|"+z+T,"g");function L(j){for(var F=y.lastIndex=0;y.test(j);)++F;return F}const $=L;function D(j){return(0,a.Z)(j)?$(j):r(j)}const u=D},222:(H,g,e)=>{e.d(g,{Z:()=>D});function s(u){return u.split("")}const C=s;var r=e(32690),a="\\ud800-\\udfff",l="\\u0300-\\u036f",d="\\ufe20-\\ufe2f",o="\\u20d0-\\u20ff",E=l+d+o,m="\\ufe0e\\ufe0f",R="["+a+"]",x="["+E+"]",S="\\ud83c[\\udffb-\\udfff]",p="(?:"+x+"|"+S+")",n="[^"+a+"]",t="(?:\\ud83c[\\udde6-\\uddff]){2}",f="[\\ud800-\\udbff][\\udc00-\\udfff]",h="\\u200d",i=p+"?",v="["+m+"]?",P="(?:"+h+"(?:"+[n,t,f].join("|")+")"+v+i+")*",M=v+i+P,T="(?:"+[n+x+"?",x,t,f,R].join("|")+")",z=RegExp(S+"(?="+S+")|"+T+M,"g");function y(u){return u.match(z)||[]}const L=y;function $(u){return(0,r.Z)(u)?L(u):C(u)}const D=$},31119:(H,g,e)=>{e.d(g,{Z:()=>z});var s=e(79200),C=e(81441),r=e(32690),a=e(93122),l=e(99001),d=e(43391),o="[object RegExp]";function E(y){return(0,d.Z)(y)&&(0,l.Z)(y)==o}const m=E;var R=e(93225),x=e(37755),S=x.Z&&x.Z.isRegExp,p=S?(0,R.Z)(S):m;const n=p;var t=e(90241),f=e(222),h=e(33286),i=e(25186),v=30,P="...",M=/\w*$/;function T(y,L){var $=v,D=P;if((0,a.Z)(L)){var u="separator"in L?L.separator:u;$="length"in L?(0,h.Z)(L.length):$,D="omission"in L?(0,s.Z)(L.omission):D}y=(0,i.Z)(y);var j=y.length;if((0,r.Z)(y)){var F=(0,f.Z)(y);j=F.length}if($>=j)return y;var b=$-(0,t.Z)(D);if(b<1)return D;var B=F?(0,C.Z)(F,0,b).join(""):y.slice(0,b);if(u===void 0)return B+D;if(F&&(b+=B.length-b),n(u)){if(y.slice(b).search(u)){var Y,se=B;for(u.global||(u=RegExp(u.source,(0,i.Z)(M.exec(u))+"g")),u.lastIndex=0;Y=u.exec(se);)var Q=Y.index;B=B.slice(0,Q===void 0?b:Q)}}else if(y.indexOf((0,s.Z)(u),b)!=b){var w=B.lastIndexOf(u);w>-1&&(B=B.slice(0,w))}return B+D}const z=T}}]);

//# sourceMappingURL=610.1d4c7dd1b69ba683e8c8.js.map